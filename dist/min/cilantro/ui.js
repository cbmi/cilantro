define("date",[],function(){Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}},Date.getMonthNumberFromName=function(t){for(var e=Date.CultureInfo.monthNames,i=Date.CultureInfo.abbreviatedMonthNames,n=t.toLowerCase(),r=0;e.length>r;r++)if(e[r].toLowerCase()==n||i[r].toLowerCase()==n)return r;return-1},Date.getDayNumberFromName=function(t){for(var e=Date.CultureInfo.dayNames,i=Date.CultureInfo.abbreviatedDayNames,n=(Date.CultureInfo.shortestDayNames,t.toLowerCase()),r=0;e.length>r;r++)if(e[r].toLowerCase()==n||i[r].toLowerCase()==n)return r;return-1},Date.isLeapYear=function(t){return 0===t%4&&0!==t%100||0===t%400},Date.getDaysInMonth=function(t,e){return[31,Date.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},Date.getTimezoneOffset=function(t,e){return e?Date.CultureInfo.abbreviatedTimeZoneDST[t.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[t.toUpperCase()]},Date.getTimezoneAbbreviation=function(t,e){var i,n=e?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(i in n)if(n[i]===t)return i;return null},Date.prototype.clone=function(){return new Date(this.getTime())},Date.prototype.compareTo=function(t){if(isNaN(this))throw Error(this);if(t instanceof Date&&!isNaN(t))return this>t?1:t>this?-1:0;throw new TypeError(t)},Date.prototype.equals=function(t){return 0===this.compareTo(t)},Date.prototype.between=function(t,e){var i=this.getTime();return i>=t.getTime()&&e.getTime()>=i},Date.prototype.addMilliseconds=function(t){return this.setMilliseconds(this.getMilliseconds()+t),this},Date.prototype.addSeconds=function(t){return this.addMilliseconds(1e3*t)},Date.prototype.addMinutes=function(t){return this.addMilliseconds(6e4*t)},Date.prototype.addHours=function(t){return this.addMilliseconds(36e5*t)},Date.prototype.addDays=function(t){return this.addMilliseconds(864e5*t)},Date.prototype.addWeeks=function(t){return this.addMilliseconds(6048e5*t)},Date.prototype.addMonths=function(t){var e=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+t),this.setDate(Math.min(e,this.getDaysInMonth())),this},Date.prototype.addYears=function(t){return this.addMonths(12*t)},Date.prototype.add=function(t){if("number"==typeof t)return this._orient=t,this;var e=t;return(e.millisecond||e.milliseconds)&&this.addMilliseconds(e.millisecond||e.milliseconds),(e.second||e.seconds)&&this.addSeconds(e.second||e.seconds),(e.minute||e.minutes)&&this.addMinutes(e.minute||e.minutes),(e.hour||e.hours)&&this.addHours(e.hour||e.hours),(e.month||e.months)&&this.addMonths(e.month||e.months),(e.year||e.years)&&this.addYears(e.year||e.years),(e.day||e.days)&&this.addDays(e.day||e.days),this},Date._validate=function(t,e,i,n){if("number"!=typeof t)throw new TypeError(t+" is not a Number.");if(e>t||t>i)throw new RangeError(t+" is not a valid value for "+n+".");return!0},Date.validateMillisecond=function(t){return Date._validate(t,0,999,"milliseconds")},Date.validateSecond=function(t){return Date._validate(t,0,59,"seconds")},Date.validateMinute=function(t){return Date._validate(t,0,59,"minutes")},Date.validateHour=function(t){return Date._validate(t,0,23,"hours")},Date.validateDay=function(t,e,i){return Date._validate(t,1,Date.getDaysInMonth(e,i),"days")},Date.validateMonth=function(t){return Date._validate(t,0,11,"months")},Date.validateYear=function(t){return Date._validate(t,1,9999,"seconds")},Date.prototype.set=function(t){var e=t;return e.millisecond||0===e.millisecond||(e.millisecond=-1),e.second||0===e.second||(e.second=-1),e.minute||0===e.minute||(e.minute=-1),e.hour||0===e.hour||(e.hour=-1),e.day||0===e.day||(e.day=-1),e.month||0===e.month||(e.month=-1),e.year||0===e.year||(e.year=-1),-1!=e.millisecond&&Date.validateMillisecond(e.millisecond)&&this.addMilliseconds(e.millisecond-this.getMilliseconds()),-1!=e.second&&Date.validateSecond(e.second)&&this.addSeconds(e.second-this.getSeconds()),-1!=e.minute&&Date.validateMinute(e.minute)&&this.addMinutes(e.minute-this.getMinutes()),-1!=e.hour&&Date.validateHour(e.hour)&&this.addHours(e.hour-this.getHours()),-1!==e.month&&Date.validateMonth(e.month)&&this.addMonths(e.month-this.getMonth()),-1!=e.year&&Date.validateYear(e.year)&&this.addYears(e.year-this.getFullYear()),-1!=e.day&&Date.validateDay(e.day,this.getFullYear(),this.getMonth())&&this.addDays(e.day-this.getDate()),e.timezone&&this.setTimezone(e.timezone),e.timezoneOffset&&this.setTimezoneOffset(e.timezoneOffset),this},Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.prototype.isLeapYear=function(){var t=this.getFullYear();return 0===t%4&&0!==t%100||0===t%400},Date.prototype.isWeekday=function(){return!(this.is().sat()||this.is().sun())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})},Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})},Date.prototype.moveToDayOfWeek=function(t,e){var i=(t-this.getDay()+7*(e||1))%7;return this.addDays(0===i?i+=7*(e||1):i)},Date.prototype.moveToMonth=function(t,e){var i=(t-this.getMonth()+12*(e||1))%12;return this.addMonths(0===i?i+=12*(e||1):i)},Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864e5)},Date.prototype.getWeekOfYear=function(t){var e=this.getFullYear(),i=this.getMonth(),n=this.getDate(),r=t||Date.CultureInfo.firstDayOfWeek,o=8-new Date(e,0,1).getDay();8==o&&(o=1);var s=(Date.UTC(e,i,n,0,0,0)-Date.UTC(e,0,1,0,0,0))/864e5+1,a=Math.floor((s-o+7)/7);if(a===r){e--;var l=8-new Date(e,0,1).getDay();a=2==l||8==l?53:52}return a},Date.prototype.isDST=function(){return console.log("isDST"),"D"==(""+this).match(/(E|C|M|P)(S|D)T/)[2]},Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())},Date.prototype.setTimezoneOffset=function(t){var e=this.getTimezoneOffset(),i=-6*Number(t)/10;return this.addMinutes(i-e),this},Date.prototype.setTimezone=function(t){return this.setTimezoneOffset(Date.getTimezoneOffset(t))},Date.prototype.getUTCOffset=function(){var t,e=-10*this.getTimezoneOffset()/6;return 0>e?(t=""+(e-1e4),t[0]+t.substr(2)):(t=""+(e+1e4),"+"+t.substr(1))},Date.prototype.getDayName=function(t){return t?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]},Date.prototype.getMonthName=function(t){return t?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]},Date.prototype._toString=Date.prototype.toString,Date.prototype.toString=function(t){var e=this,i=function i(t){return 1==(""+t).length?"0"+t:t};return t?t.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(t){switch(t){case"hh":return i(13>e.getHours()?e.getHours():e.getHours()-12);case"h":return 13>e.getHours()?e.getHours():e.getHours()-12;case"HH":return i(e.getHours());case"H":return e.getHours();case"mm":return i(e.getMinutes());case"m":return e.getMinutes();case"ss":return i(e.getSeconds());case"s":return e.getSeconds();case"yyyy":return e.getFullYear();case"yy":return(""+e.getFullYear()).substring(2,4);case"dddd":return e.getDayName();case"ddd":return e.getDayName(!0);case"dd":return i(e.getDate());case"d":return""+e.getDate();case"MMMM":return e.getMonthName();case"MMM":return e.getMonthName(!0);case"MM":return i(e.getMonth()+1);case"M":return e.getMonth()+1;case"t":return 12>e.getHours()?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return 12>e.getHours()?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()},Date.now=function(){return new Date},Date.today=function(){return Date.now().clearTime()},Date.prototype._orient=1,Date.prototype.next=function(){return this._orient=1,this},Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){return this._orient=-1,this},Date.prototype._is=!1,Date.prototype.is=function(){return this._is=!0,this},Number.prototype._dateElement="day",Number.prototype.fromNow=function(){var t={};return t[this._dateElement]=this,Date.now().add(t)},Number.prototype.ago=function(){var t={};return t[this._dateElement]=-1*this,Date.now().add(t)},function(){for(var t,e=Date.prototype,i=Number.prototype,n="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),r="january february march april may june july august september october november december".split(/\s/),o="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),s=function(t){return function(){return this._is?(this._is=!1,this.getDay()==t):this.moveToDayOfWeek(t,this._orient)}},a=0;n.length>a;a++)e[n[a]]=e[n[a].substring(0,3)]=s(a);for(var l=function(t){return function(){return this._is?(this._is=!1,this.getMonth()===t):this.moveToMonth(t,this._orient)}},h=0;r.length>h;h++)e[r[h]]=e[r[h].substring(0,3)]=l(h);for(var c=function(t){return function(){return"s"!=t.substring(t.length-1)&&(t+="s"),this["add"+t](this._orient)}},u=function(t){return function(){return this._dateElement=t,this}},d=0;o.length>d;d++)t=o[d].toLowerCase(),e[t]=e[t+"s"]=c(o[d]),i[t]=i[t+"s"]=u(t)}(),Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")},Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)},Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)},Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)},Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)},Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},function(){Date.Parsing={Exception:function(t){this.message="Parse error at '"+t.substring(0,10)+" ...'"}};for(var t=Date.Parsing,e=t.Operators={rtoken:function(e){return function(i){var n=i.match(e);if(n)return[n[0],i.substring(n[0].length)];throw new t.Exception(i)}},token:function(){return function(t){return e.rtoken(RegExp("^s*"+t+"s*"))(t)}},stoken:function(t){return e.rtoken(RegExp("^"+t))},until:function(t){return function(e){for(var i=[],n=null;e.length;){try{n=t.call(this,e)}catch(r){i.push(n[0]),e=n[1];continue}break}return[i,e]}},many:function(t){return function(e){for(var i=[],n=null;e.length;){try{n=t.call(this,e)}catch(r){return[i,e]}i.push(n[0]),e=n[1]}return[i,e]}},optional:function(t){return function(e){var i=null;try{i=t.call(this,e)}catch(n){return[null,e]}return[i[0],i[1]]}},not:function(e){return function(i){try{e.call(this,i)}catch(n){return[null,i]}throw new t.Exception(i)}},ignore:function(t){return t?function(e){var i=null;return i=t.call(this,e),[null,i[1]]}:null},product:function(){for(var t=arguments[0],i=Array.prototype.slice.call(arguments,1),n=[],r=0;t.length>r;r++)n.push(e.each(t[r],i));return n},cache:function(e){var i={},n=null;return function(r){try{n=i[r]=i[r]||e.call(this,r)}catch(o){n=i[r]=o}if(n instanceof t.Exception)throw n;return n}},any:function(){var e=arguments;return function(i){for(var n=null,r=0;e.length>r;r++)if(null!=e[r]){try{n=e[r].call(this,i)}catch(o){n=null}if(n)return n}throw new t.Exception(i)}},each:function(){var e=arguments;return function(i){for(var n=[],r=null,o=0;e.length>o;o++)if(null!=e[o]){try{r=e[o].call(this,i)}catch(s){throw new t.Exception(i)}n.push(r[0]),i=r[1]}return[n,i]}},all:function(){var t=arguments,e=e;return e.each(e.optional(t))},sequence:function(i,n,r){return n=n||e.rtoken(/^\s*/),r=r||null,1==i.length?i[0]:function(e){for(var o=null,s=null,a=[],l=0;i.length>l;l++){try{o=i[l].call(this,e)}catch(h){break}a.push(o[0]);try{s=n.call(this,o[1])}catch(c){s=null;break}e=s[1]}if(!o)throw new t.Exception(e);if(s)throw new t.Exception(s[1]);if(r)try{o=r.call(this,o[1])}catch(u){throw new t.Exception(o[1])}return[a,o?o[1]:e]}},between:function(t,i,n){n=n||t;var o=e.each(e.ignore(t),i,e.ignore(n));return function(t){var e=o.call(this,t);return[[e[0][0],r[0][2]],e[1]]}},list:function(t,i,n){return i=i||e.rtoken(/^\s*/),n=n||null,t instanceof Array?e.each(e.product(t.slice(0,-1),e.ignore(i)),t.slice(-1),e.ignore(n)):e.each(e.many(e.each(t,e.ignore(i))),px,e.ignore(n))},set:function(i,n,r){return n=n||e.rtoken(/^\s*/),r=r||null,function(o){for(var s=null,a=null,l=null,h=null,c=[[],o],u=!1,d=0;i.length>d;d++){l=null,a=null,s=null,u=1==i.length;try{s=i[d].call(this,o)}catch(p){continue}if(h=[[s[0]],s[1]],s[1].length>0&&!u)try{l=n.call(this,s[1])}catch(f){u=!0}else u=!0;if(u||0!==l[1].length||(u=!0),!u){for(var g=[],m=0;i.length>m;m++)d!=m&&g.push(i[m]);a=e.set(g,n).call(this,l[1]),a[0].length>0&&(h[0]=h[0].concat(a[0]),h[1]=a[1])}if(h[1].length<c[1].length&&(c=h),0===c[1].length)break}if(0===c[0].length)return c;if(r){try{l=r.call(this,c[1])}catch(y){throw new t.Exception(c[1])}c[1]=l[1]}return c}},forward:function(t,e){return function(i){return t[e].call(this,i)}},replace:function(t,e){return function(i){var n=t.call(this,i);return[e,n[1]]}},process:function(t,e){return function(i){var n=t.call(this,i);return[e.call(this,n[0]),n[1]]}},min:function(e,i){return function(n){var r=i.call(this,n);if(e>r[0].length)throw new t.Exception(n);return r}}},i=function(t){return function(){var e=null,i=[];if(arguments.length>1?e=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(e=arguments[0]),!e)return t.apply(null,arguments);for(var n=0,r=e.shift();r.length>n;n++)return e.unshift(r[n]),i.push(t.apply(null,e)),e.shift(),i}},n="optional not ignore cache".split(/\s/),o=0;n.length>o;o++)e[n[o]]=i(e[n[o]]);for(var s=function(t){return function(){return arguments[0]instanceof Array?t.apply(null,arguments[0]):t.apply(null,arguments)}},a="each any all".split(/\s/),l=0;a.length>l;l++)e[a[l]]=s(e[a[l]])}(),function(){var t=function(e){for(var i=[],n=0;e.length>n;n++)e[n]instanceof Array?i=i.concat(t(e[n])):e[n]&&i.push(e[n]);return i};Date.Grammar={},Date.Translator={hour:function(t){return function(){this.hour=Number(t)}},minute:function(t){return function(){this.minute=Number(t)}},second:function(t){return function(){this.second=Number(t)}},meridian:function(t){return function(){this.meridian=t.slice(0,1).toLowerCase()}},timezone:function(t){return function(){var e=t.replace(/[^\d\+\-]/g,"");e.length?this.timezoneOffset=Number(e):this.timezone=t.toLowerCase()}},day:function(t){var e=t[0];return function(){this.day=Number(e.match(/\d+/)[0])}},month:function(t){return function(){this.month=3==t.length?Date.getMonthNumberFromName(t):Number(t)-1}},year:function(t){return function(){var e=Number(t);this.year=t.length>2?e:e+(Date.CultureInfo.twoDigitYearMax>e+2e3?2e3:1900)}},rday:function(t){return function(){switch(t){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(t){t=t instanceof Array?t:[t];var e=new Date;this.year=e.getFullYear(),this.month=e.getMonth(),this.day=1,this.hour=0,this.minute=0,this.second=0;for(var i=0;t.length>i;i++)t[i]&&t[i].call(this);if(this.hour="p"==this.meridian&&13>this.hour?this.hour+12:this.hour,this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var n=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?n.set({timezone:this.timezone}):this.timezoneOffset&&n.set({timezoneOffset:this.timezoneOffset}),n},finish:function(e){if(e=e instanceof Array?t(e):[e],0===e.length)return null;for(var i=0;e.length>i;i++)"function"==typeof e[i]&&e[i].call(this);if(this.now)return new Date;var n=Date.today(),r=!(null==this.days&&!this.orient&&!this.operator);if(r){var o,s,a;return a="past"==this.orient||"subtract"==this.operator?-1:1,this.weekday&&(this.unit="day",o=Date.getDayNumberFromName(this.weekday)-n.getDay(),s=7,this.days=o?(o+a*s)%s:a*s),this.month&&(this.unit="month",o=this.month-n.getMonth(),s=12,this.months=o?(o+a*s)%s:a*s,this.month=null),this.unit||(this.unit="day"),(null==this[this.unit+"s"]||null!=this.operator)&&(this.value||(this.value=1),"week"==this.unit&&(this.unit="day",this.value=7*this.value),this[this.unit+"s"]=this.value*a),n.add(this)}return this.meridian&&this.hour&&(this.hour=13>this.hour&&"p"==this.meridian?this.hour+12:this.hour),this.weekday&&!this.day&&(this.day=n.addDays(Date.getDayNumberFromName(this.weekday)-n.getDay()).getDate()),this.month&&!this.day&&(this.day=1),n.set(this)}};var e,i=Date.Parsing.Operators,n=Date.Grammar,r=Date.Translator;n.datePartDelimiter=i.rtoken(/^([\s\-\.\,\/\x27]+)/),n.timePartDelimiter=i.stoken(":"),n.whiteSpace=i.rtoken(/^\s*/),n.generalDelimiter=i.rtoken(/^(([\s\,]|at|on)+)/);var o={};n.ctoken=function(t){var e=o[t];if(!e){for(var n=Date.CultureInfo.regexPatterns,r=t.split(/\s+/),s=[],a=0;r.length>a;a++)s.push(i.replace(i.rtoken(n[r[a]]),r[a]));e=o[t]=i.any.apply(null,s)}return e},n.ctoken2=function(t){return i.rtoken(Date.CultureInfo.regexPatterns[t])},n.h=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),r.hour)),n.hh=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2])/),r.hour)),n.H=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),r.hour)),n.HH=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3])/),r.hour)),n.m=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),r.minute)),n.mm=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),r.minute)),n.s=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),r.second)),n.ss=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),r.second)),n.hms=i.cache(i.sequence([n.H,n.mm,n.ss],n.timePartDelimiter)),n.t=i.cache(i.process(n.ctoken2("shortMeridian"),r.meridian)),n.tt=i.cache(i.process(n.ctoken2("longMeridian"),r.meridian)),n.z=i.cache(i.process(i.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),r.timezone)),n.zz=i.cache(i.process(i.rtoken(/^(\+|\-)\s*\d\d\d\d/),r.timezone)),n.zzz=i.cache(i.process(n.ctoken2("timezone"),r.timezone)),n.timeSuffix=i.each(i.ignore(n.whiteSpace),i.set([n.tt,n.zzz])),n.time=i.each(i.optional(i.ignore(i.stoken("T"))),n.hms,n.timeSuffix),n.d=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1]|\d)/),i.optional(n.ctoken2("ordinalSuffix"))),r.day)),n.dd=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1])/),i.optional(n.ctoken2("ordinalSuffix"))),r.day)),n.ddd=n.dddd=i.cache(i.process(n.ctoken("sun mon tue wed thu fri sat"),function(t){return function(){this.weekday=t}})),n.M=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d|\d)/),r.month)),n.MM=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d)/),r.month)),n.MMM=n.MMMM=i.cache(i.process(n.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),r.month)),n.y=i.cache(i.process(i.rtoken(/^(\d\d?)/),r.year)),n.yy=i.cache(i.process(i.rtoken(/^(\d\d)/),r.year)),n.yyy=i.cache(i.process(i.rtoken(/^(\d\d?\d?\d?)/),r.year)),n.yyyy=i.cache(i.process(i.rtoken(/^(\d\d\d\d)/),r.year)),e=function(){return i.each(i.any.apply(null,arguments),i.not(n.ctoken2("timeContext")))},n.day=e(n.d,n.dd),n.month=e(n.M,n.MMM),n.year=e(n.yyyy,n.yy),n.orientation=i.process(n.ctoken("past future"),function(t){return function(){this.orient=t}}),n.operator=i.process(n.ctoken("add subtract"),function(t){return function(){this.operator=t}}),n.rday=i.process(n.ctoken("yesterday tomorrow today now"),r.rday),n.unit=i.process(n.ctoken("minute hour day week month year"),function(t){return function(){this.unit=t}}),n.value=i.process(i.rtoken(/^\d\d?(st|nd|rd|th)?/),function(t){return function(){this.value=t.replace(/\D/g,"")}}),n.expression=i.set([n.rday,n.operator,n.value,n.unit,n.orientation,n.ddd,n.MMM]),e=function(){return i.set(arguments,n.datePartDelimiter)},n.mdy=e(n.ddd,n.month,n.day,n.year),n.ymd=e(n.ddd,n.year,n.month,n.day),n.dmy=e(n.ddd,n.day,n.month,n.year),n.date=function(t){return(n[Date.CultureInfo.dateElementOrder]||n.mdy).call(this,t)},n.format=i.process(i.many(i.any(i.process(i.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(t){if(n[t])return n[t];throw Date.Parsing.Exception(t)}),i.process(i.rtoken(/^[^dMyhHmstz]+/),function(t){return i.ignore(i.stoken(t))}))),function(t){return i.process(i.each.apply(null,t),r.finishExact)});var s={},a=function(t){return s[t]=s[t]||n.format(t)[0]};n.formats=function(t){if(t instanceof Array){for(var e=[],n=0;t.length>n;n++)e.push(a(t[n]));return i.any.apply(null,e)}return a(t)},n._formats=n.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]),n._start=i.process(i.set([n.date,n.time,n.expression],n.generalDelimiter,n.whiteSpace),r.finish),n.start=function(t){try{var e=n._formats.call({},t);if(0===e[1].length)return e}catch(i){}return n._start.call({},t)}}(),Date._parse=Date.parse,Date.parse=function(t){var e=null;if(!t)return null;try{e=Date.Grammar.start.call({},t)}catch(i){return null}return 0===e[1].length?e[0]:null},Date.getParseFunction=function(t){var e=Date.Grammar.formats(t);return function(t){var i=null;try{i=e.call({},t)}catch(n){return null}return 0===i[1].length?i[0]:null}},Date.parseExact=function(t,e){return Date.getParseFunction(e)(t)}}),function(t,e){return"function"==typeof define&&define.amd?define("inputio",["jquery"],function(i){return t.InputIO=e(i)}):t.InputIO=e(t.jQuery)}(this,function(){var t,e,i,n,r,o,s,a,l,h,c,u,d,p,f;return l=$.isArray,d=function(t){return"number"===$.type(t)},u=function(t){return d(t)&&t!==+t},h=function(t){return"boolean"===$.type(t)},p=function(t){return"string"===$.type(t)},c=function(t){return"date"===$.type(t)},o=null!=Date.CultureInfo,a=function(t){return t.attr("data-type")||t.attr("type")},s=function(t){var e,n,r,o,s,l,h;if(o=!1,n=$(t).not(":disabled"),n.is("input[type=checkbox]")&&n.length>1&&(o=!0),n.is("input[type=radio],input[type=checkbox]")&&(n=n.filter(":checked")),n.is("select[multiple]"))o=!0,s=i(n.val(),a(n));else if(o||n.length>1)for(o=!0,s=[],l=0,h=n.length;h>l;l++)r=n[l],e=$(r),s.push(i(e.val(),a(e)));else s=i(n.val(),a(n));return(null==s||""===s)&&(s=o?[]:null),s},f=function(t,e){var i,n,r,o,s,a;if(r=!1,i=$(t),i.is("select[multiple],input[type=radio],input[type=checkbox]")&&(r=!0),!r&&i.length>1)for(l(e)||(e=[e]),n=s=0,a=e.length;a>s;n=++s)o=e[n],$(i[n]).val(o);else r&&!l(e)?e=[e]:!r&&l(e)&&(e=e[0]),i.val(e)},n=function(t){if(!o)throw Error("date.js must be installed to properly dates");return Date.parse(t)},r={"boolean":function(t){return Boolean(t)},number:function(t){return parseFloat(t)},string:function(t){return""+t},date:n,datetime:n,time:n},i=function(t,e){var n,o;return null==t?null:(l(t)?(n=function(){var n,r,s;for(s=[],n=0,r=t.length;r>n;n++)o=t[n],s.push(i(o,e));return s}(),t=n.length?n:null):null!=r[e]&&(t=r[e](t)),""===t||u(t)?null:t)},e={"boolean":h,number:d,string:p,date:c,datetime:c,time:c},t=function(t,i){return null!=e[i]?e[i](t):!0},{get:s,set:f,coerce:i,coercers:r,check:t,checkers:e}}),define("plugins/backbone-marionette",["../jquery","../underscore","../backbone"],function(t,e,i){i.ChildViewContainer=function(t,e){var i=function(t){this._views={},this._indexByModel={},this._indexByCollection={},this._indexByCustom={},this._updateLength(),this._addInitialViews(t)};e.extend(i.prototype,{add:function(t,e){var i=t.cid;this._views[i]=t,t.model&&(this._indexByModel[t.model.cid]=i),t.collection&&(this._indexByCollection[t.collection.cid]=i),e&&(this._indexByCustom[e]=i),this._updateLength()},findByModel:function(t){var e=this._indexByModel[t.cid];return this.findByCid(e)},findByCollection:function(t){var e=this._indexByCollection[t.cid];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){var e=t.cid;t.model&&delete this._indexByModel[t.model.cid],t.collection&&delete this._indexByCollection[t.collection.cid];var i;for(var n in this._indexByCustom)if(this._indexByCustom.hasOwnProperty(n)&&this._indexByCustom[n]===e){i=n;break}i&&delete this._indexByCustom[i],delete this._views[e],this._updateLength()},call:function(t,e){e=Array.prototype.slice.call(arguments,1),this.apply(t,e)},apply:function(t,i){i=i||[],e.each(this._views,function(n){e.isFunction(n[t])&&n[t].apply(n,i)})},_updateLength:function(){this.length=e.size(this._views)},_addInitialViews:function(t){if(t){var e,i,n=t.length;for(i=0;n>i;i++)e=t[i],this.add(e)}}});var n=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return e.each(n,function(t){i.prototype[t]=function(){var i=e.values(this._views),n=[i].concat(e.toArray(arguments));return e[t].apply(e,n)}}),i}(i,e),i.Wreqr=function(t,e,i){var n={};return n.Handlers=function(t,e){var i=function(){this._handlers={}};return i.extend=t.Model.extend,e.extend(i.prototype,{addHandler:function(t,e,i){var n={callback:e,context:i};this._handlers[t]=n},getHandler:function(t){var e=this._handlers[t];if(!e)throw Error("Handler not found for '"+t+"'");return function(){var t=Array.prototype.slice.apply(arguments);return e.callback.apply(e.context,t)}},removeHandler:function(t){delete this._handlers[t]},removeAllHandlers:function(){this._handlers={}}}),i}(t,i),n.Commands=function(t){return t.Handlers.extend({execute:function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);this.getHandler(t).apply(this,e)}})}(n),n.RequestResponse=function(t){return t.Handlers.extend({request:function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return this.getHandler(t).apply(this,e)}})}(n),n.EventAggregator=function(t,e){var i=function(){};return i.extend=t.Model.extend,e.extend(i.prototype,t.Events),i}(t,i),n}(i,i.Marionette,e);var n=function(t,e,i){var n={};t.Marionette=n;var r=Array.prototype.slice;return n.extend=t.Model.extend,n.getOption=function(t,e){if(t&&e){var i;return i=t.options&&e in t.options&&void 0!==t.options[e]?t.options[e]:t[e]}},n.createObject=function(){function t(){}var e;return e="function"==typeof Object.create?Object.create:function(e){t.prototype=e;var i=new t;return t.prototype=null,i}}(),n.triggerMethod=function(){for(var t,i,n=Array.prototype.slice.apply(arguments),r=n[0],o=r.split(":"),s="on",a=0;o.length>a;a++)t=o[a],i=t.charAt(0).toUpperCase(),s+=i+t.slice(1);return this.trigger.apply(this,n),e.isFunction(this[s])?(n.shift(),this[s].apply(this,n)):void 0},n.MonitorDOMRefresh=function(){function t(t){t._isShown=!0,n(t)}function i(t){t._isRendered=!0,n(t)}function n(t){t._isShown&&t._isRendered&&e.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}return function(e){e.listenTo(e,"show",function(){t(e)}),e.listenTo(e,"render",function(){i(e)})}}(),function(t){function i(t,i,n,r){var o=r.split(/\s+/);e.each(o,function(e){var r=t[e];if(!r)throw Error("Method '"+e+"' was configured as an event handler, but does not exist.");t.listenTo(i,n,r,t)})}function n(t,e,i,n){t.listenTo(e,i,n,t)}function r(t,i,n,r){var o=r.split(/\s+/);e.each(o,function(){var e=t[e];t.stopListening(i,n,e,t)})}function o(t,e,i,n){t.stopListening(e,i,n,t)}function s(t,i,n,r,o){i&&n&&(e.isFunction(n)&&(n=n.call(t)),e.each(n,function(n,s){e.isFunction(n)?r(t,i,s,n):o(t,i,s,n)}))}t.bindEntityEvents=function(t,e,r){s(t,e,r,n,i)},t.unbindEntityEvents=function(t,e,i){s(t,e,i,o,r)}}(n),n.Callbacks=function(){this._deferred=i.Deferred(),this._callbacks=[]},e.extend(n.Callbacks.prototype,{add:function(t,e){this._callbacks.push({cb:t,ctx:e}),this._deferred.done(function(i,n){e&&(i=e),t.call(i,n)})},run:function(t,e){this._deferred.resolve(e,t)},reset:function(){var t=this,n=this._callbacks;this._deferred=i.Deferred(),this._callbacks=[],e.each(n,function(e){t.add(e.cb,e.ctx)})}}),n.Controller=function(t){this.triggerMethod=n.triggerMethod,this.options=t||{},e.isFunction(this.initialize)&&this.initialize(this.options)},n.Controller.extend=n.extend,e.extend(n.Controller.prototype,t.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),n.Region=function(t){if(this.options=t||{},this.el=n.getOption(this,"el"),!this.el){var e=Error("An 'el' must be specified for a region.");throw e.name="NoElError",e}if(this.initialize){var i=Array.prototype.slice.apply(arguments);this.initialize.apply(this,i)}},e.extend(n.Region,{buildRegion:function(t,e){var i="string"==typeof t,n="string"==typeof t.selector,r=t.regionType===void 0,o="function"==typeof t;if(!o&&!i&&!n)throw Error("Region must be specified as a Region type, a selector string or an object with selector property");var s,a;i&&(s=t),t.selector&&(s=t.selector),o&&(a=t),!o&&r&&(a=e),t.regionType&&(a=t.regionType);var l=new a({el:s});return l}}),e.extend(n.Region.prototype,t.Events,{show:function(t){this.ensureEl(),this.close(),t.render(),this.open(t),n.triggerMethod.call(t,"show"),n.triggerMethod.call(this,"show",t),this.currentView=t},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(t){return i(t)},open:function(t){this.$el.empty().append(t.el)},close:function(){var t=this.currentView;t&&!t.isClosed&&(t.close&&t.close(),n.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(t){this.currentView=t},reset:function(){this.close(),delete this.$el}}),n.Region.extend=n.extend,n.TemplateCache=function(t){this.templateId=t},e.extend(n.TemplateCache,{templateCaches:{},get:function(t){var e=this.templateCaches[t];return e||(e=new n.TemplateCache(t),this.templateCaches[t]=e),e.load()},clear:function(){var t,e=Array.prototype.slice.apply(arguments),i=e.length;if(i>0)for(t=0;i>t;t++)delete this.templateCaches[e[t]];else this.templateCaches={}}}),e.extend(n.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var t=this.loadTemplate(this.templateId);
return this.compiledTemplate=this.compileTemplate(t),this.compiledTemplate},loadTemplate:function(t){var e=i(t).html();if(!e||0===e.length){var n="Could not find template: '"+t+"'",r=Error(n);throw r.name="NoTemplateError",r}return e},compileTemplate:function(t){return e.template(t)}}),n.Renderer={render:function(t,e){var i="function"==typeof t?t:n.TemplateCache.get(t),r=i(e);return r}},n.View=t.View.extend({constructor:function(){e.bindAll(this,"render");var i=Array.prototype.slice.apply(arguments);t.View.prototype.constructor.apply(this,i),n.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:n.triggerMethod,getTemplate:function(){return n.getOption(this,"template")},mixinTemplateHelpers:function(t){t=t||{};var i=this.templateHelpers;return e.isFunction(i)&&(i=i.call(this)),e.extend(t,i)},configureTriggers:function(){if(this.triggers){var t=this,i={},n=e.result(this,"triggers");return e.each(n,function(e,n){i[n]=function(i){i&&i.preventDefault&&i.preventDefault(),i&&i.stopPropagation&&i.stopPropagation();var n={view:this,model:this.model,collection:this.collection};t.triggerMethod(e,n)}}),i}},delegateEvents:function(t){this._delegateDOMEvents(t),n.bindEntityEvents(this,this.model,n.getOption(this,"modelEvents")),n.bindEntityEvents(this,this.collection,n.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(i){i=i||this.events,e.isFunction(i)&&(i=i.call(this));var n={},r=this.configureTriggers();e.extend(n,i,r),t.View.prototype.delegateEvents.call(this,n)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),n.unbindEntityEvents(this,this.model,n.getOption(this,"modelEvents")),n.unbindEntityEvents(this,this.collection,n.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(!this.isClosed){var t=this.triggerMethod("before:close");t!==!1&&(this.isClosed=!0,this.triggerMethod("close"),this.remove())}},bindUIElements:function(){if(this.ui){var t=this;this.uiBindings||(this.uiBindings=e.result(this,"ui")),this.ui={},e.each(e.keys(this.uiBindings),function(e){var i=t.uiBindings[e];t.ui[e]=t.$(i)})}}}),n.ItemView=n.View.extend({constructor:function(){var t=Array.prototype.slice.apply(arguments);n.View.prototype.constructor.apply(this,t)},serializeData:function(){var t={};return this.model?t=this.model.toJSON():this.collection&&(t={items:this.collection.toJSON()}),t},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var t=this.serializeData();t=this.mixinTemplateHelpers(t);var e=this.getTemplate(),i=n.Renderer.render(e,t);return this.$el.html(i),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){if(!this.isClosed){this.triggerMethod("item:before:close");var t=Array.prototype.slice.apply(arguments);n.View.prototype.close.apply(this,t),this.triggerMethod("item:closed")}}}),n.CollectionView=n.View.extend({itemViewEventPrefix:"itemview",constructor:function(){this._initChildViewStorage();var t=Array.prototype.slice.apply(arguments);n.View.prototype.constructor.apply(this,t),this._initialEvents()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(t){this.closeEmptyView();var e=this.getItemView(t),i=this.collection.indexOf(t);this.addItemView(t,e,i)},onShowCalled:function(){this.children.each(function(t){n.triggerMethod.call(t,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.closeEmptyView(),this.closeChildren(),this.collection&&this.collection.length>0?this.showCollection():this.showEmptyView()},showCollection:function(){var t,e=this;this.collection.each(function(i,n){t=e.getItemView(i),e.addItemView(i,t,n)})},showEmptyView:function(){var e=n.getOption(this,"emptyView");if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var i=new t.Model;this.addItemView(i,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getItemView:function(){var t=n.getOption(this,"itemView");if(!t){var e=Error("An `itemView` must be specified");throw e.name="NoItemViewError",e}return t},addItemView:function(t,i,r){var o=n.getOption(this,"itemViewOptions");e.isFunction(o)&&(o=o.call(this,t));var s=this.buildItemView(t,i,o);this.addChildViewEventForwarding(s),this.triggerMethod("before:item:added",s),this.children.add(s),this.renderItemView(s,r),this._isShown&&n.triggerMethod.call(s,"show"),this.triggerMethod("after:item:added",s)},addChildViewEventForwarding:function(t){var e=n.getOption(this,"itemViewEventPrefix");this.listenTo(t,"all",function(){var i=r.call(arguments);i[0]=e+":"+i[0],i.splice(1,0,t),n.triggerMethod.apply(this,i)},this)},renderItemView:function(t,e){t.render(),this.appendHtml(this,t,e)},buildItemView:function(t,i,n){var r=e.extend({model:t},n),o=new i(r);return o},removeItemView:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this.checkEmpty()},removeChildView:function(t){t&&(this.stopListening(t),t.close&&t.close(),this.children.remove(t)),this.triggerMethod("item:removed",t)},checkEmpty:function(){this.collection&&0!==this.collection.length||this.showEmptyView()},appendHtml:function(t,e){t.$el.append(e.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){if(!this.isClosed){this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed");var t=Array.prototype.slice.apply(arguments);n.View.prototype.close.apply(this,t)}},closeChildren:function(){this.children.each(function(t){this.removeChildView(t)},this),this.checkEmpty()}}),n.CompositeView=n.CollectionView.extend({constructor:function(){var t=Array.prototype.slice.apply(arguments);n.CollectionView.apply(this,t),this.itemView=this.getItemView()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))},getItemView:function(){var t=n.getOption(this,"itemView")||this.constructor;if(!t){var e=Error("An `itemView` must be specified");throw e.name="NoItemViewError",e}return t},serializeData:function(){var t={};return this.model&&(t=this.model.toJSON()),t},render:function(){this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var t=this.renderModel();return this.$el.html(t),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){n.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered")},renderCollection:function(){var t=Array.prototype.slice.apply(arguments);n.CollectionView.prototype.render.apply(this,t)},renderModel:function(){var t={};t=this.serializeData(),t=this.mixinTemplateHelpers(t);var e=this.getTemplate();return n.Renderer.render(e,t)},appendHtml:function(t,e){var i=this.getItemViewContainer(t);i.append(e.el)},getItemViewContainer:function(t){if("$itemViewContainer"in t)return t.$itemViewContainer;var i;if(t.itemViewContainer){var n=e.result(t,"itemViewContainer");if(i=t.$(n),0>=i.length){var r=Error("The specified `itemViewContainer` was not found: "+t.itemViewContainer);throw r.name="ItemViewContainerMissingError",r}}else i=t.$el;return t.$itemViewContainer=i,i},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),n.Layout=n.ItemView.extend({regionType:n.Region,constructor:function(){this._firstRender=!0,this.initializeRegions();var t=Array.prototype.slice.apply(arguments);n.ItemView.apply(this,t)},render:function(){this._firstRender?this._firstRender=!1:(this.closeRegions(),this.reInitializeRegions());var t=Array.prototype.slice.apply(arguments),e=n.ItemView.prototype.render.apply(this,t);return e},close:function(){if(!this.isClosed){this.closeRegions(),this.destroyRegions();var t=Array.prototype.slice.apply(arguments);n.ItemView.prototype.close.apply(this,t)}},initializeRegions:function(){this.regionManagers||(this.regionManagers={});var t=this,i=this.regions||{};e.each(i,function(e,i){var r=n.Region.buildRegion(e,t.regionType);r.getEl=function(e){return t.$(e)},t.regionManagers[i]=r,t[i]=r})},reInitializeRegions:function(){this.regionManagers&&0===e.size(this.regionManagers)?this.initializeRegions():e.each(this.regionManagers,function(t){t.reset()})},closeRegions:function(){e.each(this.regionManagers,function(t){t.close()})},destroyRegions:function(){var t=this;e.each(this.regionManagers,function(e,i){delete t[i]}),this.regionManagers={}}}),n.AppRouter=t.Router.extend({constructor:function(e){var i=Array.prototype.slice.apply(arguments);if(t.Router.prototype.constructor.apply(this,i),this.options=e,this.appRoutes){var r=n.getOption(this,"controller");this.processAppRoutes(r,this.appRoutes)}},processAppRoutes:function(t,i){var n,r,o,s,a,l=[],h=this;for(o in i)i.hasOwnProperty(o)&&l.unshift([o,i[o]]);for(s=l.length,a=0;s>a;a++){if(o=l[a][0],r=l[a][1],n=t[r],!n){var c="Method '"+r+"' was not found on the controller",u=Error(c);throw u.name="NoMethodError",u}n=e.bind(n,t),h.route(o,r,n)}}}),n.Application=function(i){this.initCallbacks=new n.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},e.extend(this,i),this.triggerMethod=n.triggerMethod},e.extend(n.Application.prototype,t.Events,{execute:function(){var t=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,t)},request:function(){var t=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,t)},addInitializer:function(t){this.initCallbacks.add(t)},start:function(t){this.triggerMethod("initialize:before",t),this.initCallbacks.run(t,this),this.triggerMethod("initialize:after",t),this.triggerMethod("start",t)},addRegions:function(t){var i=this;e.each(t,function(t,e){var r=n.Region.buildRegion(t,n.Region);i[e]=r})},removeRegion:function(t){this[t].close(),delete this[t]},module:function(){var t=r.call(arguments);return t.unshift(this),n.Module.create.apply(n.Module,t)}}),n.Application.extend=n.extend,n.Module=function(t,e){this.moduleName=t,this.submodules={},this._setupInitializersAndFinalizers(),this.app=e,this.startWithParent=!0,this.triggerMethod=n.triggerMethod},e.extend(n.Module.prototype,t.Events,{addInitializer:function(t){this._initializerCallbacks.add(t)},addFinalizer:function(t){this._finalizerCallbacks.add(t)},start:function(t){this._isInitialized||(e.each(this.submodules,function(e){var i=!0;i=e.startWithParent,i&&e.start(t)}),this.triggerMethod("before:start",t),this._initializerCallbacks.run(t,this),this._isInitialized=!0,this.triggerMethod("start",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,n.triggerMethod.call(this,"before:stop"),e.each(this.submodules,function(t){t.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),n.triggerMethod.call(this,"stop"))},addDefinition:function(t,e){this._runModuleDefinition(t,e)},_runModuleDefinition:function(r,o){if(r){var s=e.flatten([this,this.app,t,n,i,e,o]);r.apply(this,s)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new n.Callbacks,this._finalizerCallbacks=new n.Callbacks}}),e.extend(n.Module,{create:function(t,i,n){var o=this,s=t,a=r.apply(arguments);a.splice(0,3),i=i.split(".");var l=i.length,h=[];return h[l-1]=n,e.each(i,function(e,i){var n=s;s=o._getModule(n,e,t),o._addModuleDefinition(n,s,h[i],a)}),s},_getModule:function(t,e,i){var r=t[e];return r||(r=new n.Module(e,i),t[e]=r,t.submodules[e]=r),r},_addModuleDefinition:function(t,i,n,r){var o,s;e.isFunction(n)?(o=n,s=!0):e.isObject(n)?(o=n.define,s=n.startWithParent):s=!0,o&&i.addDefinition(o,r),i.startWithParent,i.startWithParent=i.startWithParent&&s,i.startWithParent&&!i.startWithParentIsConfigured&&(i.startWithParentIsConfigured=!0,t.addInitializer(function(t){i.startWithParent&&i.start(t)}))}}),n}(i,e,t||window.jQuery||window.Zepto||window.ender);return n}),define("highcharts",[],function(){function t(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t}function e(){for(var t=0,e=arguments,i=e.length,n={};i>t;t++)n[e[t++]]=e[t];return n}function i(t,e){return parseInt(t,e||10)}function n(t){return"string"==typeof t}function r(t){return"object"==typeof t}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function s(t){return"number"==typeof t}function a(t){return pe.log(t)/pe.LN10}function l(t){return pe.pow(10,t)}function h(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function c(t){return t!==U&&null!==t}function u(t,e,i){var o,s,a="setAttribute";if(n(e))c(i)?t[a](e,i):t&&t.getAttribute&&(s=t.getAttribute(e));else if(c(e)&&r(e))for(o in e)t[a](o,e[o]);return s}function d(t){return o(t)?t:[t]}function p(){var t,e,i=arguments,n=i.length;for(t=0;n>t;t++)if(e=i[t],e!==void 0&&null!==e)return e}function f(e,i){Me&&i&&i.opacity!==U&&(i.filter="alpha(opacity="+100*i.opacity+")"),t(e.style,i)}function g(e,i,n,r,o){var s=ue.createElement(e);return i&&t(s,i),o&&f(s,{padding:0,border:Ue,margin:0}),n&&f(s,n),r&&r.appendChild(s),s}function m(e,i){var n=function(){};return n.prototype=new e,t(n.prototype,i),n}function y(t){return t=""+(t||0),t.indexOf(".")>-1?t.split(".")[1].length:0}function v(t,e,n,r){var o=G.lang,s=t,a=-1===e?y(t):isNaN(e=be(e))?2:e,l=void 0===n?o.decimalPoint:n,h=void 0===r?o.thousandsSep:r,c=0>s?"-":"",u=i(s=be(+s||0).toFixed(a))+"",d=u.length>3?u.length%3:0;return c+(d?u.substr(0,d)+h:"")+u.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+h)+(a?l+be(s-u).toFixed(a).slice(2):"")}function b(t,e){return Array((e||2)+1-(t+"").length).join(0)+t}function x(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}}function w(t,e,i,n){var r,o;for(i=p(i,1),r=t/i,e||(e=[1,2,2.5,5,10],n&&n.allowDecimals===!1&&(1===i?e=[1,2,5,10]:.1>=i&&(e=[1/i]))),o=0;e.length>o&&(t=e[o],!((e[o]+(e[o+1]||e[o]))/2>=r));o++);return t*=i}function k(t,e){var i,n,r=e||[[Ke,[1,2,5,10,20,25,50,100,200,500]],[Qe,[1,2,5,10,15,30]],[ti,[1,2,5,10,15,30]],[ei,[1,2,3,4,6,8,12]],[ii,[1,2]],[ni,[1,2]],[ri,[1,2,3,4,6]],[oi,null]],o=r[r.length-1],s=K[o[0]],a=o[1];for(n=0;r.length>n;n++)if(o=r[n],s=K[o[0]],a=o[1],r[n+1]){var l=(s*a[a.length-1]+K[r[n+1][0]])/2;if(l>=t)break}return s===K[oi]&&5*s>t&&(a=[1,2,5]),s===K[oi]&&5*s>t&&(a=[1,2,5]),i=w(t/s,a),{unitRange:s,count:i,unitName:o[0]}}function C(e,i,n,r){var o,s,a=[],l={},h=G.global.useUTC,c=new Date(i),u=e.unitRange,d=e.count;u>=K[Qe]&&(c.setMilliseconds(0),c.setSeconds(u>=K[ti]?0:d*ge(c.getSeconds()/d))),u>=K[ti]&&c[se](u>=K[ei]?0:d*ge(c[te]()/d)),u>=K[ei]&&c[ae](u>=K[ii]?0:d*ge(c[ee]()/d)),u>=K[ii]&&c[le](u>=K[ri]?1:d*ge(c[ne]()/d)),u>=K[ri]&&(c[he](u>=K[oi]?0:d*ge(c[re]()/d)),s=c[oe]()),u>=K[oi]&&(s-=s%d,c[ce](s)),u===K[ni]&&c[le](c[ne]()-c[ie]()+p(r,1)),o=1,s=c[oe]();for(var f=c.getTime(),g=c[re](),m=c[ne](),y=h?0:(864e5+1e3*60*c.getTimezoneOffset())%864e5;n>f;)a.push(f),u===K[oi]?f=Q(s+o*d,0):u===K[ri]?f=Q(s,g+o*d):h||u!==K[ii]&&u!==K[ni]?(f+=u*d,K[ei]>=u&&f%K[ii]===y&&(l[f]=ii)):f=Q(s,g,m+o*d*(u===K[ii]?1:7)),o++;return a.push(f),a.info=t(e,{higherRanks:l,totalRange:u*d}),a}function _(){this.color=0,this.symbol=0}function D(t,e){var i,n,r=t.length;for(n=0;r>n;n++)t[n].ss_i=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.ss_i-n.ss_i:i}),n=0;r>n;n++)delete t[n].ss_i}function M(t){for(var e=t.length,i=t[0];e--;)i>t[e]&&(i=t[e]);return i}function T(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function P(t,e){var i;for(i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function S(t){j||(j=g(He)),t&&j.appendChild(t),j.innerHTML=""}function A(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;de.console&&console.log(i)}function I(t){return parseFloat(t.toPrecision(14))}function O(t,e){Z=p(t,e.animation)}function L(){var t=G.global.useUTC,e=t?"getUTC":"get",i=t?"setUTC":"set";Q=t?Date.UTC:function(t,e,i,n,r,o){return new Date(t,e,p(i,1),p(n,0),p(r,0),p(o,0)).getTime()},te=e+"Minutes",ee=e+"Hours",ie=e+"Day",ne=e+"Date",re=e+"Month",oe=e+"FullYear",se=i+"Minutes",ae=i+"Hours",le=i+"Date",he=i+"Month",ce=i+"FullYear"}function E(t){return G=wi(G,t),L(),G}function N(){return G}function $(){}function z(t,e,i){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,i||this.addLabel()}function H(t,e){return this.axis=t,e&&(this.options=e,this.id=e.id),this}function F(t,e,i,n,r,o){var s=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.stack=r,this.percent="percent"===o,this.alignOptions={align:e.align||(s?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(s?"middle":i?"bottom":"top"),y:p(e.y,s?4:i?14:-6),x:p(e.x,s?i?-6:6:0)},this.textAlign=e.textAlign||(s?i?"right":"left":"center")}function W(){this.init.apply(this,arguments)}function B(t,e){var n=e.borderWidth,r=e.style,o=i(r.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape,null,null,e.useHTML,null,"tooltip").attr({padding:o,fill:e.backgroundColor,"stroke-width":n,r:e.borderRadius,zIndex:8}).css(r).css({padding:0}).hide().add(),Le||this.label.shadow(e.shadow),this.shared=e.shared}function R(t,e){var i=Le?"":e.chart.zoomType;this.zoomX=/x/.test(i),this.zoomY=/y/.test(i),this.options=e,this.chart=t,this.init(t,e.tooltip)}function Y(t){this.init(t)}function V(t,e){var i,n=t.series;t.series=null,i=wi(G,t),i.series=t.series=n;var o=i.chart,s=o.margin,a=r(s)?s:[s,s,s,s];this.optionsMarginTop=p(o.marginTop,a[0]),this.optionsMarginRight=p(o.marginRight,a[1]),this.optionsMarginBottom=p(o.marginBottom,a[2]),this.optionsMarginLeft=p(o.marginLeft,a[3]);var l=o.events;this.runChartClick=l&&!!l.click,this.callback=e,this.isResizing=0,this.options=i,this.axes=[],this.series=[],this.hasCartesianSeries=o.showAxes,this.init(l)}var U,X,j,G,q,Z,J,K,Q,te,ee,ie,ne,re,oe,se,ae,le,he,ce,ue=document,de=window,pe=Math,fe=pe.round,ge=pe.floor,me=pe.ceil,ye=pe.max,ve=pe.min,be=pe.abs,xe=pe.cos,we=pe.sin,ke=pe.PI,Ce=2*ke/360,_e=navigator.userAgent,De=de.opera,Me=/msie/i.test(_e)&&!De,Te=8===ue.documentMode,Pe=/AppleWebKit/.test(_e),Se=/Firefox/.test(_e),Ae="http://www.w3.org/2000/svg",Ie=!!ue.createElementNS&&!!ue.createElementNS(Ae,"svg").createSVGRect,Oe=Se&&4>parseInt(_e.split("Firefox/")[1],10),Le=!Ie&&!Me&&!!ue.createElement("canvas").getContext,Ee=ue.documentElement.ontouchstart!==U,Ne={},$e=0,ze=function(){},He="div",Fe="absolute",We="relative",Be="hidden",Re="highcharts-",Ye="visible",Ve="px",Ue="none",Xe="M",je="L",Ge="rgba(192,192,192,"+(Ie?1e-6:.002)+")",qe="",Ze="hover",Je="select",Ke="millisecond",Qe="second",ti="minute",ei="hour",ii="day",ni="week",ri="month",oi="year",si="fill",ai="linearGradient",li="stops",hi="stroke",ci="stroke-width",ui={};de.Highcharts={},q=function(t,e,i){if(!c(e)||isNaN(e))return"Invalid date";t=p(t,"%Y-%m-%d %H:%M:%S");var n,r=new Date(e),o=r[ee](),s=r[ie](),a=r[ne](),l=r[re](),h=r[oe](),u=G.lang,d=u.weekdays,f={a:d[s].substr(0,3),A:d[s],d:b(a),e:a,b:u.shortMonths[l],B:u.months[l],m:b(l+1),y:(""+h).substr(2,2),Y:h,H:b(o),I:b(o%12||12),l:o%12||12,M:b(r[te]()),p:12>o?"AM":"PM",P:12>o?"am":"pm",S:b(r.getSeconds()),L:b(fe(e%1e3),3)};for(n in f)t=t.replace("%"+n,f[n]);return i?t.substr(0,1).toUpperCase()+t.substr(1):t},_.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},K=e(Ke,1,Qe,1e3,ti,6e4,ei,36e5,ii,864e5,ni,6048e5,ri,2592e6,oi,31556952e3),J={init:function(t,e,i){e=e||"";var n,r,o,s,a,l=t.shift,h=e.indexOf("C")>-1,c=h?7:3,u=e.split(" "),d=[].concat(i),p=function(t){for(o=t.length;o--;)t[o]===Xe&&t.splice(o+1,0,t[o+1],t[o+2],t[o+1],t[o+2])};if(h&&(p(u),p(d)),t.isArea&&(s=u.splice(u.length-6,6),a=d.splice(d.length-6,6)),d.length/c>=l)for(;l--;)d=[].concat(d).splice(0,c).concat(d);if(t.shift=0,u.length)for(n=d.length;n>u.length;)r=[].concat(u).splice(u.length-c,c),h&&(r[c-6]=r[c-2],r[c-5]=r[c-1]),u=u.concat(r);return s&&(u=u.concat(s),d=d.concat(a)),[u,d]},step:function(t,e,i,n){var r,o=[],s=t.length;if(1===i)o=n;else if(s===e.length&&1>i)for(;s--;)r=parseFloat(t[s]),o[s]=isNaN(r)?t[s]:i*parseFloat(e[s]-r)+r;else o=e;return o}},function(e){de.HighchartsAdapter=de.HighchartsAdapter||e&&{init:function(t){var i,n=e.fx,r=n.step,o=e.Tween,s=o&&o.propHooks;e.extend(e.easing,{easeOutQuad:function(t,e,i,n,r){return-n*(e/=r)*(e-2)+i}}),e.each(["cur","_default","width","height"],function(t,e){var i,a,l=r;"cur"===e?l=n.prototype:"_default"===e&&o&&(l=s[e],e="set"),i=l[e],i&&(l[e]=function(n){return n=t?n:this,a=n.elem,a.attr?a.attr(n.prop,"cur"===e?U:n.now):i.apply(this,arguments)})}),i=function(e){var i,n=e.elem;e.started||(i=t.init(n,n.d,n.toD),e.start=i[0],e.end=i[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))},o?s.d={set:i}:r.d=i,this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(e.call(t[i],t[i],i,t)===!1)return i}},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,i){return e(t)[i]()},grep:e.grep,map:function(t,e){for(var i=[],n=0,r=t.length;r>n;n++)i[n]=e.call(t[n],t[n],n,t);return i},merge:function(){var t=arguments;return e.extend(!0,null,t[0],t[1],t[2],t[3])},offset:function(t){return e(t).offset()},addEvent:function(t,i,n){e(t).bind(i,n)},removeEvent:function(t,i,n){var r=ue.removeEventListener?"removeEventListener":"detachEvent";ue[r]&&!t[r]&&(t[r]=function(){}),e(t).unbind(i,n)},fireEvent:function(i,n,r,o){var s,a=e.Event(n),l="detached"+n;!Me&&r&&(delete r.layerX,delete r.layerY),t(a,r),i[n]&&(i[l]=i[n],i[n]=null),e.each(["preventDefault","stopPropagation"],function(t,e){var i=a[e];a[e]=function(){try{i.call(a)}catch(t){"preventDefault"===e&&(s=!0)}}}),e(i).trigger(a),i[l]&&(i[n]=i[l],i[l]=null),!o||a.isDefaultPrevented()||s||o(a)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===U&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,i,n){var r=e(t);i.d&&(t.toD=i.d,i.d=1),r.stop(),r.animate(i,n)},stop:function(t){e(t).stop()}}}(de.jQuery);var di=de.HighchartsAdapter,pi=di||{};di&&di.init.call(di,J);var fi=pi.adapterRun,gi=pi.getScript,mi=pi.inArray,yi=pi.each,vi=pi.grep,bi=pi.offset,xi=pi.map,wi=pi.merge,ki=pi.addEvent,Ci=pi.removeEvent,_i=pi.fireEvent,Di=pi.washMouseEvent,Mi=pi.animate,Ti=pi.stop,Pi={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};G={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/2.3.3/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/2.3.3/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:wi(Pi,{enabled:!1,formatter:function(){return this.y},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:Fe,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#3E576F",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#3E576F",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:Fe,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:We,top:"1em"},style:{position:Fe,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,shared:Le,snap:Ee?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var Si=G.plotOptions,Ai=Si.line;L();var Ii=function(t){function e(t){a=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(t),a?l=[i(a[1]),i(a[2]),i(a[3]),parseFloat(a[4],10)]:(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t),a&&(l=[i(a[1],16),i(a[2],16),i(a[3],16),1]))}function n(e){var i;return i=l&&!isNaN(l[0])?"rgb"===e?"rgb("+l[0]+","+l[1]+","+l[2]+")":"a"===e?l[3]:"rgba("+l.join(",")+")":t}function r(t){if(s(t)&&0!==t){var e;for(e=0;3>e;e++)l[e]+=i(255*t),0>l[e]&&(l[e]=0),l[e]>255&&(l[e]=255)}return this}function o(t){return l[3]=t,this}var a,l=[];return e(t),{get:n,brighten:r,setOpacity:o}};$.prototype={init:function(t,e){var i=this;i.element="span"===e?g(e):ue.createElementNS(Ae,e),i.renderer=t,i.attrSetters={}},animate:function(t,e,i){var n=p(e,Z,!0);Ti(this),n?(n=wi(n),i&&(n.complete=i),Mi(this,t,n)):(this.attr(t),i&&i())},attr:function(t,e){var r,o,s,a,l,h,d,p,f,g=this,m=g.element,y=m.nodeName.toLowerCase(),v=g.renderer,b=g.attrSetters,x=g.shadows,w=g;if(n(t)&&c(e)&&(r=t,t={},t[r]=e),n(t))r=t,"circle"===y?r={x:"cx",y:"cy"}[r]||r:"strokeWidth"===r&&(r="stroke-width"),w=u(m,r)||g[r]||0,"d"!==r&&"visibility"!==r&&(w=parseFloat(w));else for(r in t)if(h=!1,o=t[r],s=b[r]&&b[r].call(g,o,r),s!==!1){if(s!==U&&(o=s),"d"===r)o&&o.join&&(o=o.join(" ")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0");else if("x"===r&&"text"===y){for(a=0;m.childNodes.length>a;a++)l=m.childNodes[a],u(l,"x")===u(m,"x")&&u(l,"x",o);g.rotation&&u(m,"transform","rotate("+g.rotation+" "+o+" "+i(t.y||u(m,"y"))+")")}else if("fill"===r)o=v.color(o,m,r);else if("circle"!==y||"x"!==r&&"y"!==r)if("rect"===y&&"r"===r)u(m,{rx:o,ry:o}),h=!0;else if("translateX"===r||"translateY"===r||"rotation"===r||"verticalAlign"===r)f=!0,h=!0;else if("stroke"===r)o=v.color(o,m,r);else if("dashstyle"===r){if(r="stroke-dasharray",o=o&&o.toLowerCase(),"solid"===o)o=Ue;else if(o){for(o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),a=o.length;a--;)o[a]=i(o[a])*t["stroke-width"];o=o.join(",")}}else"isTracker"===r?g[r]=o:"width"===r?o=i(o):"align"===r?(r="text-anchor",o={left:"start",center:"middle",right:"end"}[o]):"title"===r&&(d=m.getElementsByTagName("title")[0],d||(d=ue.createElementNS(Ae,"title"),m.appendChild(d)),d.textContent=o);else r={x:"cx",y:"cy"}[r]||r;if("strokeWidth"===r&&(r="stroke-width"),Pe&&"stroke-width"===r&&0===o&&(o=1e-6),g.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(p||(g.symbolAttr(t),p=!0),h=!0),x&&/^(width|height|visibility|x|y|d|transform)$/.test(r))for(a=x.length;a--;)u(x[a],r,"height"===r?ye(o-(x[a].cutHeight||0),0):o);("width"===r||"height"===r)&&"rect"===y&&0>o&&(o=0),g[r]=o,f&&g.updateTransform(),"text"===r?(o!==g.textStr&&delete g.bBox,g.textStr=o,g.added&&v.buildText(g)):h||u(m,r,o)}return w},symbolAttr:function(t){var e=this;yi(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(i){e[i]=p(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Ue)},crisp:function(t,e,i,n,r){var o,s,a=this,l={},h={};t=t||a.strokeWidth||a.attr&&a.attr("stroke-width")||0,s=fe(t)%2/2,h.x=ge(e||a.x||0)+s,h.y=ge(i||a.y||0)+s,h.width=ge((n||a.width||0)-2*s),h.height=ge((r||a.height||0)-2*s),h.strokeWidth=t;for(o in h)a[o]!==h[o]&&(a[o]=l[o]=h[o]);return l},css:function(e){var i,n=this,r=n.element,o=e&&e.width&&"text"===r.nodeName.toLowerCase(),s="",a=function(t,e){return"-"+e.toLowerCase()};if(e&&e.color&&(e.fill=e.color),e=t(n.styles,e),n.styles=e,Le&&o&&delete e.width,Me&&!Ie)o&&delete e.width,f(n.element,e);else{for(i in e)s+=i.replace(/([A-Z])/g,a)+":"+e[i]+";";n.attr({style:s})}return o&&n.added&&n.renderer.buildText(n),n},on:function(t,e){var i=e;return Ee&&"click"===t&&(t="touchstart",i=function(t){t.preventDefault(),e()}),this.element["on"+t]=i,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){var t=this;return t.inverted=!0,t.updateTransform(),t},htmlCss:function(e){var i=this,n=i.element,r=e&&"SPAN"===n.tagName&&e.width;return r&&(delete e.width,i.textWidth=r,i.updateTransform()),i.styles=t(i.styles,e),f(i.element,e),i},htmlGetBBox:function(){var t=this,e=t.element,i=t.bBox;return i||("text"===e.nodeName&&(e.style.position=Fe),i=t.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),i},htmlUpdateTransform:function(){if(!this.added)return this.alignOnAdd=!0,void 0;var t=this,e=t.renderer,n=t.element,r=t.translateX||0,o=t.translateY||0,s=t.x||0,a=t.y||0,l=t.textAlign||"left",h={left:0,center:.5,right:1}[l],u=l&&"left"!==l,d=t.shadows;if((r||o)&&(f(n,{marginLeft:r,marginTop:o}),d&&yi(d,function(t){f(t,{marginLeft:r+1,marginTop:o+1})})),t.inverted&&yi(n.childNodes,function(t){e.invertChild(t,n)}),"SPAN"===n.tagName){var g,m,y,v,b,x=t.rotation,w=0,k=1,C=0,_=i(t.textWidth),D=t.xCorr||0,M=t.yCorr||0,T=[x,l,n.innerHTML,t.textWidth].join(","),P={};T!==t.cTT&&(c(x)&&(e.isSVG?(b=Me?"-ms-transform":Pe?"-webkit-transform":Se?"MozTransform":De?"-o-transform":"",P[b]=P.transform="rotate("+x+"deg)"):(w=x*Ce,k=xe(w),C=we(w),P.filter=x?["progid:DXImageTransform.Microsoft.Matrix(M11=",k,", M12=",-C,", M21=",C,", M22=",k,", sizingMethod='auto expand')"].join(""):Ue),f(n,P)),g=p(t.elemWidth,n.offsetWidth),m=p(t.elemHeight,n.offsetHeight),g>_&&/[ \-]/.test(n.innerText)&&(f(n,{width:_+Ve,display:"block",whiteSpace:"normal"}),g=_),y=e.fontMetrics(n.style.fontSize).b,D=0>k&&-g,M=0>C&&-m,v=0>k*C,D+=C*y*(v?1-h:h),M-=k*y*(x?v?h:1-h:1),u&&(D-=g*h*(0>k?-1:1),x&&(M-=m*h*(0>C?-1:1)),f(n,{textAlign:l})),t.xCorr=D,t.yCorr=M),f(n,{left:s+D+Ve,top:a+M+Ve}),t.cTT=T
}},updateTransform:function(){var t=this,e=t.translateX||0,i=t.translateY||0,n=t.inverted,r=t.rotation,o=[];n&&(e+=t.attr("width"),i+=t.attr("height")),(e||i)&&o.push("translate("+e+","+i+")"),n?o.push("rotate(90) scale(-1,1)"):r&&o.push("rotate("+r+" "+(t.x||0)+" "+(t.y||0)+")"),o.length&&u(t.element,"transform",o.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n=this;t?(n.alignOptions=t,n.alignByTranslate=e,i||n.renderer.alignedObjects.push(n)):(t=n.alignOptions,e=n.alignByTranslate),i=p(i,n.renderer);var r=t.align,o=t.verticalAlign,s=(i.x||0)+(t.x||0),a=(i.y||0)+(t.y||0),l={};return("right"===r||"center"===r)&&(s+=(i.width-(t.width||0))/{right:1,center:2}[r]),l[e?"translateX":"x"]=fe(s),("bottom"===o||"middle"===o)&&(a+=(i.height-(t.height||0))/({bottom:1,middle:2}[o]||1)),l[e?"translateY":"y"]=fe(a),n[n.placed?"animate":"attr"](l),n.placed=!0,n.alignAttr=l,n},getBBox:function(){var e,i,n=this,r=n.bBox,o=n.renderer,s=n.rotation,a=n.element,l=n.styles,h=s*Ce;if(!r){if(a.namespaceURI===Ae||o.forExport){try{r=a.getBBox?t({},a.getBBox()):{width:a.offsetWidth,height:a.offsetHeight}}catch(c){}(!r||0>r.width)&&(r={width:0,height:0})}else r=n.htmlGetBBox();o.isSVG&&(e=r.width,i=r.height,s&&(r.width=be(i*we(h))+be(e*xe(h)),r.height=be(i*xe(h))+be(e*we(h)))),Me&&l&&"11px"===l.fontSize&&22.700000762939453===i&&(r.height=14),n.bBox=r}return r},show:function(){return this.attr({visibility:Ye})},hide:function(){return this.attr({visibility:Be})},add:function(t){var e,n,r,o,s=this.renderer,a=t||s,l=a.element||s.box,h=l.childNodes,d=this.element,p=u(d,"zIndex");if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&s.buildText(this),p&&(a.handleZ=!0,p=i(p)),a.handleZ)for(r=0;h.length>r;r++)if(e=h[r],n=u(e,"zIndex"),e!==d&&(i(n)>p||!c(p)&&c(n))){l.insertBefore(d,e),o=!0;break}return o||l.appendChild(d),this.added=!0,_i(this,"add"),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,n=i.element||{},r=i.shadows;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=null,Ti(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;i.stops.length>e;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}i.safeRemoveChild(n),r&&yi(r,function(t){i.safeRemoveChild(t)}),h(i.renderer.alignedObjects,i);for(t in i)delete i[t];return null},empty:function(){for(var t=this.element,e=t.childNodes,i=e.length;i--;)t.removeChild(e[i])},shadow:function(t,e,i){var n,r,o,s,a,l,h=[],c=this.element;if(t){for(s=p(t.width,3),a=(t.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+p(t.offsetX,1)+", "+p(t.offsetY,1)+")",n=1;s>=n;n++)r=c.cloneNode(0),o=2*s+1-2*n,u(r,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*n,"stroke-width":o,transform:"translate"+l,fill:Ue}),i&&(u(r,"height",ye(u(r,"height")-o,0)),r.cutHeight=o),e?e.element.appendChild(r):c.parentNode.insertBefore(r,c),h.push(r);this.shadows=h}return this}};var Oi=function(){this.init.apply(this,arguments)};Oi.prototype={Element:$,init:function(t,e,i,n){var r,o=this,s=location;r=o.createElement("svg").attr({xmlns:Ae,version:"1.1"}),t.appendChild(r.element),o.isSVG=!0,o.box=r.element,o.boxWrapper=r,o.alignedObjects=[],o.url=(Se||Pe)&&ue.getElementsByTagName("base").length?s.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",o.defs=this.createElement("defs").add(),o.forExport=n,o.gradients={},o.setSize(e,i,!1);var a,l;Se&&t.getBoundingClientRect&&(o.subPixelFix=a=function(){f(t,{left:0,top:0}),l=t.getBoundingClientRect(),f(t,{left:me(l.left)-l.left+Ve,top:me(l.top)-l.top+Ve})},a(),ki(de,"resize",a))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),P(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.subPixelFix&&Ci(de,"resize",t.subPixelFix),t.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){function e(e){return v[e]=r.getBBox?r.getBBox().height:t.renderer.fontMetrics(r.style.fontSize).h,fe(v[e]-(v[e-1]||0))}for(var n,r=t.element,o=(""+p(t.textStr,"")).replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),s=r.childNodes,a=/style="([^"]+)"/,l=/href="([^"]+)"/,h=u(r,"x"),c=t.styles,d=c&&c.width&&i(c.width),g=c&&c.lineHeight,m="getComputedStyle",y=s.length,v=[];y--;)r.removeChild(s[y]);d&&!t.added&&this.box.appendChild(r),""===o[o.length-1]&&o.pop(),yi(o,function(o,s){var c,p,y=0;o=o.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),c=o.split("|||"),yi(c,function(o){if(""!==o||1===c.length){var v,b={},x=ue.createElementNS(Ae,"tspan");if(a.test(o)&&(v=o.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),u(x,"style",v)),l.test(o)&&(u(x,"onclick",'location.href="'+o.match(l)[1]+'"'),f(x,{cursor:"pointer"})),o=(o.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),x.appendChild(ue.createTextNode(o)),y?b.dx=3:b.x=h,y||(s&&(!Ie&&t.renderer.forExport&&f(x,{display:"block"}),p=de[m]&&i(de[m](n,null).getPropertyValue("line-height")),(!p||isNaN(p))&&(p=g||n.offsetHeight||e(s)||18),u(x,"dy",p)),n=x),u(x,b),r.appendChild(x),y++,d)for(var w,k,C=o.replace(/([^\^])-/g,"$1- ").split(" "),_=[];C.length||_.length;)delete t.bBox,k=t.getBBox().width,w=k>d,w&&1!==C.length?(x.removeChild(x.firstChild),_.unshift(C.pop())):(C=_,_=[],C.length&&(x=ue.createElementNS(Ae,"tspan"),u(x,{dy:g||16,x:h}),v&&u(x,"style",v),r.appendChild(x),k>d&&(d=k))),C.length&&x.appendChild(ue.createTextNode(C.join(" ").replace(/- /g,"-")))}})})},button:function(i,n,r,o,s,a,l){var h,c,u,d,p,f=this.label(i,n,r),g=0,m="style",y={x1:0,y1:0,x2:0,y2:1};return s=wi(e(ci,1,hi,"#999",si,e(ai,y,li,[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,m,e("color","black")),s),u=s[m],delete s[m],a=wi(s,e(hi,"#68A",si,e(ai,y,li,[[0,"#FFF"],[1,"#ACF"]])),a),d=a[m],delete a[m],l=wi(s,e(hi,"#68A",si,e(ai,y,li,[[0,"#9BD"],[1,"#CDF"]])),l),p=l[m],delete l[m],ki(f.element,"mouseenter",function(){f.attr(a).css(d)}),ki(f.element,"mouseleave",function(){h=[s,a,l][g],c=[u,d,p][g],f.attr(h).css(c)}),f.setState=function(t){g=t,t?2===t&&f.attr(l).css(p):f.attr(s).css(u)},f.on("click",function(){o.call(f)}).attr(s).css(t({cursor:"default"},u))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=fe(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=fe(t[2])+e%2/2),t},path:function(e){var i={fill:Ue};return o(e)?i.d=e:r(e)&&t(i,e),this.createElement("path").attr(i)},circle:function(t,e,i){var n=r(t)?t:{x:t,y:e,r:i};return this.createElement("circle").attr(n)},arc:function(t,e,i,n,o,s){return r(t)&&(e=t.y,i=t.r,n=t.innerR,o=t.start,s=t.end,t=t.x),this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:o||0,end:s||0})},rect:function(t,e,i,n,o,s){o=r(t)?t.r:o;var a=this.createElement("rect").attr({rx:o,ry:o,fill:Ue});return a.attr(r(t)?t:a.crisp(s,t,e,ye(i,0),ye(n,0)))},setSize:function(t,e,i){var n=this,r=n.alignedObjects,o=r.length;for(n.width=t,n.height=e,n.boxWrapper[p(i,!0)?"animate":"attr"]({width:t,height:e});o--;)r[o].align()},g:function(t){var e=this.createElement("g");return c(t)?e.attr({"class":Re+t}):e},image:function(e,i,n,r,o){var s,a={preserveAspectRatio:Ue};return arguments.length>1&&t(a,{x:i,y:n,width:r,height:o}),s=this.createElement("image").attr(a),s.element.setAttributeNS?s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):s.element.setAttribute("hc-svg-href",e),s},symbol:function(e,i,n,r,o,s){var a,l,h,c,u=this.symbols[e],d=u&&u(fe(i),fe(n),r,o,s),p=/^url\((.*?)\)$/;return d?(a=this.path(d),t(a,{symbolName:e,x:i,y:n,width:r,height:o}),s&&t(a,s)):p.test(e)&&(c=function(t,e){t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(-fe(e[0]/2),-fe(e[1]/2))},l=e.match(p)[1],h=Ne[l],a=this.image(l).attr({x:i,y:n}),h?c(a,h):(a.attr({width:0,height:0}),g("img",{onload:function(){var t=this;c(a,Ne[l]=[t.width,t.height])},src:l}))),a},symbols:{circle:function(t,e,i,n){var r=.166*i;return[Xe,t+i/2,e,"C",t+i+r,e,t+i+r,e+n,t+i/2,e+n,"C",t-r,e+n,t-r,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return[Xe,t,e,je,t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return[Xe,t+i/2,e,je,t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return[Xe,t,e,je,t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return[Xe,t+i/2,e,je,t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,r){var o=r.start,s=r.r||i||n,a=r.end-1e-6,l=r.innerR,h=r.open,c=xe(o),u=we(o),d=xe(a),p=we(a),f=ke>r.end-o?0:1;return[Xe,t+s*c,e+s*u,"A",s,s,0,f,1,t+s*d,e+s*p,h?Xe:je,t+l*d,e+l*p,"A",l,l,0,f,0,t+l*c,e+l*u,h?"":"Z"]}},clipRect:function(t,e,i,n){var r,o=Re+$e++,s=this.createElement("clipPath").attr({id:o}).add(this.defs);return r=this.rect(t,e,i,n,0).add(s),r.id=o,r.clipPath=s,r},color:function(e,i,n){var r,s,a=this,l=/^rgba/;if(e&&e.linearGradient?s="linearGradient":e&&e.radialGradient&&(s="radialGradient"),s){var h,d,p,f=e[s],g=a.gradients,m=i.radialReference;return f.id&&g[f.id]||(o(f)&&(e[s]=f={x1:f[0],y1:f[1],x2:f[2],y2:f[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&m&&!c(f.gradientUnits)&&t(f,{cx:m[0]-m[2]/2+f.cx*m[2],cy:m[1]-m[2]/2+f.cy*m[2],r:f.r*m[2],gradientUnits:"userSpaceOnUse"}),f.id=Re+$e++,g[f.id]=h=a.createElement(s).attr(f).add(a.defs),h.stops=[],yi(e.stops,function(t){var e;l.test(t[1])?(r=Ii(t[1]),d=r.get("rgb"),p=r.get("a")):(d=t[1],p=1),e=a.createElement("stop").attr({offset:t[0],"stop-color":d,"stop-opacity":p}).add(h),h.stops.push(e)})),"url("+a.url+"#"+f.id+")"}return l.test(e)?(r=Ii(e),u(i,n+"-opacity",r.get("a")),r.get("rgb")):(i.removeAttribute(n+"-opacity"),e)},text:function(t,e,i,n){var r,o=this,s=G.chart.style,a=Le||!Ie&&o.forExport;return n&&!o.forExport?o.html(t,e,i):(e=fe(p(e,0)),i=fe(p(i,0)),r=o.createElement("text").attr({x:e,y:i,text:t}).css({fontFamily:s.fontFamily,fontSize:s.fontSize}),a&&r.css({position:Fe}),r.x=e,r.y=i,r)},html:function(e,i,n){var r=G.chart.style,o=this.createElement("span"),s=o.attrSetters,a=o.element,l=o.renderer;return s.text=function(t){return t!==a.innerHTML&&delete this.bBox,a.innerHTML=t,!1},s.x=s.y=s.align=function(t,e){return"align"===e&&(e="textAlign"),o[e]=t,o.htmlUpdateTransform(),!1},o.attr({text:e,x:fe(i),y:fe(n)}).css({position:Fe,whiteSpace:"nowrap",fontFamily:r.fontFamily,fontSize:r.fontSize}),o.css=o.htmlCss,l.isSVG&&(o.add=function(e){var i,n,r=l.box.parentNode,s=[];if(e){if(i=e.div,!i){for(n=e;n;)s.push(n),n=n.parentGroup;yi(s.reverse(),function(e){var n;i=e.div=e.div||g(He,{className:u(e.element,"class")},{position:Fe,left:(e.translateX||0)+Ve,top:(e.translateY||0)+Ve},i||r),n=i.style,t(e.attrSetters,{translateX:function(t){n.left=t+Ve},translateY:function(t){n.top=t+Ve},visibility:function(t,e){n[e]=t}})})}}else i=r;return i.appendChild(a),o.added=!0,o.alignOnAdd&&o.htmlUpdateTransform(),o}),o},fontMetrics:function(t){t=i(t||11);var e=24>t?t+4:fe(1.2*t),n=fe(.8*e);return{h:e,b:n}},label:function(e,i,n,r,o,s,a,l,h){function u(){var t,e=_.element.style;m=(void 0===y||void 0===v||C.styles.textAlign)&&_.getBBox(),C.width=(y||m.width||0)+2*M,C.height=(v||m.height||0)+2*M,w=M+k.fontMetrics(e&&e.fontSize).b,g||(t=l?-w:0,C.box=g=r?k.symbol(r,-D*M,t,C.width,C.height):k.rect(-D*M,t,C.width,C.height,0,P[ci]),g.add(C)),g.attr(wi({width:C.width,height:C.height},P)),P=null}function d(){var t,e=C.styles,i=e&&e.textAlign,n=M*(1-D);t=l?0:w,!c(y)||"center"!==i&&"right"!==i||(n+={center:.5,right:1}[i]*(y-m.width)),(n!==_.x||t!==_.y)&&_.attr({x:n,y:t}),_.x=n,_.y=t}function p(t,e){g?g.attr(t,e):P[t]=e}function f(){_.add(C),C.attr({text:e,x:i,y:n}),c(o)&&C.attr({anchorX:o,anchorY:s})}var g,m,y,v,b,x,w,k=this,C=k.g(h),_=k.text("",0,0,a).attr({zIndex:1}),D=0,M=3,T=0,P={},S=C.attrSetters;ki(C,"add",f),S.width=function(t){return y=t,!1},S.height=function(t){return v=t,!1},S.padding=function(t){return c(t)&&t!==M&&(M=t,d()),!1},S.align=function(t){return D={left:0,center:.5,right:1}[t],!1},S.text=function(t,e){return _.attr(e,t),u(),d(),!1},S[ci]=function(t,e){return T=t%2/2,p(e,t),!1},S.stroke=S.fill=S.r=function(t,e){return p(e,t),!1},S.anchorX=function(t,e){return o=t,p(e,t+T-b),!1},S.anchorY=function(t,e){return s=t,p(e,t-x),!1},S.x=function(t){return C.x=t,t-=D*((y||m.width)+M),b=fe(t),C.attr("translateX",b),!1},S.y=function(t){return x=C.y=fe(t),C.attr("translateY",t),!1};var A=C.css;return t(C,{css:function(t){if(t){var e={};t=wi({},t),yi(["fontSize","fontWeight","fontFamily","color","lineHeight","width"],function(i){t[i]!==U&&(e[i]=t[i],delete t[i])}),_.css(e)}return A.call(C,t)},getBBox:function(){return g.getBBox()},shadow:function(t){return g.shadow(t),C},destroy:function(){Ci(C,"add",f),Ci(C.element,"mouseenter"),Ci(C.element,"mouseleave"),_&&(_=_.destroy()),g&&(g=g.destroy()),$.prototype.destroy.call(C)}})}},X=Oi;var Li;if(!Ie&&!Le){var Ei={init:function(t,e){var i=this,n=["<",e,' filled="f" stroked="f"'],r=["position: ",Fe,";"];("shape"===e||e===He)&&r.push("left:0;top:0;width:1px;height:1px;"),Te&&r.push("visibility: ",e===He?Be:Ye),n.push(' style="',r.join(""),'"/>'),e&&(n=e===He||"span"===e||"img"===e?n.join(""):t.prepVML(n),i.element=g(n)),i.renderer=t,i.attrSetters={}},add:function(t){var e=this,i=e.renderer,n=e.element,r=i.box,o=t&&t.inverted,s=t?t.element||t:r;return o&&i.invertChild(n,s),s.appendChild(n),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),_i(e,"add"),e},updateTransform:$.prototype.htmlUpdateTransform,attr:function(t,e){var i,r,o,a,l,h,d=this,p=d.element||{},f=p.style,m=p.nodeName,y=d.renderer,v=d.symbolName,b=d.shadows,x=d.attrSetters,w=d;if(n(t)&&c(e)&&(i=t,t={},t[i]=e),n(t))i=t,w="strokeWidth"===i||"stroke-width"===i?d.strokeweight:d[i];else for(i in t)if(r=t[i],h=!1,a=x[i]&&x[i].call(d,r,i),a!==!1&&null!==r){if(a!==U&&(r=a),v&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(i))l||(d.symbolAttr(t),l=!0),h=!0;else if("d"===i){r=r||[],d.d=r.join(" "),o=r.length;for(var k=[];o--;)k[o]=s(r[o])?fe(10*r[o])-5:"Z"===r[o]?"x":r[o];if(r=k.join(" ")||"x",p.path=r,b)for(o=b.length;o--;)b[o].path=b[o].cutOff?this.cutOffPath(r,b[o].cutOff):r;h=!0}else if("visibility"===i){if(b)for(o=b.length;o--;)b[o].style[i]=r;"DIV"===m&&(r=r===Be?"-999em":0,i="top"),f[i]=r,h=!0}else if("zIndex"===i)r&&(f[i]=r),h=!0;else if("width"===i||"height"===i)r=ye(0,r),this[i]=r,d.updateClipping?(d[i]=r,d.updateClipping()):f[i]=r,h=!0;else if("x"===i||"y"===i)d[i]=r,f[{x:"left",y:"top"}[i]]=r;else if("class"===i)p.className=r;else if("stroke"===i)r=y.color(r,p,i),i="strokecolor";else if("stroke-width"===i||"strokeWidth"===i)p.stroked=r?!0:!1,i="strokeweight",d[i]=r,s(r)&&(r+=Ve);else if("dashstyle"===i){var C=p.getElementsByTagName("stroke")[0]||g(y.prepVML(["<stroke/>"]),null,null,p);C[i]=r||"solid",d.dashstyle=r,h=!0}else"fill"===i?"SPAN"===m?f.color=r:(p.filled=r!==Ue?!0:!1,r=y.color(r,p,i,d),i="fillcolor"):"shape"===m&&"rotation"===i?(d[i]=r,p.style.left=-fe(we(r*Ce)+1)+Ve,p.style.top=fe(xe(r*Ce))+Ve):"translateX"===i||"translateY"===i||"rotation"===i?(d[i]=r,d.updateTransform(),h=!0):"text"===i&&(this.bBox=null,p.innerHTML=r,h=!0);h||(Te?p[i]=r:u(p,i,r))}return w},clip:function(t){var e,i,n=this,r=n.element,o=r.parentNode;return t?(e=t.members,e.push(n),n.destroyClip=function(){h(e,n)},o&&"highcharts-tracker"===o.className&&!Te&&f(r,{visibility:Be}),i=t.getCSS(n)):(n.destroyClip&&n.destroyClip(),i={clip:Te?"inherit":"rect(auto)"}),n.css(i)},css:$.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&S(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),$.prototype.destroy.apply(this)},empty:function(){for(var t,e=this.element,i=e.childNodes,n=i.length;n--;)t=i[n],t.parentNode.removeChild(t)},on:function(t,e){return this.element["on"+t]=function(){var t=de.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var n;return t=t.split(/[ ,]/),n=t.length,(9===n||11===n)&&(t[n-4]=t[n-2]=i(t[n-2])-10*e),t.join(" ")},shadow:function(t,e,n){var r,o,s,a,l,h,c,u=[],d=this.element,f=this.renderer,m=d.style,y=d.path;if(y&&"string"!=typeof y.value&&(y="x"),l=y,t){for(h=p(t.width,3),c=(t.opacity||.15)/h,r=1;3>=r;r++)a=2*h+1-2*r,n&&(l=this.cutOffPath(y.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],o=g(f.prepVML(s),null,{left:i(m.left)+p(t.offsetX,1),top:i(m.top)+p(t.offsetY,1)}),n&&(o.cutOff=a+1),s=['<stroke color="',t.color||"black",'" opacity="',c*r,'"/>'],g(f.prepVML(s),null,null,o),e?e.element.appendChild(o):d.parentNode.insertBefore(o,d),u.push(o);this.shadows=u}return this}};Ei=m($,Ei);var Ni={Element:Ei,isIE8:_e.indexOf("MSIE 8.0")>-1,init:function(t,e,i){var n,r,o=this;o.alignedObjects=[],n=o.createElement(He),r=n.element,r.style.position=We,t.appendChild(n.element),o.box=r,o.boxWrapper=n,o.setSize(e,i,!1),ue.namespaces.hcv||(ue.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),ue.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,i,n,o){var s=this.createElement(),a=r(e);return t(s,{members:[],left:a?e.x:e,top:a?e.y:i,width:a?e.width:n,height:a?e.height:o,getCSS:function(e){var i=e.inverted,n=this,r=n.top,o=n.left,s=o+n.width,a=r+n.height,l={clip:"rect("+fe(i?o:r)+"px,"+fe(i?a:s)+"px,"+fe(i?s:a)+"px,"+fe(i?r:o)+"px)"};return!i&&Te&&"IMG"!==e.element.nodeName&&t(l,{width:s+Ve,height:a+Ve}),l},updateClipping:function(){yi(s.members,function(t){t.css(s.getCSS(t))})}})},color:function(t,e,i,n){var r,o,s,a=this,l=/^rgba/,h=Ue;if(t&&t.linearGradient?s="gradient":t&&t.radialGradient&&(s="pattern"),s){var c,u,d,p,f,m,y,v,b,x,w,k,C=t.linearGradient||t.radialGradient,_="",D=t.stops,M=[],T=function(){o=['<fill colors="'+M.join(",")+'" opacity="',v,'" o:opacity2="',y,'" type="',s,'" ',_,'focus="100%" method="any" />'],g(a.prepVML(o),null,null,e)};if(w=D[0],k=D[D.length-1],w[0]>0&&D.unshift([0,w[1]]),1>k[0]&&D.push([1,k[1]]),yi(D,function(t,e){l.test(t[1])?(r=Ii(t[1]),c=r.get("rgb"),u=r.get("a")):(c=t[1],u=1),M.push(100*t[0]+"% "+c),e?(v=u,b=c):(y=u,x=c)}),"fill"===i)if("gradient"===s)d=C.x1||C[0]||0,p=C.y1||C[1]||0,f=C.x2||C[2]||0,m=C.y2||C[3]||0,_='angle="'+(90-180*pe.atan((m-p)/(f-d))/ke)+'"',T();else{var P,S=C.r,A=2*S,I=2*S,O=C.cx,L=C.cy,E=e.radialReference,N=function(){E&&(P=n.getBBox(),O+=(E[0]-P.x)/P.width-.5,L+=(E[1]-P.y)/P.height-.5,A*=E[2]/P.width,I*=E[2]/P.height),_='src="'+G.global.VMLRadialGradientURL+'" '+'size="'+A+","+I+'" '+'origin="0.5,0.5" '+'position="'+O+","+L+'" '+'color2="'+x+'" ',T()};n.added?N():ki(n,"add",N),h=b}else h=c}else if(l.test(t)&&"IMG"!==e.tagName)r=Ii(t),o=["<",i,' opacity="',r.get("a"),'"/>'],g(this.prepVML(o),null,null,e),h=r.get("rgb");else{var $=e.getElementsByTagName(i);$.length&&($[0].opacity=1),h=t}return h},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;return t=t.join(""),i?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e)):t=t.replace("<","<hcv:"),t},text:Oi.prototype.html,path:function(e){var i={coordsize:"10 10"};return o(e)?i.d=e:r(e)&&t(i,e),this.createElement("shape").attr(i)},circle:function(t,e,i){return this.symbol("circle").attr({x:t-i,y:e-i,width:2*i,height:2*i})},g:function(t){var e,i;return t&&(i={className:Re+t,"class":Re+t}),e=this.createElement(He).attr(i)},image:function(t,e,i,n,r){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:i,width:n,height:r}),o},rect:function(t,e,i,n,o,s){r(t)&&(e=t.y,i=t.width,n=t.height,s=t.strokeWidth,t=t.x);var a=this.symbol("rect");return a.r=o,a.attr(a.crisp(s,t,e,ye(i,0),ye(n,0)))},invertChild:function(t,e){var n=e.style;f(t,{flip:"x",left:i(n.width)-1,top:i(n.height)-1,rotation:-90})},symbols:{arc:function(t,e,i,n,r){var o,s=r.start,a=r.end,l=r.r||i||n,h=xe(s),c=we(s),u=xe(a),d=we(a),p=r.innerR,f=.08/l,g=p&&.1/p||0;return 0===a-s?["x"]:(f>2*ke-a+s?u=-f:g>a-s&&(u=xe(s+g)),o=["wa",t-l,e-l,t+l,e+l,t+l*h,e+l*c,t+l*u,e+l*d],r.open&&!p&&o.push("e",Xe,t,e),o.push("at",t-p,e-p,t+p,e+p,t+p*u,e+p*d,t+p*h,e+p*c,"x","e"),o)},circle:function(t,e,i,n){return["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,r){var o,s,a=t+i,l=e+n;return c(r)&&r.r?(s=ve(r.r,i,n),o=[Xe,t+s,e,je,a-s,e,"wa",a-2*s,e,a,e+2*s,a-s,e,a,e+s,je,a,l-s,"wa",a-2*s,l-2*s,a,l,a,l-s,a-s,l,je,t+s,l,"wa",t,l-2*s,t+2*s,l,t+s,l,t,l-s,je,t,e+s,"wa",t,e,t+2*s,e+2*s,t,e+s,t+s,e,"x","e"]):o=Oi.prototype.symbols.square.apply(0,arguments),o}}};Li=function(){this.init.apply(this,arguments)},Li.prototype=wi(Oi.prototype,Ni),X=Li}var $i,zi;Le&&($i=function(){Ae="http://www.w3.org/1999/xhtml"},$i.prototype.symbols={},zi=function(){function t(){var t,i=e.length;for(t=0;i>t;t++)e[t]();e=[]}var e=[];return{push:function(i,n){0===e.length&&gi(n,t),e.push(i)}}}()),X=Li||$i||Oi,z.prototype={addLabel:function(){var e,i,n,r,o=this,a=o.axis,h=a.options,u=a.chart,d=a.horiz,p=a.categories,f=o.pos,g=h.labels,m=a.tickPositions,y=p&&d&&p.length&&!g.step&&!g.staggerLines&&!g.rotation&&u.plotWidth/m.length||!d&&u.plotWidth/2,v=f===m[0],b=f===m[m.length-1],x=p&&c(p[f])?p[f]:f,w=o.label,k=m.info;a.isDatetimeAxis&&k&&(r=h.dateTimeLabelFormats[k.higherRanks[f]||k.unitName]),o.isFirst=v,o.isLast=b,e=a.labelFormatter.call({axis:a,chart:u,isFirst:v,isLast:b,dateTimeLabelFormat:r,value:a.isLog?I(l(x)):x}),i=y&&{width:ye(1,fe(y-2*(g.padding||10)))+Ve},i=t(i,g.style),c(w)?w&&w.attr({text:e}).css(i):(n={align:g.align},s(g.rotation)&&(n.rotation=g.rotation),o.label=c(e)&&g.enabled?u.renderer.text(e,0,0,g.useHTML).attr(n).css(i).add(a.labelGroup):null)},getLabelSize:function(){var t=this.label,e=this.axis;return t?(this.labelBBox=t.getBBox())[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.labelBBox,e=this.axis,i=e.options,n=i.labels,r=t.width,o=r*{left:0,center:.5,right:1}[n.align]-n.x;return[-o,r-o]},handleOverflow:function(t,e){var i=!0,n=this.axis,r=n.chart,o=this.isFirst,s=this.isLast,a=e.x,l=n.reversed,h=n.tickPositions;if(o||s){var c=this.getLabelSides(),u=c[0],d=c[1],p=r.plotLeft,f=p+n.len,g=n.ticks[h[t+(o?1:-1)]],m=g&&g.label.xy&&g.label.xy.x+g.getLabelSides()[o?0:1];o&&!l||s&&l?p>a+u&&(a=p-u,g&&a+d>m&&(i=!1)):a+d>f&&(a=f-d,g&&m>a+u&&(i=!1)),e.x=a}return i},getPosition:function(t,e,i,n){var r=this.axis,o=r.chart,s=n&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+i,null,null,n)+r.transB:r.left+r.offset+(r.opposite?(n&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+i,null,null,n)-r.transB}},getLabelPosition:function(t,e,n,r,o,s,a,l){var h=this.axis,u=h.transA,d=h.reversed,p=h.staggerLines;return t=t+o.x-(s&&r?s*u*(d?-1:1):0),e=e+o.y-(s&&!r?s*u*(d?1:-1):0),c(o.y)||(e+=.9*i(n.styles.lineHeight)-n.getBBox().height/2),p&&(e+=16*(a/(l||1)%p)),{x:t,y:e}},getMarkPath:function(t,e,i,n,r,o){return o.crispLine([Xe,t,e,je,t+(r?0:-i),e+(r?i:0)],n)},render:function(t,e){var i,n,r,o=this,s=o.axis,a=s.options,l=s.chart,h=l.renderer,c=s.horiz,u=o.type,d=o.label,f=o.pos,g=a.labels,m=o.gridLine,y=u?u+"Grid":"grid",v=u?u+"Tick":"tick",b=a[y+"LineWidth"],x=a[y+"LineColor"],w=a[y+"LineDashStyle"],k=a[v+"Length"],C=a[v+"Width"]||0,_=a[v+"Color"],D=a[v+"Position"],M=o.mark,T=g.step,P=!0,S=s.tickmarkOffset,A=o.getPosition(c,f,S,e),I=A.x,O=A.y,L=s.staggerLines;b&&(i=s.getPlotLinePath(f+S,b,e),m===U&&(r={stroke:x,"stroke-width":b},w&&(r.dashstyle=w),u||(r.zIndex=1),o.gridLine=m=b?h.path(i).attr(r).add(s.gridGroup):null),!e&&m&&i&&m[o.isNew?"attr":"animate"]({d:i})),C&&k&&("inside"===D&&(k=-k),s.opposite&&(k=-k),n=o.getMarkPath(I,O,k,C,c,h),M?M.animate({d:n}):o.mark=h.path(n).attr({stroke:_,"stroke-width":C}).add(s.axisGroup)),d&&!isNaN(I)&&(d.xy=A=o.getLabelPosition(I,O,d,c,g,S,t,T),o.isFirst&&!p(a.showFirstLabel,1)||o.isLast&&!p(a.showLastLabel,1)?P=!1:L||!c||"justify"!==g.overflow||o.handleOverflow(t,A)||(P=!1),T&&t%T&&(P=!1),P?(d[o.isNew?"attr":"animate"](A),d.show(),o.isNew=!1):d.hide())},destroy:function(){P(this,this.axis)}},H.prototype={render:function(){var t,e,i,n,r,o,s,l=this,h=l.axis,u=h.horiz,d=(h.pointRange||0)/2,f=l.options,g=f.label,m=l.label,y=f.width,v=f.to,b=f.from,x=c(b)&&c(v),w=f.value,k=f.dashStyle,C=l.svgElem,_=[],D=f.color,P=f.zIndex,S=f.events,A=h.chart.renderer;if(h.isLog&&(b=a(b),v=a(v),w=a(w)),y)_=h.getPlotLinePath(w,y),s={stroke:D,"stroke-width":y},k&&(s.dashstyle=k);else{if(!x)return;b=ye(b,h.min-d),v=ve(v,h.max+d),_=h.getPlotBandPath(b,v,f),s={fill:D},f.borderWidth&&(s.stroke=f.borderColor,s["stroke-width"]=f.borderWidth)}if(c(P)&&(s.zIndex=P),C)_?C.animate({d:_},null,C.onGetPath):(C.hide(),C.onGetPath=function(){C.show()});else if(_&&_.length&&(l.svgElem=C=A.path(_).attr(s).add(),S)){t=function(t){C.on(t,function(e){S[t].apply(l,[e])})};for(e in S)t(e)}return g&&c(g.text)&&_&&_.length&&h.width>0&&h.height>0?(g=wi({align:u&&x&&"center",x:u?!x&&4:10,verticalAlign:!u&&x&&"middle",y:u?x?16:10:x?6:-4,rotation:u&&!x&&90},g),m||(l.label=m=A.text(g.text,0,0).attr({align:g.textAlign||g.align,rotation:g.rotation,zIndex:P}).css(g.style).add()),i=[_[1],_[4],p(_[6],_[1])],n=[_[2],_[5],p(_[7],_[2])],r=M(i),o=M(n),m.align(g,!1,{x:r,y:o,width:T(i)-r,height:T(n)-o}),m.show()):m&&m.hide(),l},destroy:function(){var t=this,e=t.axis;h(e.plotLinesAndBands,t),P(t,this.axis)}},F.prototype={destroy:function(){P(this,this.axis)},setTotal:function(t){this.total=t,this.cum=t},render:function(t){var e=this.options.formatter.call(this);this.label?this.label.attr({text:e,visibility:Be}):this.label=this.axis.chart.renderer.text(e,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:Be}).add(t)},setOffset:function(t,e){var i,n=this,r=n.axis,o=r.chart,s=o.inverted,a=this.isNegative,l=r.translate(this.percent?100:this.total,0,0,0,1),h=r.translate(0),c=be(l-h),u=o.xAxis[0].translate(this.x)+t,d=o.plotHeight,p={x:s?a?l:l-c:u,y:s?d-u-e:a?d-l-c:d-l,width:s?c:e,height:s?e:c},f=this.label;f&&(f.align(this.alignOptions,null,p),i=f.alignAttr,f.attr({visibility:this.options.crop===!1||o.isInsidePlot(i.x,i.y)?Ie?"inherit":Ye:Be}))}},W.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Pi,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:Pi.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(t,e){var i=e.isX,n=this;n.horiz=t.inverted?!i:i,n.isXAxis=i,n.xOrY=i?"x":"y",n.opposite=e.opposite,n.side=n.horiz?n.opposite?0:2:n.opposite?1:3,n.setOptions(e);var r=this.options,o=r.type,s="datetime"===o;n.labelFormatter=r.labels.formatter||n.defaultLabelFormatter,n.staggerLines=n.horiz&&r.labels.staggerLines,n.userOptions=e,n.minPixelPadding=0,n.chart=t,n.reversed=r.reversed,n.categories=r.categories,n.isLog="logarithmic"===o,n.isLinked=c(r.linkedTo),n.isDatetimeAxis=s,n.tickmarkOffset=r.categories&&"between"===r.tickmarkPlacement?.5:0,n.ticks={},n.minorTicks={},n.plotLinesAndBands=[],n.alternateBands={},n.len=0,n.minRange=n.userMinRange=r.minRange||r.maxZoom,n.range=r.range,n.offset=r.offset||0,n.stacks={},n.max=null,n.min=null;var h,u=n.options.events;t.axes.push(n),t[i?"xAxis":"yAxis"].push(n),n.series=[],t.inverted&&i&&n.reversed===U&&(n.reversed=!0),n.removePlotBand=n.removePlotBandOrLine,n.removePlotLine=n.removePlotBandOrLine,n.addPlotBand=n.addPlotBandOrLine,n.addPlotLine=n.addPlotBandOrLine;for(h in u)ki(n,h,u[h]);n.isLog&&(n.val2lin=a,n.lin2val=l)},setOptions:function(t){this.options=wi(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],wi(G[this.isXAxis?"xAxis":"yAxis"],t))},defaultLabelFormatter:function(){var t,e,i=this.axis,n=this.value,r=i.categories,o=this.dateTimeLabelFormat,s=G.lang.numericSymbols,a=s&&s.length,l=i.isLog?n:i.tickInterval;if(r)e=n;else if(o)e=q(o,n);else if(a&&l>=1e3)for(;a--&&e===U;)t=Math.pow(1e3,a+1),l>=t&&null!==s[a]&&(e=v(n/t,-1)+s[a]);return e===U&&(e=n>=1e3?v(n,0):v(n,-1)),e},getSeriesExtremes:function(){var t,e=this,i=e.chart,n=e.stacks,r=[],o=[];e.hasVisibleSeries=!1,e.dataMin=e.dataMax=null,yi(e.series,function(s){if(s.visible||!i.options.chart.ignoreHiddenSeries){var a,l,h,u,d,f,g,m,y,v,b,x=s.options,w=x.threshold,k=[],C=0;if(e.hasVisibleSeries=!0,e.isLog&&0>=w&&(w=x.threshold=null),e.isXAxis)g=s.xData,g.length&&(e.dataMin=ve(p(e.dataMin,g[0]),M(g)),e.dataMax=ye(p(e.dataMax,g[0]),T(g)));else{var _,D,P,S,A=s.cropped,O=s.xAxis.getExtremes(),L=!!s.modifyValue;for(a=x.stacking,e.usePercentage="percent"===a,a&&(d=x.stack,u=s.type+p(d,""),f="-"+u,s.stackKey=u,l=r[u]||[],r[u]=l,h=o[f]||[],o[f]=h),e.usePercentage&&(e.dataMin=0,e.dataMax=99),g=s.processedXData,m=s.processedYData,b=m.length,t=0;b>t;t++)if(y=g[t],v=m[t],a&&(_=w>v,D=_?h:l,P=_?f:u,v=D[y]=c(D[y])?I(D[y]+v):v,n[P]||(n[P]={}),n[P][y]||(n[P][y]=new F(e,e.options.stackLabels,_,y,d,a)),n[P][y].setTotal(v)),null!==v&&v!==U&&(L&&(v=s.modifyValue(v)),A||(g[t+1]||y)>=O.min&&(g[t-1]||y)<=O.max))if(S=v.length)for(;S--;)null!==v[S]&&(k[C++]=v[S]);else k[C++]=v;!e.usePercentage&&k.length&&(e.dataMin=ve(p(e.dataMin,k[0]),M(k)),e.dataMax=ye(p(e.dataMax,k[0]),T(k))),c(w)&&(e.dataMin>=w?(e.dataMin=w,e.ignoreMinPadding=!0):w>e.dataMax&&(e.dataMax=w,e.ignoreMaxPadding=!0))}}})},translate:function(t,e,i,n,r,o){var s,a=this,l=a.len,h=1,c=0,u=n?a.oldTransA:a.transA,d=n?a.oldMin:a.min,p=a.options.ordinal||a.isLog&&r;return u||(u=a.transA),i&&(h*=-1,c=l),a.reversed&&(h*=-1,c-=h*l),e?(a.reversed&&(t=l-t),s=t/u+d,p&&(s=a.lin2val(s))):(p&&(t=a.val2lin(t)),s=h*(t-d)*u+c+h*a.minPixelPadding+(o?u*a.pointRange/2:0)),s},getPlotLinePath:function(t,e,i){var n,r,o,s,a,l=this,h=l.chart,c=l.left,u=l.top,d=l.translate(t,null,null,i),p=i&&h.oldChartHeight||h.chartHeight,f=i&&h.oldChartWidth||h.chartWidth,g=l.transB;return n=o=fe(d+g),r=s=fe(p-d-g),isNaN(d)?a=!0:l.horiz?(r=u,s=p-l.bottom,(c>n||n>c+l.width)&&(a=!0)):(n=c,o=f-l.right,(u>r||r>u+l.height)&&(a=!0)),a?null:h.renderer.crispLine([Xe,n,r,je,o,s],e||0)},getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e),n=this.getPlotLinePath(t);return n&&i?n.push(i[4],i[5],i[1],i[2]):n=null,n},getLinearTickPositions:function(t,e,i){var n,r,o=I(ge(e/t)*t),s=I(me(i/t)*t),a=[];for(n=o;s>=n&&(a.push(n),n=I(n+t),n!==r);)r=n;return a},getLogTickPositions:function(t,e,i,n){var r=this,o=r.options,s=r.len,h=[];if(n||(r._minorAutoInterval=null),t>=.5)t=fe(t),h=r.getLinearTickPositions(t,e,i);else if(t>=.08){var c,u,d,f,g,m,y,v=ge(e);for(c=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],u=v;i+1>u&&!y;u++)for(f=c.length,d=0;f>d&&!y;d++)g=a(l(u)*c[d]),g>e&&h.push(m),m>i&&(y=!0),m=g}else{var b=l(e),x=l(i),k=o[n?"minorTickInterval":"tickInterval"],C="auto"===k?null:k,_=o.tickPixelInterval/(n?5:1),D=n?s/r.tickPositions.length:s;
t=p(C,r._minorAutoInterval,(x-b)*_/(D||1)),t=w(t,null,pe.pow(10,ge(pe.log(t)/pe.LN10))),h=xi(r.getLinearTickPositions(t,b,x),a),n||(r._minorAutoInterval=t/5)}return n||(r.tickInterval=t),h},getMinorTickPositions:function(){var t,e,i,n=this,r=n.tickPositions,o=n.minorTickInterval,s=[];if(n.isLog)for(i=r.length,e=1;i>e;e++)s=s.concat(n.getLogTickPositions(o,r[e-1],r[e],!0));else for(t=n.min+(r[0]-n.min)%o;n.max>=t;t+=o)s.push(t);return s},adjustForMinRange:function(){var t,e,i,n,r,o,s,a,l=this,h=l.options,u=l.min,d=l.max,f=l.dataMax-l.dataMin>=l.minRange;if(l.isXAxis&&l.minRange===U&&!l.isLog&&(c(h.min)||c(h.max)?l.minRange=null:(yi(l.series,function(t){for(r=t.xData,o=t.xIncrement?1:r.length-1,i=o;i>0;i--)n=r[i]-r[i-1],(e===U||e>n)&&(e=n)}),l.minRange=ve(5*e,l.dataMax-l.dataMin))),l.minRange>d-u){var g=l.minRange;t=(g-d+u)/2,s=[u-t,p(h.min,u-t)],f&&(s[2]=l.dataMin),u=T(s),a=[u+g,p(h.max,u+g)],f&&(a[2]=l.dataMax),d=M(a),g>d-u&&(s[0]=d-g,s[1]=p(h.min,d-g),u=T(s))}l.min=u,l.max=d},setAxisTranslation:function(){var t,e=this,i=e.max-e.min,n=0,r=0,o=0,s=e.linkedParent,a=e.transA;e.isXAxis&&(s?(r=s.minPointOffset,o=s.pointRangePadding):yi(e.series,function(e){var i=e.pointRange,s=e.options.pointPlacement,a=e.closestPointRange;n=ye(n,i),r=ye(r,s?0:i/2),o=ye(o,"on"===s?0:i),!e.noSharedTooltip&&c(a)&&(t=c(t)?ve(t,a):a)}),e.minPointOffset=r,e.pointRangePadding=o,e.pointRange=n,e.closestPointRange=t),e.oldTransA=a,e.translationSlope=e.transA=a=e.len/(i+o||1),e.transB=e.horiz?e.left:e.bottom,e.minPixelPadding=a*r},setTickPositions:function(t){var e,i,n,r,o=this,s=o.chart,l=o.options,h=o.isLog,u=o.isDatetimeAxis,d=o.isXAxis,f=o.isLinked,g=o.options.tickPositioner,m=l.maxPadding,y=l.minPadding,v=l.tickInterval,b=l.minTickInterval,x=l.tickPixelInterval,_=o.categories;if(f?(o.linkedParent=s[d?"xAxis":"yAxis"][l.linkedTo],n=o.linkedParent.getExtremes(),o.min=p(n.min,n.dataMin),o.max=p(n.max,n.dataMax),l.type!==o.linkedParent.options.type&&A(11,1)):(o.min=p(o.userMin,l.min,o.dataMin),o.max=p(o.userMax,l.max,o.dataMax)),h&&(!t&&0>=ve(o.min,p(o.dataMin,o.min))&&A(10,1),o.min=I(a(o.min)),o.max=I(a(o.max))),o.range&&(o.userMin=o.min=ye(o.min,o.max-o.range),o.userMax=o.max,t&&(o.range=null)),o.adjustForMinRange(),_||o.usePercentage||f||!c(o.min)||!c(o.max)||(i=o.max-o.min||1,c(l.min)||c(o.userMin)||!y||!(0>o.dataMin)&&o.ignoreMinPadding||(o.min-=i*y),c(l.max)||c(o.userMax)||!m||!(o.dataMax>0)&&o.ignoreMaxPadding||(o.max+=i*m)),o.tickInterval=o.min===o.max||void 0===o.min||void 0===o.max?1:f&&!v&&x===o.linkedParent.options.tickPixelInterval?o.linkedParent.tickInterval:p(v,_?1:(o.max-o.min)*x/(o.len||1)),d&&!t&&yi(o.series,function(t){t.processData(o.min!==o.oldMin||o.max!==o.oldMax)}),o.setAxisTranslation(t),o.beforeSetTickPositions&&o.beforeSetTickPositions(),o.postProcessTickInterval&&(o.tickInterval=o.postProcessTickInterval(o.tickInterval)),!v&&b>o.tickInterval&&(o.tickInterval=b),u||h||(e=pe.pow(10,ge(pe.log(o.tickInterval)/pe.LN10)),v||(o.tickInterval=w(o.tickInterval,null,e,l))),o.minorTickInterval="auto"===l.minorTickInterval&&o.tickInterval?o.tickInterval/5:l.minorTickInterval,o.tickPositions=r=l.tickPositions||g&&g.apply(o,[o.min,o.max]),r||(r=u?(o.getNonLinearTimeTicks||C)(k(o.tickInterval,l.units),o.min,o.max,l.startOfWeek,o.ordinalPositions,o.closestPointRange,!0):h?o.getLogTickPositions(o.tickInterval,o.min,o.max):o.getLinearTickPositions(o.tickInterval,o.min,o.max),o.tickPositions=r),!f){var D=r[0],M=r[r.length-1],T=o.minPointOffset||0;l.startOnTick?o.min=D:o.min-T>D&&r.shift(),l.endOnTick?o.max=M:M>o.max+T&&r.pop()}},setMaxTicks:function(){var t=this.chart,e=t.maxTicks,i=this.tickPositions,n=this.xOrY;e||(e={x:0,y:0}),!this.isLinked&&!this.isDatetimeAxis&&i.length>e[n]&&this.options.alignTicks!==!1&&(e[n]=i.length),t.maxTicks=e},adjustTickAmount:function(){var t=this,e=t.chart,i=t.xOrY,n=t.tickPositions,r=e.maxTicks;if(r&&r[i]&&!t.isDatetimeAxis&&!t.categories&&!t.isLinked&&t.options.alignTicks!==!1){var o,s=t.tickAmount,a=n.length;if(t.tickAmount=o=r[i],o>a){for(;o>n.length;)n.push(I(n[n.length-1]+t.tickInterval));t.transA*=(a-1)/(o-1),t.max=n[n.length-1]}c(s)&&o!==s&&(t.isDirty=!0)}},setScale:function(){var t,e,i,n,r=this,o=r.stacks;if(r.oldMin=r.min,r.oldMax=r.max,r.oldAxisLength=r.len,r.setAxisSize(),n=r.len!==r.oldAxisLength,yi(r.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(i=!0)}),(n||i||r.isLinked||r.userMin!==r.oldUserMin||r.userMax!==r.oldUserMax)&&(r.getSeriesExtremes(),r.setTickPositions(),r.oldUserMin=r.userMin,r.oldUserMax=r.userMax,r.isDirty||(r.isDirty=n||r.min!==r.oldMin||r.max!==r.oldMax)),!r.isXAxis)for(t in o)for(e in o[t])o[t][e].cum=o[t][e].total;r.setMaxTicks()},setExtremes:function(e,i,n,r,o){var s=this,a=s.chart;n=p(n,!0),o=t(o,{min:e,max:i}),_i(s,"setExtremes",o,function(){s.userMin=e,s.userMax=i,s.isDirtyExtremes=!0,n&&a.redraw(r)})},zoom:function(t,e){return this.setExtremes(t,e,!1,U,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this,e=t.chart,i=t.options,n=i.offsetLeft||0,r=i.offsetRight||0;t.left=p(i.left,e.plotLeft+n),t.top=p(i.top,e.plotTop),t.width=p(i.width,e.plotWidth-n+r),t.height=p(i.height,e.plotHeight),t.bottom=e.chartHeight-t.height-t.top,t.right=e.chartWidth-t.width-t.left,t.len=ye(t.horiz?t.width:t.height,0)},getExtremes:function(){var t=this,e=t.isLog;return{min:e?I(l(t.min)):t.min,max:e?I(l(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,i=e.isLog,n=i?l(e.min):e.min,r=i?l(e.max):e.max;return n>t||null===t?t=n:t>r&&(t=r),e.translate(t,0,1,0,1)},addPlotBandOrLine:function(t){var e=new H(this,t).render();return this.plotLinesAndBands.push(e),e},getOffset:function(){var t,e,i,n,r=this,o=r.chart,s=o.renderer,a=r.options,l=r.tickPositions,h=r.ticks,u=r.horiz,d=r.side,f=0,g=0,m=a.title,y=a.labels,v=0,b=o.axisOffset,x=[-1,1,1,-1][d];if(r.hasData=t=r.hasVisibleSeries||c(r.min)&&c(r.max)&&!!l,r.showAxis=e=t||p(a.showEmpty,!0),r.axisGroup||(r.gridGroup=s.g("grid").attr({zIndex:a.gridZIndex||1}).add(),r.axisGroup=s.g("axis").attr({zIndex:a.zIndex||2}).add(),r.labelGroup=s.g("axis-labels").attr({zIndex:y.zIndex||7}).add()),t||r.isLinked)yi(l,function(t){h[t]?h[t].addLabel():h[t]=new z(r,t)}),yi(l,function(t){(0===d||2===d||{1:"left",3:"right"}[d]===y.align)&&(v=ye(h[t].getLabelSize(),v))}),r.staggerLines&&(v+=16*(r.staggerLines-1));else for(n in h)h[n].destroy(),delete h[n];m&&m.text&&(r.axisTitle||(r.axisTitle=s.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:m.textAlign||{low:"left",middle:"center",high:"right"}[m.align]}).css(m.style).add(r.axisGroup),r.axisTitle.isNew=!0),e&&(f=r.axisTitle.getBBox()[u?"height":"width"],g=p(m.margin,u?5:10),i=m.offset),r.axisTitle[e?"show":"hide"]()),r.offset=x*p(a.offset,b[d]),r.axisTitleMargin=p(i,v+g+(2!==d&&v&&x*a.labels[u?"y":"x"])),b[d]=ye(b[d],r.axisTitleMargin+f+x*r.offset)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,r=this.horiz,o=this.left+(i?this.width:0)+n,s=e.chartHeight-this.bottom-(i?this.height:0)+n;return this.lineTop=s,e.renderer.crispLine([Xe,r?this.left:o,r?s:this.top,je,r?e.chartWidth-this.right:o,r?s:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,r=this.len,o=this.options.title,s=t?e:n,a=this.opposite,l=this.offset,h=i(o.style.fontSize||12),c={low:s+(t?0:r),middle:s+r/2,high:s+(t?r:0)}[o.align],u=(t?n+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?h:0);return{x:t?c:u+(a?this.width:0)+l+(o.x||0),y:t?u-(a?this.height:0)+l:c+(o.y||0)}},render:function(){var t,e,i,n=this,r=n.chart,o=r.renderer,s=n.options,a=n.isLog,h=n.isLinked,u=n.tickPositions,d=n.axisTitle,p=n.stacks,f=n.ticks,g=n.minorTicks,m=n.alternateBands,y=s.stackLabels,v=s.alternateGridColor,b=n.tickmarkOffset,x=s.lineWidth,w=r.hasRendered,k=w&&c(n.oldMin)&&!isNaN(n.oldMin),C=n.hasData,_=n.showAxis;if((C||h)&&(n.minorTickInterval&&!n.categories&&yi(n.getMinorTickPositions(),function(t){g[t]||(g[t]=new z(n,t,"minor")),k&&g[t].isNew&&g[t].render(null,!0),g[t].isActive=!0,g[t].render()}),yi(u.slice(1).concat([u[0]]),function(t,e){e=e===u.length-1?0:e+1,(!h||t>=n.min&&n.max>=t)&&(f[t]||(f[t]=new z(n,t)),k&&f[t].isNew&&f[t].render(e,!0),f[t].isActive=!0,f[t].render(e))}),v&&yi(u,function(t,r){0===r%2&&n.max>t&&(m[t]||(m[t]=new H(n)),e=t+b,i=u[r+1]!==U?u[r+1]+b:n.max,m[t].options={from:a?l(e):e,to:a?l(i):i,color:v},m[t].render(),m[t].isActive=!0)}),n._addedPlotLB||(yi((s.plotLines||[]).concat(s.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),yi([f,g,m],function(t){var e;for(e in t)t[e].isActive?t[e].isActive=!1:(t[e].destroy(),delete t[e])}),x&&(t=n.getLinePath(x),n.axisLine?n.axisLine.animate({d:t}):n.axisLine=o.path(t).attr({stroke:s.lineColor,"stroke-width":x,zIndex:7}).add(n.axisGroup),n.axisLine[_?"show":"hide"]()),d&&_&&(d[d.isNew?"attr":"animate"](n.getTitlePosition()),d.isNew=!1),y&&y.enabled){var D,M,T,P=n.stackTotalGroup;P||(n.stackTotalGroup=P=o.g("stack-labels").attr({visibility:Ye,zIndex:6}).add()),P.translate(r.plotLeft,r.plotTop);for(D in p){M=p[D];for(T in M)M[T].render(P)}}n.isDirty=!1},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=e.length;i--;)e[i].id===t&&e[i].destroy()},setTitle:function(t,e){var i=this.chart,n=this.options,r=this.axisTitle;n.title=wi(n.title,t),this.axisTitle=r&&r.destroy(),this.isDirty=!0,p(e,!0)&&i.redraw()},redraw:function(){var t=this,e=t.chart;e.tracker.resetTracker&&e.tracker.resetTracker(!0),t.render(),yi(t.plotLinesAndBands,function(t){t.render()}),yi(t.series,function(t){t.isDirty=!0})},setCategories:function(t,e){var i=this,n=i.chart;i.categories=i.userOptions.categories=t,yi(i.series,function(t){t.translate(),t.setTooltipPoints(!0)}),i.isDirty=!0,p(e,!0)&&n.redraw()},destroy:function(){var t,e=this,i=e.stacks;Ci(e);for(t in i)P(i[t]),i[t]=null;yi([e.ticks,e.minorTicks,e.alternateBands,e.plotLinesAndBands],function(t){P(t)}),yi(["stackTotalGroup","axisLine","axisGroup","gridGroup","labelGroup","axisTitle"],function(t){e[t]&&(e[t]=e[t].destroy())})}},B.prototype={destroy:function(){yi(this.crosshairs,function(t){t&&t.destroy()}),this.label&&(this.label=this.label.destroy())},move:function(e,i,n,r){var o=this,s=o.now,a=o.options.animation!==!1&&!o.isHidden;t(s,{x:a?(2*s.x+e)/3:e,y:a?(s.y+i)/2:i,anchorX:a?(2*s.anchorX+n)/3:n,anchorY:a?(s.anchorY+r)/2:r}),o.label.attr(s),a&&(be(e-s.x)>1||be(i-s.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(e,i,n,r)},32))},hide:function(){if(!this.isHidden){var t=this.chart.hoverPoints;this.label.hide(),t&&yi(t,function(t){t.setState()}),this.chart.hoverPoints=null,this.isHidden=!0}},hideCrosshairs:function(){yi(this.crosshairs,function(t){t&&t.hide()})},getAnchor:function(t,e){var i,n,r=this.chart,o=r.inverted,s=0,a=0;return t=d(t),i=t[0].tooltipPos,i||(yi(t,function(t){n=t.series.yAxis,s+=t.plotX,a+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!o&&n?n.top-r.plotTop:0)}),s/=t.length,a/=t.length,i=[o?r.plotWidth-a:s,this.shared&&!o&&t.length>1&&e?e.chartY-r.plotTop:o?r.plotHeight-s:a]),xi(i,fe)},getPosition:function(t,e,i){var n,r=this.chart,o=r.plotLeft,s=r.plotTop,a=r.plotWidth,l=r.plotHeight,h=p(this.options.distance,12),c=i.plotX,u=i.plotY,d=c+o+(r.inverted?h:-t-h),f=u-e+s+15;return 7>d&&(d=o+ye(c,0)+h),d+t>o+a&&(d-=d+t-(o+a),f=u-e+s-h,n=!0),s+5>f&&(f=s+5,n&&u>=f&&f+e>=u&&(f=u+s+h)),f+e>s+l&&(f=ye(s,s+l-e-h)),{x:d,y:f}},refresh:function(t,e){function i(){var t,e=this,i=e.points||d(e),n=i[0].series;return t=[n.tooltipHeaderFormatter(i[0].key)],yi(i,function(e){n=e.series,t.push(n.tooltipFormatter&&n.tooltipFormatter(e)||e.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),t.push(m.footerFormat||""),t.join("")}var n,r,o,s,a,l,h,c,u=this,f=u.chart,g=u.label,m=u.options,y={},v=[],b=m.formatter||i,x=f.hoverPoints,w=m.crosshairs,k=u.shared;if(s=u.getAnchor(t,e),n=s[0],r=s[1],!k||t.series&&t.series.noSharedTooltip?y=t.getLabelConfig():(f.hoverPoints=t,x&&yi(x,function(t){t.setState()}),yi(t,function(t){t.setState(Ze),v.push(t.getLabelConfig())}),y={x:t[0].category,y:t[0].y},y.points=v,t=t[0]),a=b.call(y),c=t.series,o=k||!c.isCartesian||c.tooltipOutsidePlot||f.isInsidePlot(n,r),a!==!1&&o?(u.isHidden&&g.show(),g.attr({text:a}),h=m.borderColor||t.color||c.color||"#606060",g.attr({stroke:h}),l=(m.positioner||u.getPosition).call(u,g.width,g.height,{plotX:n,plotY:r}),u.move(fe(l.x),fe(l.y),n+f.plotLeft,r+f.plotTop),u.isHidden=!1):this.hide(),w){w=d(w);for(var C,_,D,M=w.length;M--;)D=t.series[M?"yAxis":"xAxis"],w[M]&&D&&(C=D.getPlotLinePath(M?p(t.stackY,t.y):t.x,1),u.crosshairs[M]?u.crosshairs[M].attr({d:C,visibility:Ye}):(_={"stroke-width":w[M].width||1,stroke:w[M].color||"#C0C0C0",zIndex:w[M].zIndex||2},w[M].dashStyle&&(_.dashstyle=w[M].dashStyle),u.crosshairs[M]=f.renderer.path(C).attr(_).add()))}_i(f,"tooltipRefresh",{text:a,x:n+f.plotLeft,y:r+f.plotTop,borderColor:h})}},R.prototype={normalizeMouseEvent:function(e){var i,n,r,o;return e=e||de.event,e.target||(e.target=e.srcElement),e=Di(e),o=e.touches?e.touches.item(0):e,this.chartPosition=i=bi(this.chart.container),o.pageX===U?(n=e.x,r=e.y):(n=o.pageX-i.left,r=o.pageY-i.top),t(e,{chartX:fe(n),chartY:fe(r)})},getMouseCoordinates:function(t){var e={xAxis:[],yAxis:[]},i=this.chart;return yi(i.axes,function(n){var r=n.isXAxis,o=i.inverted?!r:r;e[r?"xAxis":"yAxis"].push({axis:n,value:n.translate((o?t.chartX-i.plotLeft:n.top+n.len-t.chartY)-n.minPixelPadding,!0)})}),e},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},onmousemove:function(t){var e,i,n,r,o=this,s=o.chart,a=s.series,l=s.tooltip,h=s.hoverPoint,c=s.hoverSeries,u=s.chartWidth,d=o.getIndex(t);if(l&&o.options.tooltip.shared&&(!c||!c.noSharedTooltip)){for(i=[],n=a.length,r=0;n>r;r++)a[r].visible&&a[r].options.enableMouseTracking!==!1&&!a[r].noSharedTooltip&&a[r].tooltipPoints.length&&(e=a[r].tooltipPoints[d],e._dist=be(d-e[a[r].xAxis.tooltipPosName||"plotX"]),u=ve(u,e._dist),i.push(e));for(n=i.length;n--;)i[n]._dist>u&&i.splice(n,1);i.length&&i[0].plotX!==o.hoverX&&(l.refresh(i,t),o.hoverX=i[0].plotX)}c&&c.tracker&&(e=c.tooltipPoints[d],e&&e!==h&&e.onMouseOver())},resetTracker:function(t){var e=this,i=e.chart,n=i.hoverSeries,r=i.hoverPoint,o=i.tooltip,s=o&&o.shared?i.hoverPoints:r;t=t&&o&&s,t&&d(s)[0].plotX===U&&(t=!1),t?o.refresh(s):(r&&r.onMouseOut(),n&&n.onMouseOut(),o&&(o.hide(),o.hideCrosshairs()),e.hoverX=null)},setDOMEvents:function(){function e(){if(r.selectionMarker){var t,n={xAxis:[],yAxis:[]},a=r.selectionMarker.getBBox(),l=a.x-o.plotLeft,h=a.y-o.plotTop;i&&(yi(o.axes,function(e){if(e.options.zoomEnabled!==!1){var i=e.isXAxis,r=o.inverted?!i:i,s=e.translate(r?l:o.plotHeight-h-a.height,!0,0,0,1),c=e.translate((r?l+a.width:o.plotHeight-h)-2*e.minPixelPadding,!0,0,0,1);isNaN(s)||isNaN(c)||(n[i?"xAxis":"yAxis"].push({axis:e,min:ve(s,c),max:ye(s,c)}),t=!0)}}),t&&_i(o,"selection",n,function(t){o.zoom(t)})),r.selectionMarker=r.selectionMarker.destroy()}o&&(f(s,{cursor:"auto"}),o.cancelClick=i,o.mouseIsDown=i=!1),Ci(ue,Ee?"touchend":"mouseup",e)}var i,n=!0,r=this,o=r.chart,s=o.container,a=r.zoomX&&!o.inverted||r.zoomY&&o.inverted,l=r.zoomY&&!o.inverted||r.zoomX&&o.inverted;r.hideTooltipOnMouseMove=function(t){t=Di(t),r.chartPosition&&o.hoverSeries&&o.hoverSeries.isCartesian&&!o.isInsidePlot(t.pageX-r.chartPosition.left-o.plotLeft,t.pageY-r.chartPosition.top-o.plotTop)&&r.resetTracker()},r.hideTooltipOnMouseLeave=function(){r.resetTracker(),r.chartPosition=null},s.onmousedown=function(t){t=r.normalizeMouseEvent(t),!Ee&&t.preventDefault&&t.preventDefault(),o.mouseIsDown=!0,o.cancelClick=!1,o.mouseDownX=r.mouseDownX=t.chartX,r.mouseDownY=t.chartY,ki(ue,Ee?"touchend":"mouseup",e)};var h=function(t){if(!(t&&t.touches&&t.touches.length>1)){t=r.normalizeMouseEvent(t),Ee||(t.returnValue=!1);var e=t.chartX,s=t.chartY,h=!o.isInsidePlot(e-o.plotLeft,s-o.plotTop);if(Ee&&"touchstart"===t.type&&(u(t.target,"isTracker")?o.runTrackerClick||t.preventDefault():o.runChartClick||h||t.preventDefault()),h&&(o.plotLeft>e?e=o.plotLeft:e>o.plotLeft+o.plotWidth&&(e=o.plotLeft+o.plotWidth),o.plotTop>s?s=o.plotTop:s>o.plotTop+o.plotHeight&&(s=o.plotTop+o.plotHeight)),o.mouseIsDown&&"touchstart"!==t.type&&(i=Math.sqrt(Math.pow(r.mouseDownX-e,2)+Math.pow(r.mouseDownY-s,2)),i>10)){var c=o.isInsidePlot(r.mouseDownX-o.plotLeft,r.mouseDownY-o.plotTop);if(o.hasCartesianSeries&&(r.zoomX||r.zoomY)&&c&&(r.selectionMarker||(r.selectionMarker=o.renderer.rect(o.plotLeft,o.plotTop,a?1:o.plotWidth,l?1:o.plotHeight,0).attr({fill:r.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),r.selectionMarker&&a){var d=e-r.mouseDownX;r.selectionMarker.attr({width:be(d),x:(d>0?0:d)+r.mouseDownX})}if(r.selectionMarker&&l){var p=s-r.mouseDownY;r.selectionMarker.attr({height:be(p),y:(p>0?0:p)+r.mouseDownY})}c&&!r.selectionMarker&&r.options.chart.panning&&o.pan(e)}return h||r.onmousemove(t),n=h,h||!o.hasCartesianSeries}};s.onmousemove=h,ki(s,"mouseleave",r.hideTooltipOnMouseLeave),ki(ue,"mousemove",r.hideTooltipOnMouseMove),s.ontouchstart=function(t){(r.zoomX||r.zoomY)&&s.onmousedown(t),h(t)},s.ontouchmove=h,s.ontouchend=function(){i&&r.resetTracker()},s.onclick=function(e){var i,n,s=o.hoverPoint;e=r.normalizeMouseEvent(e),e.cancelBubble=!0,o.cancelClick||(s&&(u(e.target,"isTracker")||u(e.target.parentNode,"isTracker"))?(i=s.plotX,n=s.plotY,t(s,{pageX:r.chartPosition.left+o.plotLeft+(o.inverted?o.plotWidth-n:i),pageY:r.chartPosition.top+o.plotTop+(o.inverted?o.plotHeight-i:n)}),_i(s.series,"click",t(e,{point:s})),s.firePointEvent("click",e)):(t(e,r.getMouseCoordinates(e)),o.isInsidePlot(e.chartX-o.plotLeft,e.chartY-o.plotTop)&&_i(o,"click",e)))}},destroy:function(){var t=this,e=t.chart,i=e.container;e.trackerGroup&&(e.trackerGroup=e.trackerGroup.destroy()),Ci(i,"mouseleave",t.hideTooltipOnMouseLeave),Ci(ue,"mousemove",t.hideTooltipOnMouseMove),i.onclick=i.onmousedown=i.onmousemove=i.ontouchstart=i.ontouchend=i.ontouchmove=null,clearInterval(this.tooltipTimeout)},init:function(t,e){t.trackerGroup||(t.trackerGroup=t.renderer.g("tracker").attr({zIndex:9}).add()),e.enabled&&(t.tooltip=new B(t,e)),this.setDOMEvents()}},Y.prototype={init:function(t){var e=this,n=e.options=t.options.legend;if(n.enabled){var r=n.itemStyle,o=p(n.padding,8),s=n.itemMarginTop||0;e.baseline=i(r.fontSize)+3+s,e.itemStyle=r,e.itemHiddenStyle=wi(r,n.itemHiddenStyle),e.itemMarginTop=s,e.padding=o,e.initialItemX=o,e.initialItemY=o-5,e.maxItemWidth=0,e.chart=t,e.itemHeight=0,e.lastLineHeight=0,e.render(),ki(e.chart,"endResize",function(){e.positionCheckboxes()})}},colorizeItem:function(t,e){var i,n,r=this,o=r.options,s=t.legendItem,a=t.legendLine,l=t.legendSymbol,h=r.itemHiddenStyle.color,c=e?o.itemStyle.color:h,u=e?t.color:h,d=t.options&&t.options.marker,p={stroke:u,fill:u};if(s&&s.css({fill:c}),a&&a.attr({stroke:u}),l){if(d){d=t.convertAttribs(d);for(i in d)n=d[i],n!==U&&(p[i]=n)}l.attr(p)}},positionItem:function(t){var e=this,i=e.options,n=i.symbolPadding,r=!i.rtl,o=t._legendItemPos,s=o[0],a=o[1],l=t.checkbox;t.legendGroup&&t.legendGroup.translate(r?s:e.legendWidth-s-2*n-4,a),l&&(l.x=s,l.y=a)},destroyItem:function(t){var e=t.checkbox;yi(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&t[e].destroy()}),e&&S(t.checkbox)},destroy:function(){var t=this,e=t.group,i=t.box;i&&(t.box=i.destroy()),e&&(t.group=e.destroy())},positionCheckboxes:function(){var t=this;yi(t.allItems,function(e){var i=e.checkbox,n=t.group.alignAttr;i&&f(i,{left:n.translateX+e.legendItemWidth+i.x-20+Ve,top:n.translateY+i.y+3+Ve})})},renderItem:function(t){var e,i,n,r=this,o=r.chart,s=o.renderer,a=r.options,l="horizontal"===a.layout,h=a.symbolWidth,c=a.symbolPadding,u=r.itemStyle,d=r.itemHiddenStyle,p=r.padding,f=!a.rtl,m=a.width,y=a.itemMarginBottom||0,v=r.itemMarginTop,b=r.initialItemX,x=t.legendItem,w=t.series||t,k=w.options,C=k.showCheckbox;x||(t.legendGroup=s.g("legend-item").attr({zIndex:1}).add(r.scrollGroup),w.drawLegendSymbol(r,t),t.legendItem=x=s.text(a.labelFormatter.call(t),f?h+c:-c,r.baseline,a.useHTML).css(wi(t.visible?u:d)).attr({align:f?"left":"right",zIndex:2}).add(t.legendGroup),t.legendGroup.on("mouseover",function(){t.setState(Ze),x.css(r.options.itemHoverStyle)}).on("mouseout",function(){x.css(t.visible?u:d),t.setState()}).on("click",function(e){var i="legendItemClick",n=function(){t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent(i,e,n):_i(t,i,e,n)}),r.colorizeItem(t,t.visible),k&&C&&(t.checkbox=g("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},a.itemCheckboxStyle,o.container),ki(t.checkbox,"click",function(e){var i=e.target;_i(t,"checkboxClick",{checked:i.checked},function(){t.select()})}))),i=x.getBBox(),n=t.legendItemWidth=a.itemWidth||h+c+i.width+p+(C?20:0),r.itemHeight=e=i.height,l&&r.itemX-b+n>(m||o.chartWidth-2*p-b)&&(r.itemX=b,r.itemY+=v+r.lastLineHeight+y,r.lastLineHeight=0),r.maxItemWidth=ye(r.maxItemWidth,n),r.lastItemY=v+r.itemY+y,r.lastLineHeight=ye(e,r.lastLineHeight),t._legendItemPos=[r.itemX,r.itemY],l?r.itemX+=n:(r.itemY+=v+e+y,r.lastLineHeight=e),r.offsetWidth=m||ye(l?r.itemX-b:n,r.offsetWidth)},render:function(){var e,i,n,r,o=this,s=o.chart,a=s.renderer,l=o.group,h=o.box,c=o.options,u=o.padding,d=c.borderWidth,p=c.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,l||(o.group=l=a.g("legend").attr({zIndex:7}).add(),o.contentGroup=a.g().attr({zIndex:1}).add(l),o.scrollGroup=a.g().add(o.contentGroup),o.clipRect=a.clipRect(0,0,9999,s.chartHeight),o.contentGroup.clip(o.clipRect)),e=[],yi(s.series,function(t){var i=t.options;i.showInLegend&&(e=e.concat(t.legendItems||("point"===i.legendType?t.data:t)))}),D(e,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&e.reverse(),o.allItems=e,o.display=i=!!e.length,yi(e,function(t){o.renderItem(t)}),n=c.width||o.offsetWidth,r=o.lastItemY+o.lastLineHeight,r=o.handleOverflow(r),(d||p)&&(n+=u,r+=u,h?n>0&&r>0&&(h[h.isNew?"attr":"animate"](h.crisp(null,null,null,n,r)),h.isNew=!1):(o.box=h=a.rect(0,0,n,r,c.borderRadius,d||0).attr({stroke:c.borderColor,"stroke-width":d||0,fill:p||Ue}).add(l).shadow(c.shadow),h.isNew=!0),h[i?"show":"hide"]()),o.legendWidth=n,o.legendHeight=r,yi(e,function(t){o.positionItem(t)}),i&&l.align(t({width:n,height:r},c),!0,s.spacingBox),s.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,r=this.chart,o=r.renderer,s=this.options,a=s.y,l="top"===s.verticalAlign,h=r.spacingBox.height+(l?-a:a)-this.padding,c=s.maxHeight,u=this.clipRect,d=s.navigation,f=p(d.animation,!0),g=d.arrowSize||12,m=this.nav;return"horizontal"===s.layout&&(h/=2),c&&(h=ve(h,c)),t>h?(this.clipHeight=i=h-20,this.pageCount=e=me(t/i),this.currentPage=p(this.currentPage,1),this.fullHeight=t,u.attr({height:i}),m||(this.nav=m=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,g,g).on("click",function(){n.scroll(-1,f)}).add(m),this.pager=o.text("",15,10).css(d.style).add(m),this.down=o.symbol("triangle-down",0,0,g,g).on("click",function(){n.scroll(1,f)}).add(m)),n.scroll(0),t=h):m&&(u.attr({height:r.chartHeight}),m.hide(),this.scrollGroup.attr({translateY:1})),t},scroll:function(t,e){var i=this.pageCount,n=this.currentPage+t,r=this.clipHeight,o=this.options.navigation,s=o.activeColor,a=o.inactiveColor,l=this.pager,h=this.padding;n>i&&(n=i),n>0&&(e!==U&&O(e,this.chart),this.nav.attr({translateX:h,translateY:r+7,visibility:Ye}),this.up.attr({fill:1===n?a:s}).css({cursor:1===n?"default":"pointer"}),l.attr({text:n+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:n===i?a:s}).css({cursor:n===i?"default":"pointer"}),this.scrollGroup.animate({translateY:-ve(r*(n-1),this.fullHeight-r+h)+1}),l.attr({text:n+"/"+i}),this.currentPage=n)}},V.prototype={initSeries:function(t){var e=this,i=e.options.chart,n=t.type||i.type||i.defaultSeriesType,r=new ui[n];return r.init(this,t),r},addSeries:function(t,e,i){var n,r=this;return t&&(O(i,r),e=p(e,!0),_i(r,"addSeries",{options:t},function(){n=r.initSeries(t),r.isDirtyLegend=!0,e&&r.redraw()})),n},isInsidePlot:function(t,e,i){var n=i?e:t,r=i?t:e;return n>=0&&this.plotWidth>=n&&r>=0&&this.plotHeight>=r},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&yi(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(t){var e,i,n=this,r=n.axes,o=n.series,s=n.tracker,a=n.legend,l=n.isDirtyLegend,h=n.isDirtyBox,c=o.length,u=c,d=n.renderer,p=d.isHidden(),f=[];for(O(t,n),p&&n.cloneRenderTo();u--;)if(i=o[u],i.isDirty&&i.options.stacking){e=!0;break}if(e)for(u=c;u--;)i=o[u],i.options.stacking&&(i.isDirty=!0);yi(o,function(t){t.isDirty&&"point"===t.options.legendType&&(l=!0)}),l&&a.options.enabled&&(a.render(),n.isDirtyLegend=!1),n.hasCartesianSeries&&(n.isResizing||(n.maxTicks=null,yi(r,function(t){t.setScale()})),n.adjustTickAmounts(),n.getMargins(),yi(r,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,f.push(function(){_i(t,"afterSetExtremes",t.getExtremes())})),(t.isDirty||h||e)&&(t.redraw(),h=!0)})),h&&n.drawChartBox(),yi(o,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),s&&s.resetTracker&&s.resetTracker(!0),d.draw(),_i(n,"redraw"),p&&n.cloneRenderTo(!0),yi(f,function(t){t.call()})},showLoading:function(e){var i=this,n=i.options,r=i.loadingDiv,o=n.loading;r||(i.loadingDiv=r=g(He,{className:Re+"loading"},t(o.style,{left:i.plotLeft+Ve,top:i.plotTop+Ve,width:i.plotWidth+Ve,height:i.plotHeight+Ve,zIndex:10,display:Ue}),i.container),i.loadingSpan=g("span",null,o.labelStyle,r)),i.loadingSpan.innerHTML=e||n.lang.loading,i.loadingShown||(f(r,{opacity:0,display:""}),Mi(r,{opacity:o.style.opacity},{duration:o.showDuration||0}),i.loadingShown=!0)},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&Mi(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){f(e,{display:Ue})}}),this.loadingShown=!1},get:function(t){var e,i,n,r=this,o=r.axes,s=r.series;for(e=0;o.length>e;e++)if(o[e].options.id===t)return o[e];for(e=0;s.length>e;e++)if(s[e].options.id===t)return s[e];for(e=0;s.length>e;e++)for(n=s[e].points||[],i=0;n.length>i;i++)if(n[i].id===t)return n[i];return null},getAxes:function(){var t,e,i=this,n=this.options,r=n.xAxis||{},o=n.yAxis||{};r=d(r),yi(r,function(t,e){t.index=e,t.isX=!0}),o=d(o),yi(o,function(t,e){t.index=e}),t=r.concat(o),yi(t,function(t){e=new W(i,t)}),i.adjustTickAmounts()},getSelectedPoints:function(){var t=[];return yi(this.series,function(e){t=t.concat(vi(e.points,function(t){return t.selected}))}),t},getSelectedSeries:function(){return vi(this.series,function(t){return t.selected})},showResetZoom:function(){var t=this,e=G.lang,i=t.options.chart.resetZoomButton,n=i.theme,r=n.states,o="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,r&&r.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,t[o]),this.resetZoomButton.alignTo=o},zoomOut:function(){var t=this,e=t.resetZoomButton;_i(t,"selection",{resetSelection:!0},function(){t.zoom()}),e&&(t.resetZoomButton=e.destroy())},zoom:function(t){var e,i=this;!t||t.resetSelection?yi(i.axes,function(t){e=t.zoom()}):yi(t.xAxis.concat(t.yAxis),function(t){var n=t.axis;i.tracker[n.isXAxis?"zoomX":"zoomY"]&&(e=n.zoom(t.min,t.max))}),i.resetZoomButton||i.showResetZoom(),e&&i.redraw(p(i.options.chart.animation,100>i.pointCount))},pan:function(t){var e=this,i=e.xAxis[0],n=e.mouseDownX,r=i.pointRange/2,o=i.getExtremes(),s=i.translate(n-t,!0)+r,a=i.translate(n+e.plotWidth-t,!0)-r,l=e.hoverPoints;l&&yi(l,function(t){t.setState()}),i.series.length&&s>ve(o.dataMin,o.min)&&ye(o.dataMax,o.max)>a&&i.setExtremes(s,a,!0,!1,{trigger:"pan"}),e.mouseDownX=t,f(e.container,{cursor:"move"})},setTitle:function(t,e){var i,n,r=this,o=r.options;r.chartTitleOptions=i=wi(o.title,t),r.chartSubtitleOptions=n=wi(o.subtitle,e),yi([["title",t,i],["subtitle",e,n]],function(t){var e=t[0],i=r[e],n=t[1],o=t[2];i&&n&&(r[e]=i=i.destroy()),o&&o.text&&!i&&(r[e]=r.renderer.text(o.text,0,0,o.useHTML).attr({align:o.align,"class":Re+e,zIndex:o.zIndex||4}).css(o.style).add().align(o,!1,r.spacingBox))})},getChartSize:function(){var t=this,e=t.options.chart,i=t.renderToClone||t.renderTo;t.containerWidth=fi(i,"width"),t.containerHeight=fi(i,"height"),t.chartWidth=e.width||t.containerWidth||600,t.chartHeight=e.height||(t.containerHeight>19?t.containerHeight:400)},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),S(e),delete this.renderToClone):(i&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),f(e,{position:Fe,top:"-9999px",display:"block"}),ue.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var e,i,r,o,s,a=this,l=a.options.chart;a.renderTo=o=l.renderTo,s=Re+$e++,n(o)&&(a.renderTo=o=ue.getElementById(o)),o||A(13,!0),o.innerHTML="",o.offsetWidth||a.cloneRenderTo(),a.getChartSize(),i=a.chartWidth,r=a.chartHeight,a.container=e=g(He,{className:Re+"container"+(l.className?" "+l.className:""),id:s},t({position:We,overflow:Be,width:i+Ve,height:r+Ve,textAlign:"left",lineHeight:"normal",zIndex:0},l.style),a.renderToClone||o),a.renderer=l.forExport?new Oi(e,i,r,!0):new X(e,i,r),Le&&a.renderer.create(a,e,i,r)},getMargins:function(){var t,e,i=this,n=i.options.chart,r=n.spacingTop,o=n.spacingRight,s=n.spacingBottom,a=n.spacingLeft,l=i.legend,h=i.optionsMarginTop,u=i.optionsMarginLeft,d=i.optionsMarginRight,f=i.optionsMarginBottom,g=i.chartTitleOptions,m=i.chartSubtitleOptions,y=i.options.legend,v=p(y.margin,10),b=y.x,x=y.y,w=y.align,k=y.verticalAlign;i.resetMargins(),t=i.axisOffset,!i.title&&!i.subtitle||c(i.optionsMarginTop)||(e=ye(i.title&&!g.floating&&!g.verticalAlign&&g.y||0,i.subtitle&&!m.floating&&!m.verticalAlign&&m.y||0),e&&(i.plotTop=ye(i.plotTop,e+p(g.margin,15)+r))),l.display&&!y.floating&&("right"===w?c(d)||(i.marginRight=ye(i.marginRight,l.legendWidth-b+v+o)):"left"===w?c(u)||(i.plotLeft=ye(i.plotLeft,l.legendWidth+b+v+a)):"top"===k?c(h)||(i.plotTop=ye(i.plotTop,l.legendHeight+x+v+r)):"bottom"===k&&(c(f)||(i.marginBottom=ye(i.marginBottom,l.legendHeight-x+v+s)))),i.extraBottomMargin&&(i.marginBottom+=i.extraBottomMargin),i.extraTopMargin&&(i.plotTop+=i.extraTopMargin),i.hasCartesianSeries&&yi(i.axes,function(t){t.getOffset()}),c(u)||(i.plotLeft+=t[3]),c(h)||(i.plotTop+=t[0]),c(f)||(i.marginBottom+=t[2]),c(d)||(i.marginRight+=t[1]),i.setChartSize()},initReflow:function(){function t(t){var o=n.width||fi(r,"width"),s=n.height||fi(r,"height"),a=t?t.target:de;o&&s&&(a===de||a===ue)&&((o!==i.containerWidth||s!==i.containerHeight)&&(clearTimeout(e),i.reflowTimeout=e=setTimeout(function(){i.container&&i.resize(o,s,!1)},100)),i.containerWidth=o,i.containerHeight=s)}var e,i=this,n=i.options.chart,r=i.renderTo;ki(de,"resize",t),ki(i,"destroy",function(){Ci(de,"resize",t)})},resize:function(t,e,i){var n,r,o,s,a=this,l=a.resetZoomButton,h=a.title,u=a.subtitle;a.isResizing+=1,s=function(){a&&_i(a,"endResize",null,function(){a.isResizing-=1})},O(i,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,c(t)&&(a.chartWidth=n=fe(t)),c(e)&&(a.chartHeight=r=fe(e)),f(a.container,{width:n+Ve,height:r+Ve}),a.renderer.setSize(n,r,i),a.plotWidth=n-a.plotLeft-a.marginRight,a.plotHeight=r-a.plotTop-a.marginBottom,a.maxTicks=null,yi(a.axes,function(t){t.isDirty=!0,t.setScale()}),yi(a.series,function(t){t.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.getMargins(),o=a.spacingBox,h&&h.align(null,null,o),u&&u.align(null,null,o),l&&l.align&&l.align(null,null,a[l.alignTo]),a.redraw(i),a.oldChartHeight=null,_i(a,"resize"),Z===!1?s():setTimeout(s,Z&&Z.duration||500)},setChartSize:function(){var t,e,i,n,r,o=this,s=o.inverted,a=o.chartWidth,l=o.chartHeight,h=o.options.chart,c=h.spacingTop,u=h.spacingRight,d=h.spacingBottom,p=h.spacingLeft;o.plotLeft=t=fe(o.plotLeft),o.plotTop=e=fe(o.plotTop),o.plotWidth=i=fe(a-t-o.marginRight),o.plotHeight=n=fe(l-e-o.marginBottom),o.plotSizeX=s?n:i,o.plotSizeY=s?i:n,o.plotBorderWidth=r=h.plotBorderWidth||0,o.spacingBox={x:p,y:c,width:a-p-u,height:l-c-d},o.plotBox={x:t,y:e,width:i,height:n},o.clipBox={x:r/2,y:r/2,width:o.plotSizeX-r,height:o.plotSizeY-r},yi(o.axes,function(t){t.setAxisSize(),t.setAxisTranslation()
})},resetMargins:function(){var t=this,e=t.options.chart,i=e.spacingTop,n=e.spacingRight,r=e.spacingBottom,o=e.spacingLeft;t.plotTop=p(t.optionsMarginTop,i),t.marginRight=p(t.optionsMarginRight,n),t.marginBottom=p(t.optionsMarginBottom,r),t.plotLeft=p(t.optionsMarginLeft,o),t.axisOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this,n=i.options.chart,r=i.renderer,o=i.chartWidth,s=i.chartHeight,a=i.chartBackground,l=i.plotBackground,h=i.plotBorder,c=i.plotBGImage,u=n.borderWidth||0,d=n.backgroundColor,p=n.plotBackgroundColor,f=n.plotBackgroundImage,g=n.plotBorderWidth||0,m=i.plotLeft,y=i.plotTop,v=i.plotWidth,b=i.plotHeight,x=i.plotBox,w=i.clipRect,k=i.clipBox;t=u+(n.shadow?8:0),(u||d)&&(a?a.animate(a.crisp(null,null,null,o-t,s-t)):(e={fill:d||Ue},u&&(e.stroke=n.borderColor,e["stroke-width"]=u),i.chartBackground=r.rect(t/2,t/2,o-t,s-t,n.borderRadius,u).attr(e).add().shadow(n.shadow))),p&&(l?l.animate(x):i.plotBackground=r.rect(m,y,v,b,0).attr({fill:p}).add().shadow(n.plotShadow)),f&&(c?c.animate(x):i.plotBGImage=r.image(f,m,y,v,b).add()),w?w.animate({width:k.width,height:k.height}):i.clipRect=r.clipRect(k),g&&(h?h.animate(h.crisp(null,m,y,v,b)):i.plotBorder=r.rect(m,y,v,b,0,g).attr({stroke:n.plotBorderColor,"stroke-width":g,zIndex:1}).add()),i.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,r=n.options.chart,o=n.options.series;yi(["inverted","angular","polar"],function(s){for(t=ui[r.type||r.defaultSeriesType],i=n[s]||r[s]||t&&t.prototype[s],e=o&&o.length;!i&&e--;)t=ui[o[e].type],t&&t.prototype[s]&&(i=!0);n[s]=i})},render:function(){var e,n=this,r=n.axes,o=n.renderer,s=n.options,a=s.labels,l=s.credits;n.setTitle(),n.legend=new Y(n),yi(r,function(t){t.setScale()}),n.getMargins(),n.maxTicks=null,yi(r,function(t){t.setTickPositions(!0),t.setMaxTicks()}),n.adjustTickAmounts(),n.getMargins(),n.drawChartBox(),n.hasCartesianSeries&&yi(r,function(t){t.render()}),n.seriesGroup||(n.seriesGroup=o.g("series-group").attr({zIndex:3}).add()),yi(n.series,function(t){t.translate(),t.setTooltipPoints(),t.render()}),a.items&&yi(a.items,function(e){var r=t(a.style,e.style),s=i(r.left)+n.plotLeft,l=i(r.top)+n.plotTop+12;delete r.left,delete r.top,o.text(e.html,s,l).attr({zIndex:2}).css(r).add()}),l.enabled&&!n.credits&&(e=l.href,n.credits=o.text(l.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),n.hasRendered=!0},destroy:function(){var t,e=this,i=e.axes,n=e.series,r=e.container,o=r&&r.parentNode;for(_i(e,"destroy"),Ci(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();yi(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","tracker","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),r&&(r.innerHTML="",Ci(r),o&&S(r));for(t in e)delete e[t]},firstRender:function(){var t=this,e=t.options,i=t.callback,n="onreadystatechange",r="complete";return!Ie&&de==de.top&&ue.readyState!==r||Le&&!de.canvg?(Le?zi.push(function(){t.firstRender()},e.global.canvasToolsURL):ue.attachEvent(n,function(){ue.detachEvent(n,t.firstRender),ue.readyState===r&&t.firstRender()}),void 0):(t.getContainer(),_i(t,"init"),Highcharts.RangeSelector&&e.rangeSelector.enabled&&(t.rangeSelector=new Highcharts.RangeSelector(t)),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),yi(e.series||[],function(e){t.initSeries(e)}),Highcharts.Scroller&&(e.navigator.enabled||e.scrollbar.enabled)&&(t.scroller=new Highcharts.Scroller(t)),t.tracker=new R(t,e),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),yi(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),_i(t,"load"),void 0)},init:function(t){var e,i=this,n=i.options.chart;if(n.reflow!==!1&&ki(i,"load",i.initReflow),t)for(e in t)ki(i,e,t[e]);i.xAxis=[],i.yAxis=[],i.animation=Le?!1:p(n.animation,!0),i.setSize=i.resize,i.pointCount=0,i.counters=new _,i.firstRender()}},V.prototype.callbacks=[];var Hi=function(){};Hi.prototype={init:function(t,e,i){var n,r=this,o=t.chart.counters;return r.series=t,r.applyOptions(e,i),r.pointAttr={},t.options.colorByPoint&&(n=t.chart.options.colors,r.color=r.color||n[o.color++],o.wrapColor(n.length)),t.chart.pointCount++,r},applyOptions:function(e,i){var n=this,r=n.series,o=typeof e;n.config=e,"number"===o||null===e?n.y=e:"number"==typeof e[0]?(n.x=e[0],n.y=e[1]):"object"===o&&"number"!=typeof e.length?(t(n,e),n.options=e,e.dataLabels&&(r._hasPointLabels=!0),e.marker&&(r._hasPointMarkers=!0)):"string"==typeof e[0]&&(n.name=e[0],n.y=e[1]),n.x===U&&(n.x=i===U?r.autoIncrement():i)},destroy:function(){var t,e=this,i=e.series,n=i.chart,r=n.hoverPoints;n.pointCount--,r&&(e.setState(),h(r,e),r.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel)&&(Ci(e),e.destroyElements()),e.legendItem&&n.legend.destroyItem(e);for(t in e)e[t]=null},destroyElements:function(){for(var t,e=this,i=["graphic","tracker","dataLabel","group","connector","shadowGroup"],n=6;n--;)t=i[n],e[t]&&(e[t]=e[t].destroy())},getLabelConfig:function(){var t=this;return{x:t.category,y:t.y,key:t.name||t.category,series:t.series,point:t,percentage:t.percentage,total:t.total||t.stackTotal}},select:function(t,e){var i=this,n=i.series,r=n.chart;t=p(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=t,i.setState(t&&Je),e||yi(r.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=!1,t.setState(qe),t.firePointEvent("unselect"))})})},onMouseOver:function(){var t=this,e=t.series,i=e.chart,n=i.tooltip,r=i.hoverPoint;r&&r!==t&&r.onMouseOut(),t.firePointEvent("mouseOver"),!n||n.shared&&!e.noSharedTooltip||n.refresh(t),t.setState(Ze),i.hoverPoint=t},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;e&&-1!==mi(this,e)||(this.firePointEvent("mouseOut"),this.setState(),t.hoverPoint=null)},tooltipFormatter:function(t){var e,i,r,o,s,a,l,h=this,c=h.series,u=c.tooltipOptions,d=t.match(/\{(series|point)\.[a-zA-Z]+\}/g),f=/[{\.}]/,g={y:0,open:0,high:0,low:0,close:0,percentage:1,total:1};u.valuePrefix=u.valuePrefix||u.yPrefix,u.valueDecimals=u.valueDecimals||u.yDecimals,u.valueSuffix=u.valueSuffix||u.ySuffix;for(l in d)i=d[l],n(i)&&i!==t&&(s=(" "+i).split(f),e={point:h,series:c}[s[1]],a=s[2],e===h&&g.hasOwnProperty(a)?(o=g[a]?a:"value",r=(u[o+"Prefix"]||"")+v(h[a],p(u[o+"Decimals"],-1))+(u[o+"Suffix"]||"")):r=e[a],t=t.replace(i,r));return t},update:function(t,e,i){var n,o=this,s=o.series,a=o.graphic,l=s.data,h=l.length,c=s.chart;e=p(e,!0),o.firePointEvent("update",{options:t},function(){for(o.applyOptions(t),r(t)&&(s.getAttribs(),a&&a.attr(o.pointAttr[s.state])),n=0;h>n;n++)if(l[n]===o){s.xData[n]=o.x,s.yData[n]=o.y,s.options.data[n]=t;break}s.isDirty=!0,s.isDirtyData=!0,e&&c.redraw(i)})},remove:function(t,e){var i,n=this,r=n.series,o=r.chart,s=r.data,a=s.length;O(e,o),t=p(t,!0),n.firePointEvent("remove",null,function(){for(i=0;a>i;i++)if(s[i]===n){s.splice(i,1),r.options.data.splice(i,1),r.xData.splice(i,1),r.yData.splice(i,1);break}n.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&o.redraw()})},firePointEvent:function(t,e,i){var n=this,r=this.series,o=r.options;(o.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&o.allowPointSelect&&(i=function(t){n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),_i(this,t,e,i)},importEvents:function(){if(!this.hasImportedEvents){var t,e=this,i=wi(e.series.options.point,e.options),n=i.events;e.events=n;for(t in n)ki(e,t,n[t]);this.hasImportedEvents=!0}},setState:function(t){var e,i=this,n=i.plotX,r=i.plotY,o=i.series,s=o.options.states,a=Si[o.type].marker&&o.options.marker,l=a&&!a.enabled,h=a&&a.states[t],c=h&&h.enabled===!1,u=o.stateMarkerGraphic,d=o.chart,p=i.pointAttr;t=t||qe,t===i.state||i.selected&&t!==Je||s[t]&&s[t].enabled===!1||t&&(c||l&&!h.enabled)||(i.graphic?(e=a&&i.graphic.symbolName&&p[t].r,i.graphic.attr(wi(p[t],e?{x:n-e,y:r-e,width:2*e,height:2*e}:{}))):(t&&h&&(e=h.radius,u?u.attr({x:n-e,y:r-e}):o.stateMarkerGraphic=u=d.renderer.symbol(o.symbol,n-e,r-e,2*e,2*e).attr(p[t]).add(o.markerGroup)),u&&u[t&&d.isInsidePlot(n,r)?"show":"hide"]()),i.state=t)}};var Fi=function(){};Fi.prototype={isCartesian:!0,type:"line",pointClass:Hi,sorted:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(e,i){var n,r,o=this;o.chart=e,o.options=i=o.setOptions(i),o.bindAxes(),t(o,{name:i.name,state:qe,pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0}),Le&&(i.animation=!1),r=i.events;for(n in r)ki(o,n,r[n]);(r&&r.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(e.runTrackerClick=!0),o.getColor(),o.getSymbol(),o.setData(i.data,!1),o.isCartesian&&(e.hasCartesianSeries=!0),e.series.push(o),D(e.series,function(t,e){return(t.options.index||0)-(e.options.index||0)}),yi(e.series,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,i=e.options,n=e.chart;e.isCartesian&&yi(["xAxis","yAxis"],function(r){yi(n[r],function(n){t=n.options,(i[r]===t.index||i[r]===U&&0===t.index)&&(n.series.push(e),e[r]=n,n.isDirty=!0)})})},autoIncrement:function(){var t=this,e=t.options,i=t.xIncrement;return i=p(i,e.pointStart,0),t.pointInterval=p(t.pointInterval,e.pointInterval,1),t.xIncrement=i+t.pointInterval,i},getSegments:function(){var t,e=this,i=-1,n=[],r=e.points,o=r.length;if(o)if(e.options.connectNulls){for(t=o;t--;)null===r[t].y&&r.splice(t,1);r.length&&(n=[r])}else yi(r,function(t,e){null===t.y?(e>i+1&&n.push(r.slice(i+1,e)),i=e):e===o-1&&n.push(r.slice(i+1,e+1))});e.segments=n},setOptions:function(t){var e,i=this.chart,n=i.options,r=n.plotOptions,o=r[this.type],s=t.data;return t.data=null,e=wi(o,r.series,t),e.data=t.data=s,this.tooltipOptions=wi(n.tooltip,e.tooltip),null===o.marker&&delete e.marker,e},getColor:function(){var t=this.options,e=this.chart.options.colors,i=this.chart.counters;this.color=t.color||!t.colorByPoint&&e[i.color++]||"gray",i.wrapColor(e.length)},getSymbol:function(){var t=this,e=t.options.marker,i=t.chart,n=i.options.symbols,r=i.counters;t.symbol=e.symbol||n[r.symbol++],/^url/.test(t.symbol)&&(e.radius=0),r.wrapSymbol(n.length)},drawLegendSymbol:function(t){var e,i,n,r=this.options,o=r.marker,s=t.options,a=s.symbolWidth,l=this.chart.renderer,h=this.legendGroup,c=t.baseline;r.lineWidth&&(n={"stroke-width":r.lineWidth},r.dashStyle&&(n.dashstyle=r.dashStyle),this.legendLine=l.path([Xe,0,c-4,je,a,c-4]).attr(n).add(h)),o&&o.enabled&&(e=o.radius,this.legendSymbol=i=l.symbol(this.symbol,a/2-e,c-4-e,2*e,2*e).add(h))},addPoint:function(t,e,i,n){var r,o=this,s=o.data,a=o.graph,l=o.area,h=o.chart,c=o.xData,u=o.yData,d=a&&a.shift||0,f=o.options.data,g=o.pointClass.prototype;O(n,h),a&&i&&(a.shift=d+1),l&&(i&&(l.shift=d+1),l.isArea=!0),e=p(e,!0),r={series:o},g.applyOptions.apply(r,[t]),c.push(r.x),u.push(g.toYData?g.toYData.call(r):r.y),f.push(t),i&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),c.shift(),u.shift(),f.shift())),o.getAttribs(),o.isDirty=!0,o.isDirtyData=!0,e&&h.redraw()},setData:function(t,e){var i,r=this,a=r.points,l=r.options,h=r.initialColor,u=r.chart,d=null,f=r.xAxis,g=r.pointClass.prototype;r.xIncrement=null,r.pointRange=f&&f.categories?1:l.pointRange,c(h)&&(u.counters.color=h);var m,y=[],v=[],b=t?t.length:[],x=l.turboThreshold||1e3,w=r.pointArrayMap,k=w&&w.length;if(b>x){for(i=0;null===d&&b>i;)d=t[i],i++;if(s(d)){var C=p(l.pointStart,0),_=p(l.pointInterval,1);for(i=0;b>i;i++)y[i]=C,v[i]=t[i],C+=_;r.xIncrement=C}else if(o(d))if(k)for(i=0;b>i;i++)m=t[i],y[i]=m[0],v[i]=m.slice(1,k+1);else for(i=0;b>i;i++)m=t[i],y[i]=m[0],v[i]=m[1]}else for(i=0;b>i;i++)m={series:r},g.applyOptions.apply(m,[t[i]]),y[i]=m.x,v[i]=g.toYData?g.toYData.call(m):m.y;for(n(v[0])&&A(14,!0),r.data=[],r.options.data=t,r.xData=y,r.yData=v,i=a&&a.length||0;i--;)a[i]&&a[i].destroy&&a[i].destroy();f&&(f.minRange=f.userMinRange),r.isDirty=r.isDirtyData=u.isDirtyBox=!0,p(e,!0)&&u.redraw(!1)},remove:function(t,e){var i=this,n=i.chart;t=p(t,!0),i.isRemoving||(i.isRemoving=!0,_i(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,t&&n.redraw(e)})),i.isRemoving=!1},processData:function(t){var e,i,n,r,o=this,s=o.xData,a=o.yData,l=s.length,h=0,c=l,u=o.xAxis,d=o.options,p=d.cropThreshold,f=o.isCartesian;if(f&&!o.isDirty&&!u.isDirty&&!o.yAxis.isDirty&&!t)return!1;if(f&&o.sorted&&(!p||l>p||o.forceCrop)){var g=u.getExtremes(),m=g.min,y=g.max;if(m>s[l-1]||s[0]>y)s=[],a=[];else if(m>s[0]||s[l-1]>y){for(r=0;l>r;r++)if(s[r]>=m){h=ye(0,r-1);break}for(;l>r;r++)if(s[r]>y){c=r+1;break}s=s.slice(h,c),a=a.slice(h,c),e=!0}}for(r=s.length-1;r>0;r--)i=s[r]-s[r-1],i>0&&(n===U||n>i)&&(n=i);o.cropped=e,o.cropStart=h,o.processedXData=s,o.processedYData=a,null===d.pointRange&&(o.pointRange=n||1),o.closestPointRange=n},generatePoints:function(){var t,e,i,n,r=this,o=r.options,s=o.data,a=r.data,l=r.processedXData,h=r.processedYData,c=r.pointClass,u=l.length,p=r.cropStart||0,f=r.hasGroupedData,g=[];if(!a&&!f){var m=[];m.length=s.length,a=r.data=m}for(n=0;u>n;n++)e=p+n,f?g[n]=(new c).init(r,[l[n]].concat(d(h[n]))):(a[e]?i=a[e]:s[e]!==U&&(a[e]=i=(new c).init(r,s[e],l[n])),g[n]=i);if(a&&(u!==(t=a.length)||f))for(n=0;t>n;n++)n!==p||f||(n+=u),a[n]&&(a[n].destroyElements(),a[n].plotX=U);r.data=a,r.points=g},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,e=this,i=e.chart,n=e.options,r=n.stacking,o=e.xAxis,s=o.categories,a=e.yAxis,l=e.points,h=l.length,u=!!e.modifyValue,d=a.series,f=d.length,g="between"===n.pointPlacement;f--;)if(d[f].visible){d[f]===e&&(t=!0);break}for(f=0;h>f;f++){var m,y,v=l[f],b=v.x,x=v.y,w=v.low,k=a.stacks[(n.threshold>x?"-":"")+e.stackKey];v.plotX=o.translate(b,0,0,0,1,g),r&&e.visible&&k&&k[b]&&(m=k[b],y=m.total,m.cum=w=m.cum-x,x=w+x,t&&(w=p(n.threshold,a.min)),a.isLog&&0>=w&&(w=null),"percent"===r&&(w=y?100*w/y:0,x=y?100*x/y:0),v.percentage=y?100*v.y/y:0,v.total=v.stackTotal=y,v.stackY=x),v.yBottom=c(w)?a.translate(w,0,1,0,1):null,u&&(x=e.modifyValue(x,v)),v.plotY="number"==typeof x?fe(10*a.translate(x,0,1,0,1))/10:U,v.clientX=i.inverted?i.plotHeight-v.plotX:v.plotX,v.category=s&&s[v.x]!==U?s[v.x]:v.x}e.getSegments()},setTooltipPoints:function(t){var e,i,n,r,o,s=this,a=[],l=s.xAxis,h=l?l.tooltipLen||l.len:s.chart.plotSizeX,c=l&&l.tooltipPosName||"plotX",u=[];if(s.options.enableMouseTracking!==!1){for(t&&(s.tooltipPoints=null),yi(s.segments||s.points,function(t){a=a.concat(t)}),l&&l.reversed&&(a=a.reverse()),e=a.length,o=0;e>o;o++)for(r=a[o],i=a[o-1]?n+1:0,n=a[o+1]?ye(0,ge((r[c]+(a[o+1]?a[o+1][c]:h))/2)):h;i>=0&&n>=i;)u[i++]=r;s.tooltipPoints=u}},tooltipHeaderFormatter:function(t){var e,i=this,n=i.tooltipOptions,r=n.xDateFormat,o=i.xAxis,a=o&&"datetime"===o.options.type;if(a&&!r)for(e in K)if(K[e]>=o.closestPointRange){r=n.dateTimeLabelFormats[e];break}return n.headerFormat.replace("{point.key}",a&&s(t)?q(r,t):t).replace("{series.name}",i.name).replace("{series.color}",i.color)},onMouseOver:function(){var t=this,e=t.chart,i=e.hoverSeries;i&&i!==t&&i.onMouseOut(),t.options.events.mouseOver&&_i(t,"mouseOver"),t.setState(Ze),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,i=t.chart,n=i.tooltip,r=i.hoverPoint;r&&r.onMouseOut(),t&&e.events.mouseOut&&_i(t,"mouseOut"),!n||e.stickyTracking||n.shared||n.hide(),t.setState(),i.hoverSeries=null},animate:function(e){var i,n,o,s=this,a=s.chart,l=a.renderer,h=s.options.animation,c=a.clipBox,u=a.inverted;h&&!r(h)&&(h=Si[s.type].animation),o="_sharedClip"+h.duration+h.easing,e?(i=a[o],n=a[o+"m"],i||(a[o]=i=l.clipRect(t(c,{width:0})),a[o+"m"]=n=l.clipRect(-99,u?-a.plotLeft:-a.plotTop,99,u?a.chartWidth:a.chartHeight)),s.group.clip(i),s.markerGroup.clip(n),s.sharedClipKey=o):(i=a[o],i&&(i.animate({width:a.plotSizeX},h),a[o+"m"].animate({width:a.plotSizeX+99},h)),s.animate=null,s.animationTimeout=setTimeout(function(){s.afterAnimate()},h.duration))},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,i=this.group;i&&this.options.clip!==!1&&(i.clip(t.clipRect),this.markerGroup.clip()),setTimeout(function(){e&&t[e]&&(t[e]=t[e].destroy(),t[e+"m"]=t[e+"m"].destroy())},100)},drawPoints:function(){var e,i,n,r,o,s,a,l,h,c,u,d,f=this,g=f.points,m=f.chart,y=f.options,v=y.marker,b=f.markerGroup;if(v.enabled||f._hasPointMarkers)for(r=g.length;r--;)o=g[r],i=o.plotX,n=o.plotY,h=o.graphic,c=o.marker||{},u=v.enabled&&c.enabled===U||c.enabled,d=m.isInsidePlot(i,n,m.inverted),u&&n!==U&&!isNaN(n)?(e=o.pointAttr[o.selected?Je:qe],s=e.r,a=p(c.symbol,f.symbol),l=0===a.indexOf("url"),h?h.attr({visibility:d?Ie?"inherit":Ye:Be}).animate(t({x:i-s,y:n-s},h.symbolName?{width:2*s,height:2*s}:{})):d&&(s>0||l)&&(o.graphic=h=m.renderer.symbol(a,i-s,n-s,2*s,2*s).attr(e).add(b))):h&&(o.graphic=h.destroy())},convertAttribs:function(t,e,i,n){var r,o,s=this.pointAttrToOptions,a={};t=t||{},e=e||{},i=i||{},n=n||{};for(r in s)o=s[r],a[r]=p(t[o],e[r],i[r],n[r]);return a},getAttribs:function(){var e,i,n,r,o,s,a=this,l=Si[a.type].marker?a.options.marker:a.options,h=l.states,u=h[Ze],d=a.color,p={stroke:d,fill:d},f=a.points||[],g=[],m=a.pointAttrToOptions;for(a.options.marker?(u.radius=u.radius||l.radius+2,u.lineWidth=u.lineWidth||l.lineWidth+1):u.color=u.color||Ii(u.color||d).brighten(u.brightness).get(),g[qe]=a.convertAttribs(l,p),yi([Ze,Je],function(t){g[t]=a.convertAttribs(h[t],g[qe])}),a.pointAttr=g,i=f.length;i--;){if(n=f[i],l=n.options&&n.options.marker||n.options,l&&l.enabled===!1&&(l.radius=0),o=a.options.colorByPoint,n.options)for(s in m)c(l[m[s]])&&(o=!0);o?(l=l||{},r=[],h=l.states||{},e=h[Ze]=h[Ze]||{},a.options.marker||(e.color=Ii(e.color||n.color).brighten(e.brightness||u.brightness).get()),r[qe]=a.convertAttribs(t({color:n.color},l),g[qe]),r[Ze]=a.convertAttribs(h[Ze],g[Ze],r[qe]),r[Je]=a.convertAttribs(h[Je],g[Je],r[qe])):r=g,n.pointAttr=r}},destroy:function(){var t,e,i,n,r,o=this,s=o.chart,a=/AppleWebKit\/533/.test(_e),l=o.data||[];for(_i(o,"destroy"),Ci(o),yi(["xAxis","yAxis"],function(t){r=o[t],r&&(h(r.series,o),r.isDirty=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=l.length;e--;)i=l[e],i&&i.destroy&&i.destroy();o.points=null,clearTimeout(o.animationTimeout),yi(["area","graph","dataLabelsGroup","group","markerGroup","tracker","trackerGroup"],function(e){o[e]&&(t=a&&"group"===e?"hide":"destroy",o[e][t]())}),s.hoverSeries===o&&(s.hoverSeries=null),h(s.series,o);for(n in o)delete o[n]},drawDataLabels:function(){var t,e,i,n,r=this,o=r.options,s=o.dataLabels,a=r.points;(s.enabled||r._hasPointLabels)&&(r.dlProcessOptions&&r.dlProcessOptions(s),n=r.plotGroup("dataLabelsGroup","data-labels",r.visible?Ye:Be,6),e=s,yi(a,function(o){var a,l,h,u,d=o.dataLabel,f=!0;if(t=o.options&&o.options.dataLabels,a=e.enabled||t&&t.enabled,d&&!a)o.dataLabel=d.destroy();else if(a){if(u=s.rotation,s=wi(e,t),i=s.formatter.call(o.getLabelConfig(),s),s.style.color=p(s.color,s.style.color,r.color,"black"),d)d.attr({text:i}),f=!1;else if(c(i)){l={fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":s.borderWidth,r:s.borderRadius||0,rotation:u,padding:s.padding,zIndex:1};for(h in l)l[h]===U&&delete l[h];d=o.dataLabel=r.chart.renderer[u?"text":"label"](i,0,-999,null,null,null,s.useHTML).attr(l).css(s.style).add(n).shadow(s.shadow)}d&&r.alignDataLabel(o,d,s,null,f)}}))},alignDataLabel:function(e,i,n,r,o){var s,a=this.chart,l=a.inverted,h=p(e.plotX,-999),c=p(e.plotY,-999),u=i.getBBox();r=t({x:l?a.plotWidth-c:h,y:fe(l?a.plotHeight-h:c),width:0,height:0},r),t(n,{width:u.width,height:u.height}),n.rotation?(s={align:n.align,x:r.x+n.x+r.width/2,y:r.y+n.y+r.height/2},i[o?"attr":"animate"](s)):(i.align(n,null,r),s=i.alignAttr),i.attr({visibility:n.crop===!1||a.isInsidePlot(s.x,s.y)||a.isInsidePlot(h,c,l)?Ie?"inherit":Ye:Be})},getSegmentPath:function(t){var e=this,i=[];return yi(t,function(n,r){if(e.getPointSpline)i.push.apply(i,e.getPointSpline(t,n,r));else{if(i.push(r?je:Xe),r&&e.options.step){var o=t[r-1];i.push(n.plotX,o.plotY)}i.push(n.plotX,n.plotY)}}),i},getGraphPath:function(){var t,e=this,i=[],n=[];return yi(e.segments,function(r){t=e.getSegmentPath(r),r.length>1?i=i.concat(t):n.push(r[0])}),e.singlePoints=n,e.graphPath=i,i},drawGraph:function(){var t,e=this.options,i=this.graph,n=this.group,r=e.lineColor||this.color,o=e.lineWidth,s=e.dashStyle,a=this.getGraphPath();i?(Ti(i),i.animate({d:a})):o&&(t={stroke:r,"stroke-width":o,zIndex:1},s&&(t.dashstyle=s),this.graph=this.chart.renderer.path(a).attr(t).add(n).shadow(e.shadow))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};yi(["group","trackerGroup","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;ki(i,"resize",t),ki(e,"destroy",function(){Ci(i,"resize",t)}),t(),e.invertGroups=t},plotGroup:function(t,e,i,n,r){var o=this[t],s=this.chart,a=this.xAxis,l=this.yAxis;return o||(this[t]=o=s.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(r)),o.translate(a?a.left:s.plotLeft,l?l.top:s.plotTop),o},render:function(){var t,e=this,i=e.chart,n=e.options,r=n.animation,o=r&&!!e.animate,s=e.visible?Ye:Be,a=n.zIndex,l=e.hasRendered,h=i.seriesGroup;t=e.plotGroup("group","series",s,a,h),e.markerGroup=e.plotGroup("markerGroup","markers",s,a,h),o&&e.animate(!0),e.getAttribs(),t.inverted=i.inverted,e.drawGraph&&e.drawGraph(),e.drawPoints(),e.drawDataLabels(),e.options.enableMouseTracking!==!1&&e.drawTracker(),i.inverted&&e.invertGroups(),n.clip===!1||e.sharedClipKey||l||(t.clip(i.clipRect),this.trackerGroup&&this.trackerGroup.clip(i.clipRect)),o?e.animate():l||e.afterAnimate(),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this,e=t.chart,i=t.isDirtyData,n=t.group;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:t.xAxis.left,translateY:t.yAxis.top})),t.translate(),t.setTooltipPoints(!0),t.render(),i&&_i(t,"updatedData")},setState:function(t){var e=this,i=e.options,n=e.graph,r=i.states,o=i.lineWidth;if(t=t||qe,e.state!==t){if(e.state=t,r[t]&&r[t].enabled===!1)return;t&&(o=r[t].lineWidth||o+1),n&&!n.dashstyle&&n.attr({"stroke-width":o},t?0:500)}},setVisible:function(t,e){var i,n,r,o=this,s=o.chart,a=o.legendItem,l=o.group,h=o.tracker,c=o.dataLabelsGroup,u=o.markerGroup,d=o.points,p=s.options.chart.ignoreHiddenSeries,f=o.visible;if(o.visible=t=t===U?!f:t,i=t?"show":"hide",l&&l[i](),u&&u[i](),h)h[i]();else if(d)for(n=d.length;n--;)r=d[n],r.tracker&&r.tracker[i]();c&&c[i](),a&&s.legend.colorizeItem(o,t),o.isDirty=!0,o.options.stacking&&yi(s.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),p&&(s.isDirtyBox=!0),e!==!1&&s.redraw(),_i(o,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=t===U?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),_i(e,t?"select":"unselect")},drawTracker:function(){var t,e,i=this,n=i.options,r=n.trackByArea,o=[].concat(r?i.areaPath:i.graphPath),s=o.length,a=i.chart,l=a.renderer,h=a.options.tooltip.snap,c=i.tracker,u=n.cursor,d=u&&{cursor:u},p=i.singlePoints,f=this.isCartesian&&this.plotGroup("trackerGroup",null,Ye,n.zIndex||1,a.trackerGroup);if(s&&!r)for(e=s+1;e--;)o[e]===Xe&&o.splice(e+1,0,o[e+1]-h,o[e+2],je),(e&&o[e]===Xe||e===s)&&o.splice(e,0,je,o[e-2]+h,o[e-1]);for(e=0;p.length>e;e++)t=p[e],o.push(Xe,t.plotX-h,t.plotY,je,t.plotX+h,t.plotY);c?c.attr({d:o}):i.tracker=l.path(o).attr({isTracker:!0,"stroke-linejoin":"bevel",visibility:i.visible?Ye:Be,stroke:Ge,fill:r?Ge:Ue,"stroke-width":n.lineWidth+(r?0:2*h)}).on(Ee?"touchstart":"mouseover",function(){a.hoverSeries!==i&&i.onMouseOver()}).on("mouseout",function(){n.stickyTracking||i.onMouseOut()}).css(d).add(f)}};var Wi=m(Fi);ui.line=Wi,Si.area=wi(Ai,{threshold:0});var Bi=m(Fi,{type:"area",getSegmentPath:function(t){var e,i=Fi.prototype.getSegmentPath.call(this,t),n=[].concat(i),r=this.options,o=i.length;if(3===o&&n.push(je,i[1],i[2]),r.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)t.length-1>e&&r.step&&n.push(t[e+1].plotX,t[e].yBottom),n.push(t[e].plotX,t[e].yBottom);else this.closeSegment(n,t);return this.areaPath=this.areaPath.concat(n),i},closeSegment:function(t,e){var i=this.yAxis.getThreshold(this.options.threshold);t.push(je,e[e.length-1].plotX,i,je,e[0].plotX,i)},drawGraph:function(){this.areaPath=[],Fi.prototype.drawGraph.apply(this);var t=this.areaPath,e=this.options,i=this.area;i?i.animate({d:t}):this.area=this.chart.renderer.path(t).attr({fill:p(e.fillColor,Ii(this.color).setOpacity(e.fillOpacity||.75).get()),zIndex:0}).add(this.group)},drawLegendSymbol:function(t,e){e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,t.options.symbolWidth,12,2).attr({zIndex:3}).add(e.legendGroup)}});ui.area=Bi,Si.spline=wi(Ai);var Ri=m(Fi,{type:"spline",getPointSpline:function(t,e,i){var n,r,o,s,a,l=1.5,h=l+1,c=e.plotX,u=e.plotY,d=t[i-1],p=t[i+1];if(d&&p){var f,g=d.plotX,m=d.plotY,y=p.plotX,v=p.plotY;n=(l*c+g)/h,r=(l*u+m)/h,o=(l*c+y)/h,s=(l*u+v)/h,f=(s-r)*(o-c)/(o-n)+u-s,r+=f,s+=f,r>m&&r>u?(r=ye(m,u),s=2*u-r):m>r&&u>r&&(r=ve(m,u),s=2*u-r),s>v&&s>u?(s=ye(v,u),r=2*u-s):v>s&&u>s&&(s=ve(v,u),r=2*u-s),e.rightContX=o,e.rightContY=s}return i?(a=["C",d.rightContX||d.plotX,d.rightContY||d.plotY,n||c,r||u,c,u],d.rightContX=d.rightContY=null):a=[Xe,c,u],a}});ui.spline=Ri,Si.areaspline=wi(Si.area);var Yi=Bi.prototype,Vi=m(Ri,{type:"areaspline",closedStacks:!0,getSegmentPath:Yi.getSegmentPath,closeSegment:Yi.closeSegment,drawGraph:Yi.drawGraph});ui.areaspline=Vi,Si.column=wi(Ai,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},threshold:0});var Ui=m(Fi,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){Fi.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&yi(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},translate:function(){var t,e,i=this,n=i.chart,r=i.options,o=r.stacking,s=r.borderWidth,a=0,l=i.xAxis,h=l.reversed,u={};Fi.prototype.translate.apply(i),r.grouping===!1?a=1:yi(n.series,function(n){var r=n.options;n.type===i.type&&n.visible&&i.options.group===r.group&&(r.stacking?(t=n.stackKey,u[t]===U&&(u[t]=a++),e=u[t]):r.grouping!==!1&&(e=a++),n.columnIndex=e)});var d=i.points,f=be(l.transA)*(l.ordinalSlope||r.pointRange||l.closestPointRange||1),g=f*r.groupPadding,m=f-2*g,y=m/a,v=r.pointWidth,b=c(v)?(y-v)/2:y*r.pointPadding,x=p(v,y-2*b),w=me(ye(x,1+2*s)),k=(h?a-i.columnIndex:i.columnIndex)||0,C=b+(g+k*y-f/2)*(h?-1:1),_=r.threshold,D=i.translatedThreshold=i.yAxis.getThreshold(_),M=p(r.minPointLength,5);yi(d,function(t){var e,r=t.plotY,a=p(t.yBottom,D),l=t.plotX+C,h=me(ve(r,a)),c=me(ye(r,a)-h),u=i.yAxis.stacks[(0>t.y?"-":"")+i.stackKey];o&&i.visible&&u&&u[t.x]&&u[t.x].setOffset(C,w),M>be(c)&&M&&(c=M,h=be(h-D)>M?a-M:D-(D>=r?M:0)),t.barX=l,t.pointWidth=x,t.shapeType="rect",t.shapeArgs=e=n.renderer.Element.prototype.crisp.call(0,s,l,h,w,c),s%2&&(e.y-=1,e.height+=1),t.trackerArgs=3>be(c)&&wi(t.shapeArgs,{height:6,y:h-3})})},getSymbol:ze,drawLegendSymbol:Bi.prototype.drawLegendSymbol,drawGraph:ze,drawPoints:function(){var t,e=this,i=e.options,n=e.chart.renderer;yi(e.points,function(r){var o=r.plotY,s=r.graphic;o===U||isNaN(o)||null===r.y?s&&(r.graphic=s.destroy()):(t=r.shapeArgs,s?(Ti(s),s.animate(wi(t))):r.graphic=s=n[r.shapeType](t).attr(r.pointAttr[r.selected?Je:qe]).add(e.group).shadow(i.shadow,null,i.stacking&&!i.borderRadius))})},drawTracker:function(){var t,e,i,n,r,o=this,s=o.chart,a=s.renderer,l=+new Date,h=o.options,c=h.cursor,d=c&&{cursor:c},p=o.isCartesian&&o.plotGroup("trackerGroup",null,Ye,h.zIndex||1,s.trackerGroup);yi(o.points,function(c){e=c.tracker,t=c.trackerArgs||c.shapeArgs,n=c.plotY,r=!o.isCartesian||n!==U&&!isNaN(n),delete t.strokeWidth,null!==c.y&&r&&(e?e.attr(t):c.tracker=a[c.shapeType](t).attr({isTracker:l,fill:Ge,visibility:o.visible?Ye:Be}).on(Ee?"touchstart":"mouseover",function(t){i=t.relatedTarget||t.fromElement,s.hoverSeries!==o&&u(i,"isTracker")!==l&&o.onMouseOver(),c.onMouseOver()}).on("mouseout",function(t){h.stickyTracking||(i=t.relatedTarget||t.toElement,u(i,"isTracker")!==l&&o.onMouseOut())}).css(d).add(c.group||p))})},alignDataLabel:function(t,e,i,n,r){var o=this.chart,s=o.inverted,a=t.below||t.plotY>(this.translatedThreshold||o.plotSizeY),l=this.options.stacking||i.inside;t.shapeArgs&&(n=wi(t.shapeArgs),s&&(n={x:o.plotWidth-n.y-n.height,y:o.plotHeight-n.x-n.width,width:n.height,height:n.width}),l||(s?(n.x+=a?0:n.width,n.width=0):(n.y+=a?n.height:0,n.height=0))),i.align=p(i.align,!s||l?"center":a?"right":"left"),i.verticalAlign=p(i.verticalAlign,s||l?"middle":a?"top":"bottom"),Fi.prototype.alignDataLabel.call(this,t,e,i,n,r)},animate:function(t){var e=this,i=e.points,n=e.options;t||(yi(i,function(t){var i=t.graphic,r=t.shapeArgs,o=e.yAxis,s=n.threshold;i&&(i.attr({height:0,y:c(s)?o.getThreshold(s):o.translate(o.getExtremes().min,0,1,0,1)}),i.animate({height:r.height,y:r.y},n.animation))}),e.animate=null)},remove:function(){var t=this,e=t.chart;e.hasRendered&&yi(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Fi.prototype.remove.apply(t,arguments)}});ui.column=Ui,Si.bar=wi(Si.column);var Xi=m(Ui,{type:"bar",inverted:!0});ui.bar=Xi,Si.scatter=wi(Ai,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var ji=m(Fi,{type:"scatter",sorted:!1,translate:function(){var t=this;Fi.prototype.translate.apply(t),yi(t.points,function(e){e.shapeType="circle",e.shapeArgs={x:e.plotX,y:e.plotY,r:t.chart.options.tooltip.snap}})},drawTracker:function(){for(var t,e=this,i=e.options.cursor,n=i&&{cursor:i},r=e.points,o=r.length;o--;)t=r[o].graphic,t&&(t.element._i=o);e._hasTracking?e._hasTracking=!0:e.markerGroup.attr({isTracker:!0}).on(Ee?"touchstart":"mouseover",function(t){e.onMouseOver(),t.target._i!==U&&r[t.target._i].onMouseOver()}).on("mouseout",function(){e.options.stickyTracking||e.onMouseOut()}).css(n)}});ui.scatter=ji,Si.pie=wi(Ai,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}});var Gi=m(Hi,{init:function(){Hi.prototype.init.apply(this,arguments);var e,i=this;return t(i,{visible:i.visible!==!1,name:p(i.name,"Slice")}),e=function(){i.slice()},ki(i,"select",e),ki(i,"unselect",e),i},setVisible:function(t){var e,i=this,n=i.series,r=n.chart,o=i.tracker,s=i.dataLabel,a=i.connector,l=i.shadowGroup;i.visible=t=t===U?!i.visible:t,e=t?"show":"hide",i.group[e](),o&&o[e](),s&&s[e](),a&&a[e](),l&&l[e](),i.legendItem&&r.legend.colorizeItem(i,t),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,r.redraw())},slice:function(t,e,i){var n,r=this,o=r.series,s=o.chart,a=r.slicedTranslation;O(i,s),e=p(e,!0),t=r.sliced=c(t)?t:!r.sliced,n={translateX:t?a[0]:s.plotLeft,translateY:t?a[1]:s.plotTop},r.group.animate(n),r.shadowGroup&&r.shadowGroup.animate(n)}}),qi={type:"pie",isCartesian:!1,pointClass:Gi,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var t=this,e=t.points;yi(e,function(e){var i=e.graphic,n=e.shapeArgs,r=-ke/2;i&&(i.attr({r:0,start:r,end:r}),i.animate({r:n.r,start:n.start,end:n.end},t.options.animation))}),t.animate=null},setData:function(t,e){Fi.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),p(e,!0)&&this.chart.redraw()},getCenter:function(){var t,e=this.options,n=this.chart,r=n.plotWidth,o=n.plotHeight,s=e.center.concat([e.size,e.innerSize||0]),a=ve(r,o);return xi(s,function(e,n){return t=/%$/.test(e),t?[r,o,a,a][n]*i(e)/100:e
})},translate:function(){this.generatePoints();var t,e,i,n,r,o,s,a,l,h=0,c=this,u=-.25,d=1e3,p=c.options,f=p.slicedOffset,g=f+p.borderWidth,m=c.chart,y=c.points,v=2*ke,b=p.dataLabels.distance,x=p.ignoreHiddenPoint,w=y.length;for(c.center=t=c.getCenter(),c.getX=function(e,i){return n=pe.asin((e-t[1])/(t[2]/2+b)),t[0]+(i?-1:1)*xe(n)*(t[2]/2+b)},a=0;w>a;a++)l=y[a],h+=x&&!l.visible?0:l.y;for(a=0;w>a;a++)l=y[a],r=h?l.y/h:0,e=fe(u*v*d)/d,(!x||l.visible)&&(u+=r),i=fe(u*v*d)/d,l.shapeType="arc",l.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:e,end:i},n=(i+e)/2,l.slicedTranslation=xi([xe(n)*f+m.plotLeft,we(n)*f+m.plotTop],fe),o=xe(n)*t[2]/2,s=we(n)*t[2]/2,l.tooltipPos=[t[0]+.7*o,t[1]+.7*s],l.labelPos=[t[0]+o+xe(n)*b,t[1]+s+we(n)*b,t[0]+o+xe(n)*g,t[1]+s+we(n)*g,t[0]+o,t[1]+s,0>b?"center":v/4>n?"left":"right",n],l.percentage=100*r,l.total=h;this.setTooltipPoints()},render:function(){var t=this;t.getAttribs(),this.drawPoints(),t.options.enableMouseTracking!==!1&&t.drawTracker(),this.drawDataLabels(),t.options.animation&&t.animate&&t.animate(),t.isDirty=!1},drawPoints:function(){var e,i,n,r,o,s=this,a=s.chart,l=a.renderer,h=s.options.shadow;yi(s.points,function(c){i=c.graphic,o=c.shapeArgs,n=c.group,r=c.shadowGroup,h&&!r&&(r=c.shadowGroup=l.g("shadow").attr({zIndex:4}).add()),n||(n=c.group=l.g("point").attr({zIndex:5}).add()),e=c.sliced?c.slicedTranslation:[a.plotLeft,a.plotTop],n.translate(e[0],e[1]),r&&r.translate(e[0],e[1]),i?i.animate(o):c.graphic=i=l.arc(o).setRadialReference(s.center).attr(t(c.pointAttr[qe],{"stroke-linejoin":"round"})).add(c.group).shadow(h,r),c.visible===!1&&c.setVisible(!1)})},drawDataLabels:function(){var t,e,i,n,r,o,s,a,l,h,c,u,d=this,f=d.data,g=d.chart,m=d.options.dataLabels,y=p(m.connectorPadding,10),v=p(m.connectorWidth,1),b=p(m.softConnector,!0),x=m.distance,w=d.center,k=w[2]/2,C=w[1],_=x>0,D=[[],[]],M=2;if(m.enabled||d._hasPointLabels)for(Fi.prototype.drawDataLabels.apply(d),yi(f,function(t){t.dataLabel&&D[ke/2>t.labelPos[7]?0:1].push(t)}),D[1].reverse(),c=function(t,e){return e.y-t.y},o=D[0][0]&&D[0][0].dataLabel&&(D[0][0].dataLabel.getBBox().height||21);M--;){var T,P,S,A=[],I=[],O=D[M],L=O.length;if(x>0){for(P=C-k-x;C+k+x>=P;P+=o)A.push(P);if(T=A.length,L>T){for(h=[].concat(O),h.sort(c),u=L;u--;)h[u].rank=u;for(u=L;u--;)O[u].rank>=T&&O.splice(u,1);L=O.length}for(u=0;L>u;u++){t=O[u],r=t.labelPos;var E,N,$=9999;for(N=0;T>N;N++)E=be(A[N]-r[1]),$>E&&($=E,S=N);if(u>S&&null!==A[u])S=u;else if(L-u+S>T&&null!==A[u])for(S=T-L+u;null===A[S];)S++;else for(;null===A[S];)S++;I.push({i:S,y:A[S]}),A[S]=null}I.sort(c)}for(u=0;L>u;u++){var z,H;t=O[u],r=t.labelPos,n=t.dataLabel,l=t.visible===!1?Be:Ye,H=r[1],x>0?(z=I.pop(),S=z.i,a=z.y,(H>a&&null!==A[S+1]||a>H&&null!==A[S-1])&&(a=H)):a=H,s=m.justify?w[0]+(M?-1:1)*(k+x):d.getX(0===S||S===A.length-1?H:a,M),n.attr({visibility:l,align:r[6]})[n.moved?"animate":"attr"]({x:s+m.x+({left:y,right:-y}[r[6]]||0),y:a+m.y-10}),n.moved=!0,_&&v&&(e=t.connector,i=b?[Xe,s+("left"===r[6]?5:-5),a,"C",s,a,2*r[2]-r[4],2*r[3]-r[5],r[2],r[3],je,r[4],r[5]]:[Xe,s+("left"===r[6]?5:-5),a,je,r[2],r[3],je,r[4],r[5]],e?(e.animate({d:i}),e.attr("visibility",l)):t.connector=e=d.chart.renderer.path(i).attr({"stroke-width":v,stroke:m.connectorColor||t.color||"#606060",visibility:l,zIndex:3}).translate(g.plotLeft,g.plotTop).add())}}},alignDataLabel:ze,drawTracker:Ui.prototype.drawTracker,drawLegendSymbol:Bi.prototype.drawLegendSymbol,getSymbol:function(){}};return qi=m(Fi,qi),ui.pie=qi,t(Highcharts,{Axis:W,CanVGRenderer:$i,Chart:V,Color:Ii,Legend:Y,MouseTracker:R,Point:Hi,Tick:z,Tooltip:B,Renderer:X,Series:Fi,SVGRenderer:Oi,VMLRenderer:Li,dateFormat:q,pathAnim:J,getOptions:N,hasBidiBug:Oe,numberFormat:v,seriesTypes:ui,setOptions:E,addEvent:ki,removeEvent:Ci,createElement:g,discardElement:S,css:f,each:yi,extend:t,map:xi,merge:wi,pick:p,splat:d,extendClass:m,pInt:i,wrap:x,svg:Ie,canvas:Le,vml:!Ie&&!Le,product:"Highcharts",version:"2.3.3"}),Highcharts}),define("plugins/backbone-charts/options",[],function(){var t,e;return t={chart:{style:{fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif'}},title:{text:"",align:"right"},subtitle:{align:"right"},exporting:{enabled:!1},credits:{enabled:!1},tooltip:{snap:1,useHTML:!0,borderWidth:1,borderRadius:3},plotOptions:{series:{shadow:!1,animation:{duration:400}},area:{lineWidth:1,shadow:!1,stacking:"normal",states:{hover:{lineWidth:1}},marker:{enabled:!1,states:{hover:{enabled:!0,radius:5}}},fillOpacity:.1},areaspline:{lineWidth:1,shadow:!1,states:{hover:{lineWidth:1}},marker:{enabled:!1,states:{hover:{enabled:!0}}},fillOpacity:.1},bar:{borderWidth:0,minPointLength:2},column:{borderWidth:0,minPointLength:2},pie:{allowPointSelect:!0,cursor:"pointer",showInLegend:!0},scatter:{marker:{radius:5,states:{hover:{enabled:!1}}},states:{hover:{marker:{enabled:!1}}}}}},e={chart:{defaultSeriesType:"areaspline",margin:[0,0,0,0]},title:{text:"",align:"left",y:0,x:0,style:{fontSize:"8px",color:"#333333"}},credits:{enabled:!1},legend:{enabled:!1},tooltip:{enabled:!1},xAxis:{startOnTick:!0,labels:{enabled:!1}},yAxis:{endOnTick:!1,labels:{enabled:!1}},plotOptions:{series:{lineWidth:1,shadow:!1,states:{hover:{enabled:!1}},marker:{enabled:!1}},areaspline:{fillOpacity:.1},area:{fillOpacity:.1}}},{defaults:t,sparkline:e}});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("plugins/backbone-charts",["highcharts","underscore","backbone","./backbone-charts/options"],function(t,e,i,n){var r,o,s,a,l,h,c,u,d,p,f;c={el:"chart.renderTo",type:"chart.type",height:"chart.height",width:"chart.width",labelFormatter:"plotOptions.series.dataLabels.formatter",tooltipFormatter:"tooltip.formatter",animate:"plotOptions.series.animation",categories:"xAxis.categories",title:"title.text",subtitle:"subtitle.text",xAxis:"xAxis.title.text",yAxis:"yAxis.title.text",stacking:"plotOptions.series.stacking",legend:"legend.enabled",suffix:"tooltip.valueSuffix",prefix:"tooltip.valuePrefix",series:"series"},a=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return __extends(i,e),i.prototype.className="chart",i.prototype.chartOptions=n.defaults,i.prototype.initialize=function(t){var e,i;null==t.el&&(t.el=this.el),this.chartOptions=$.extend(!0,{},this.chartOptions,t.options);for(e in t)i=t[e],c[e]&&this.setOption(c[e],i)},i.prototype.setOption=function(t,e){var i,n,r,o,s,a;for(n=this.chartOptions,o=t.split("."),i=o.pop(),s=0,a=o.length;a>s;s++)r=o[s],null==n[r]&&(n[r]={}),n=n[r];return n[i]=e},i.prototype.render=function(){return this.chart&&this.chart.destroy(),this.model?(this.chartOptions.series=[$.extend(!0,{},this.model.toJSON())],this.model.categories&&this.setOption("xAxis.categories",this.model.categories)):this.collection&&(this.chartOptions.series=this.collection instanceof Series?[$.extend(!0,{},this.collection.toJSON())]:$.extend(!0,[],this.collection.toJSON()),this.collection.categories&&this.setOption("xAxis.categories",this.collection.categories)),this.chart=new t.Chart(this.chartOptions),this.$el},i}(i.View),a.setDefaultOption=function(t,i){var n,r,o,s,a,l,h,c;for(r=this.prototype.chartOptions=e.clone(this.prototype.chartOptions),l=t.split("."),n=l.pop(),o=null,s=null,h=0,c=l.length;c>h;h++)a=l[h],o=r,r=null!=o[a]?e.clone(o[a]):{},o[a]=r;return r[n]=i},r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(a),r.setDefaultOption("chart.type","area"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(a),o.setDefaultOption("chart.type","areaspline"),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(a),s.setDefaultOption("chart.type","bar"),l=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(a),l.setDefaultOption("chart.type","column"),h=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(a),h.setDefaultOption("chart.type","line"),u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(a),u.setDefaultOption("chart.type","pie"),u.setDefaultOption("legend.enabled",!0),d=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(a),d.setDefaultOption("chart.type","scatter"),f=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e}(a),f.setDefaultOption("chart.type","spline"),p=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.className="sparkline",e.prototype.chartOptions=n.sparkline,e}(a),i.Chart=a,i.AreaChart=r,i.AreaSplineChart=o,i.BarChart=s,i.ColumnChart=l,i.LineChart=h,i.PieChart=u,i.ScatterChart=d,i.SplineChart=f,i.Sparkline=p}),define("plugins/bootstrap",["../jquery"],function(t){!function(t){t(function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(void 0!==e.style[t])return i[t]}();return t&&{end:t}}()})}(t),!function(t){var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){n.trigger("closed").remove()}var n,r=t(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),n=t(o),e&&e.preventDefault(),n.length||(n=r.hasClass("alert")?r:r.parent()),n.trigger(e=t.Event("close")),e.isDefaultPrevented()||(n.removeClass("in"),t.support.transition&&n.hasClass("fade")?n.on(t.support.transition.end,i):i())};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),r=n.data("alert");r||n.data("alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.alert.data-api",e,i.prototype.close)}(t),!function(t){var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,i)};e.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.data(),r=i.is("input")?"val":"html";t+="Text",n.resetText||i.data("resetText",i[r]()),i[r](n[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var n=t(this),r=n.data("button"),o="object"==typeof i&&i;r||n.data("button",r=new e(this,o)),"toggle"==i?r.toggle():i&&r.setState(i)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle")})}(t),!function(t){var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var i=this.getActiveIndex(),n=this;if(!(e>this.$items.length-1||0>e))return this.sliding?this.$element.one("slid",function(){n.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,i){var n,r=this.$element.find(".item.active"),o=i||r[e](),s=this.interval,a="next"==e?"left":"right",l="next"==e?"first":"last",h=this;if(this.sliding=!0,s&&this.pause(),o=o.length?o:this.$element.find(".item")[l](),n=t.Event("slide",{relatedTarget:o[0],direction:a}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(h.$indicators.children()[h.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(n),n.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,r.addClass(a),o.addClass(a),this.$element.one(t.support.transition.end,function(){o.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),h.sliding=!1,setTimeout(function(){h.$element.trigger("slid")},0)})}else{if(this.$element.trigger(n),n.isDefaultPrevented())return;r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}}};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var n=t(this),r=n.data("carousel"),o=t.extend({},t.fn.carousel.defaults,"object"==typeof i&&i),s="string"==typeof i?i:o.slide;r||n.data("carousel",r=new e(this,o)),"number"==typeof i?r.to(i):s?r[s]():o.interval&&r.pause().cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,n,r=t(this),o=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),s=t.extend({},o.data(),r.data());o.carousel(s),(n=r.attr("data-slide-to"))&&o.data("carousel").pause().to(n).cycle(),e.preventDefault()})}(t),!function(t){var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,i),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,i,n,r;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),i=t.camelCase(["scroll",e].join("-")),n=this.$parent&&this.$parent.find("> .accordion-group > .in"),n&&n.length){if(r=n.data("collapse"),r&&r.transitioning)return;n.collapse("hide"),r||n.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][i])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,i,n){var r=this,o=function(){"show"==i.type&&r.reset(),r.transitioning=0,r.$element.trigger(n)};this.$element.trigger(i),i.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var n=t(this),r=n.data("collapse"),o=t.extend({},t.fn.collapse.defaults,n.data(),"object"==typeof i&&i);r||n.data("collapse",r=new e(this,o)),"string"==typeof i&&r[i]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var i,n=t(this),r=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),o=t(r).data("collapse")?"toggle":n.data();n[t(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(r).collapse(o)})}(t),!function(t){function e(){t(n).each(function(){i(t(this)).removeClass("open")})}function i(e){var i,n=e.attr("data-target");return n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),i=n&&t(n),i&&i.length||(i=e.parent()),i}var n="[data-toggle=dropdown]",r=function(e){var i=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(){var n,r,o=t(this);if(!o.is(".disabled, :disabled"))return n=i(o),r=n.hasClass("open"),e(),r||n.toggleClass("open"),o.focus(),!1},keydown:function(e){var r,o,s,a,l;if(/(38|40|27)/.test(e.keyCode)&&(r=t(this),e.preventDefault(),e.stopPropagation(),!r.is(".disabled, :disabled"))){if(s=i(r),a=s.hasClass("open"),!a||a&&27==e.keyCode)return 27==e.which&&s.find(n).focus(),r.click();o=t("[role=menu] li:not(.divider):visible a",s),o.length&&(l=o.index(o.filter(":focus")),38==e.keyCode&&l>0&&l--,40==e.keyCode&&o.length-1>l&&l++,~l||(l=0),o.eq(l).focus())}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("dropdown");n||i.data("dropdown",n=new r(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on(".dropdown-menu",function(t){t.stopPropagation()}).on("click.dropdown.data-api",n,r.prototype.toggle).on("keydown.dropdown.data-api",n+", [role=menu]",r.prototype.keydown)}(t),!function(t){var e=function(e,i){this.options=i,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,i=t.Event("show");this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var i=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),i&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),i?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault(),e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,i=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(i),e.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var i=t.fn.modal;t.fn.modal=function(i){return this.each(function(){var n=t(this),r=n.data("modal"),o=t.extend({},t.fn.modal.defaults,n.data(),"object"==typeof i&&i);r||n.data("modal",r=new e(this,o)),"string"==typeof i?r[i]():o.show&&r.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),r=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},r.data(),i.data());e.preventDefault(),r.modal(o).one("hide",function(){i.focus()})})}(t),!function(t){var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,i,n){var r,o,s,a,l;for(this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.enabled=!0,s=this.options.trigger.split(" "),l=s.length;l--;)a=s[l],"click"==a?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=a&&(r="hover"==a?"mouseenter":"focus",o="hover"==a?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);return i.options.delay&&i.options.delay.show?(clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show),void 0):i.show()},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),i.options.delay&&i.options.delay.hide?(i.hoverState="out",this.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()},show:function(){var e,i,n,r,o,s,a=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),i=this.getPosition(),n=e[0].offsetWidth,r=e[0].offsetHeight,o){case"bottom":s={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":s={top:i.top-r,left:i.left+i.width/2-n/2};break;case"left":s={top:i.top+i.height/2-r/2,left:i.left-n};break;case"right":s={top:i.top+i.height/2-r/2,left:i.left+i.width}}this.applyPlacement(s,o),this.$element.trigger("shown")}},applyPlacement:function(t,e){var i,n,r,o,s=this.tip(),a=s[0].offsetWidth,l=s[0].offsetHeight;s.offset(t).addClass(e).addClass("in"),i=s[0].offsetWidth,n=s[0].offsetHeight,"top"==e&&n!=l&&(t.top=t.top+l-n,o=!0),"bottom"==e||"top"==e?(r=0,0>t.left&&(r=-2*t.left,t.left=0,s.offset(t),i=s[0].offsetWidth,n=s[0].offsetHeight),this.replaceArrow(r-a+i,i,"left")):this.replaceArrow(n-l,n,"top"),o&&s.offset(t)},replaceArrow:function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){i.off(t.support.transition.end).detach()},500);i.one(t.support.transition.end,function(){clearTimeout(e),i.detach()})}var i=this.tip(),n=t.Event("hide");return this.$element.trigger(n),n.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():i.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var i=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;i.tip().hasClass("in")?i.hide():i.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),r=n.data("tooltip"),o="object"==typeof i&&i;r||n.data("tooltip",r=new e(this,o)),"string"==typeof i&&r[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(t),!function(t){var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,i=this.options;return t=("function"==typeof i.content?i.content.call(e[0]):i.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),r=n.data("popover"),o="object"==typeof i&&i;r||n.data("popover",r=new e(this,o)),"string"==typeof i&&r[i]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(t),!function(t){function e(e,i){var n,r=t.proxy(this.process,this),o=t(e).is("body")?t(window):t(e);this.options=t.extend({},t.fn.scrollspy.defaults,i),this.$scrollElement=o.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(n=t(e).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e,i=this;this.offsets=t([]),this.targets=t([]),e=this.$body.find(this.selector).map(function(){var e=t(this),n=e.data("target")||e.attr("href"),r=/^#\w/.test(n)&&t(n);return r&&r.length&&[[r.position().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=i-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(e>=n)return s!=(t=o.last()[0])&&this.activate(t);for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(!r[t+1]||r[t+1]>=e)&&this.activate(o[t])},activate:function(e){var i,n;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parent("li").addClass("active"),i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")}};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var n=t(this),r=n.data("scrollspy"),o="object"==typeof i&&i;r||n.data("scrollspy",r=new e(this,o)),"string"==typeof i&&r[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(t),!function(t){var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,i,n,r=this.element,o=r.closest("ul:not(.dropdown-menu)"),s=r.attr("data-target");s||(s=r.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(e=o.find(".active:last a")[0],n=t.Event("show",{relatedTarget:e}),r.trigger(n),n.isDefaultPrevented()||(i=t(s),this.activate(r.parent("li"),o),this.activate(i,i.parent(),function(){r.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,i,n){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var o=i.find("> .active"),s=n&&t.support.transition&&o.hasClass("fade");s?o.one(t.support.transition.end,r):r(),o.removeClass("in")}};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var n=t(this),r=n.data("tab");r||n.data("tab",r=new e(this)),"string"==typeof i&&r[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(t),!function(t){var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)
},process:function(e){var i=this;return e=t.grep(e,function(t){return i.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],n=[],r=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?n.push(e):r.push(e):i.push(e);return i.concat(n,r)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var i=this;return e=t(e).map(function(e,n){return e=t(i.options.item).attr("data-value",n),e.find("a").html(i.highlighter(n)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),i=e.next();i.length||(i=t(this.$menu.find("li")[0])),i.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var i=t.fn.typeahead;t.fn.typeahead=function(i){return this.each(function(){var n=t(this),r=n.data("typeahead"),o="object"==typeof i&&i;r||n.data("typeahead",r=new e(this,o)),"string"==typeof i&&r[i]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=i,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var e=t(this);e.data("typeahead")||e.typeahead(e.data())})}(t),!function(t){var e=function(e,i){this.options=t.extend({},t.fn.affix.defaults,i),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,i=t(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),o=this.options.offset,s=o.bottom,a=o.top,l="affix affix-top affix-bottom";"object"!=typeof o&&(s=a=o),"function"==typeof a&&(a=o.top()),"function"==typeof s&&(s=o.bottom()),e=null!=this.unpin&&n+this.unpin<=r.top?!1:null!=s&&r.top+this.$element.height()>=i-s?"bottom":null!=a&&a>=n?"top":!1,this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?r.top-n:null,this.$element.removeClass(l).addClass("affix"+(e?"-"+e:"")))}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var n=t(this),r=n.data("affix"),o="object"==typeof i&&i;r||n.data("affix",r=new e(this,o)),"string"==typeof i&&r[i]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(t)}),define("plugins/bootstrap-typeselect",["jquery"],function(t){!function(t){var e=function(e,i){this.$element=t(e).typeahead(i),this.options=t.extend({},t.fn.typeselect.defaults,i),this.$target=t(this.options.target);var n=this.$element.data("typeahead");this._process=t.proxy(n.process,n),n.process=t.proxy(this.process,this),this.selected=[],this.selectedItems={};for(var r=this.options.selected||[],o=0;r.length>o;o++)this.add(r[o]);this.listen()};e.prototype={constructor:e,listen:function(){this.$element.on("keydown",t.proxy(this.keyup,this)).on("change",t.proxy(this.change,this)),this.$target.on("click",".close",t.proxy(this.click,this))},add:function(e){if(!this.selectedItems[e]){this.selected.push(e);var i=t(this.options.selectedItem).text(e).attr("data-value",e).append('<span class="close">&times;</span>');this.selectedItems[e]=i,this.$target.append(i)}},remove:function(t){var e=this.selectedItems[t],i=this.selected.indexOf(t);i>=0&&this.selected.pop(i),delete this.selectedItems[t],e.remove()},change:function(){var t=this.$element.val();this.add(t),this.$element.val("")},process:function(e){var i=this;return e=t.grep(e,function(t){return null==i.selectedItems[t]}),this._process(e)},click:function(e){e.preventDefault(),this.remove(t(e.target).parent().attr("data-value"))}},t.fn.typeselect=function(i){return this.each(function(){var n=t(this),r=n.data("typeselect"),o="object"==typeof i&&i;r||n.data("typeselect",r=new e(this,o)),"string"==typeof i&&r[i]()})},t.fn.typeselect.defaults={selected:[],selectedItem:"<li></li>"},t.fn.typeselect.Constructor=e,t(document).on("focus.typeselect.data-api",'[data-provide="typeselect"]',function(e){var i=t(this);i.data("typeselect")||(e.preventDefault(),i.typeselect(i.data()))})}(t)}),define("plugins/bootstrap-datepicker",["jquery"],function(t){function e(){return new Date(Date.UTC.apply(Date,arguments))}var i=function(e,i){var o=this;switch(this.element=t(e),this.language=i.language||this.element.data("date-language")||"en",this.language=this.language in n?this.language:this.language.split("-")[0],this.language=this.language in n?this.language:"en",this.isRTL=n[this.language].rtl||!1,this.format=r.parseFormat(i.format||this.element.data("date-format")||n[this.language].format||"mm/dd/yyyy"),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this._attachEvents(),this.forceParse=!0,"forceParse"in i?this.forceParse=i.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse")),this.picker=t(r.template).appendTo(this.isInline?this.element:"body").on({click:t.proxy(this.click,this),mousedown:t.proxy(this.mousedown,this)}),this.isInline?this.picker.addClass("datepicker-inline"):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.isRTL&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),t(document).on("mousedown",function(e){0===t(e.target).closest(".datepicker.datepicker-inline, .datepicker.datepicker-dropdown").length&&o.hide()}),this.autoclose=!1,"autoclose"in i?this.autoclose=i.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in i?this.keyboardNavigation=i.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.viewMode=this.startViewMode=0,i.startView||this.element.data("date-start-view")){case 2:case"decade":this.viewMode=this.startViewMode=2;break;case 1:case"year":this.viewMode=this.startViewMode=1}this.todayBtn=i.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=i.todayHighlight||this.element.data("date-today-highlight")||!1,this.calendarWeeks=!1,"calendarWeeks"in i?this.calendarWeeks=i.calendarWeeks:"dateCalendarWeeks"in this.element.data()&&(this.calendarWeeks=this.element.data("date-calendar-weeks")),this.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this.weekStart=(i.weekStart||this.element.data("date-weekstart")||n[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-1/0,this.endDate=1/0,this.daysOfWeekDisabled=[],this.setStartDate(i.startDate||this.element.data("date-startdate")),this.setEndDate(i.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(i.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};i.prototype={constructor:i,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]];for(var e,i,n=0;this._events.length>n;n++)e=this._events[n][0],i=this._events[n][1],e.on(i)},_detachEvents:function(){for(var t,e,i=0;this._events.length>i;i++)t=this._events[i][0],e=this._events[i][1],t.off(e);this._events=[]},show:function(e){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.update(),this.place(),t(window).on("resize",t.proxy(this.place,this)),e&&(e.stopPropagation(),e.preventDefault()),this.element.trigger({type:"show",date:this.date})},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide(),t(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||t(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.element.trigger({type:"hide",date:this.date}))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.element.data().datepicker},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){this.date=t,this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):(this.component&&this.element.find("input").val(t),this.element.data("date",t))},getFormattedDate:function(t){return void 0===t&&(t=this.format),r.formatDate(this.date,t,this.language)},setStartDate:function(t){this.startDate=t||-1/0,this.startDate!==-1/0&&(this.startDate=r.parseDate(this.startDate,this.format,this.language)),this.update(),this.updateNavArrows()},setEndDate:function(t){this.endDate=t||1/0,1/0!==this.endDate&&(this.endDate=r.parseDate(this.endDate,this.format,this.language)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this.daysOfWeekDisabled=e||[],t.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=t.map(this.daysOfWeekDisabled,function(t){return parseInt(t,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=parseInt(this.element.parents().filter(function(){return"auto"!=t(this).css("z-index")}).first().css("z-index"))+10,i=this.component?this.component.offset():this.element.offset(),n=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:i.top+n,left:i.left,zIndex:e})}},update:function(){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),this.date=r.parseDate(t,this.format,this.language),e&&this.setValue(),this.viewDate=this.date<this.startDate?new Date(this.startDate):this.date>this.endDate?new Date(this.endDate):new Date(this.date),this.fill()},fillDow:function(){var t=this.weekStart,e="<tr>";if(this.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;this.weekStart+7>t;)e+='<th class="dow">'+n[this.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+n[this.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},fill:function(){var i=new Date(this.viewDate),o=i.getUTCFullYear(),s=i.getUTCMonth(),a=this.startDate!==-1/0?this.startDate.getUTCFullYear():-1/0,l=this.startDate!==-1/0?this.startDate.getUTCMonth():-1/0,h=1/0!==this.endDate?this.endDate.getUTCFullYear():1/0,c=1/0!==this.endDate?this.endDate.getUTCMonth():1/0,u=this.date&&this.date.valueOf(),d=new Date;this.picker.find(".datepicker-days thead th.switch").text(n[this.language].months[s]+" "+o),this.picker.find("tfoot th.today").text(n[this.language].today).toggle(this.todayBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=e(o,s-1,28,0,0,0,0),f=r.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(f),p.setUTCDate(f-(p.getUTCDay()-this.weekStart+7)%7);var g=new Date(p);g.setUTCDate(g.getUTCDate()+42),g=g.valueOf();for(var m,y=[];g>p.valueOf();){if(p.getUTCDay()==this.weekStart&&(y.push("<tr>"),this.calendarWeeks)){var v=new Date(+p+864e5*((this.weekStart-p.getUTCDay()-7)%7)),b=new Date(+v+864e5*((11-v.getUTCDay())%7)),x=new Date(+(x=e(b.getUTCFullYear(),0,1))+864e5*((11-x.getUTCDay())%7)),w=(b-x)/864e5/7+1;y.push('<td class="cw">'+w+"</td>")}m="",o>p.getUTCFullYear()||p.getUTCFullYear()==o&&s>p.getUTCMonth()?m+=" old":(p.getUTCFullYear()>o||p.getUTCFullYear()==o&&p.getUTCMonth()>s)&&(m+=" new"),this.todayHighlight&&p.getUTCFullYear()==d.getFullYear()&&p.getUTCMonth()==d.getMonth()&&p.getUTCDate()==d.getDate()&&(m+=" today"),u&&p.valueOf()==u&&(m+=" active"),(p.valueOf()<this.startDate||p.valueOf()>this.endDate||-1!==t.inArray(p.getUTCDay(),this.daysOfWeekDisabled))&&(m+=" disabled"),y.push('<td class="day'+m+'">'+p.getUTCDate()+"</td>"),p.getUTCDay()==this.weekEnd&&y.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var k=this.date&&this.date.getUTCFullYear(),C=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");k&&k==o&&C.eq(this.date.getUTCMonth()).addClass("active"),(a>o||o>h)&&C.addClass("disabled"),o==a&&C.slice(0,l).addClass("disabled"),o==h&&C.slice(c+1).addClass("disabled"),y="",o=10*parseInt(o/10,10);var _=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var D=-1;11>D;D++)y+='<span class="year'+(-1==D||10==D?" old":"")+(k==o?" active":"")+(a>o||o>h?" disabled":"")+'">'+o+"</span>",o+=1;_.html(y)},updateNavArrows:function(){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.startDate!==-1/0&&this.startDate.getUTCFullYear()>=e&&this.startDate.getUTCMonth()>=i?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&e>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.startDate!==-1/0&&this.startDate.getUTCFullYear()>=e?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&e>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},click:function(i){i.stopPropagation(),i.preventDefault();var n=t(i.target).closest("span, td, th");if(1==n.length)switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var o=r.modes[this.viewMode].navStep*("prev"==n[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o)}this.fill();break;case"today":var s=new Date;s=e(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0),this.showMode(-2);var a="linked"==this.todayBtn?null:"view";this._setDate(s,a)}break;case"span":if(!n.is(".disabled")){if(this.viewDate.setUTCDate(1),n.is(".month")){var l=n.parent().find("span").index(n);this.viewDate.setUTCMonth(l),this.element.trigger({type:"changeMonth",date:this.viewDate})}else{var h=parseInt(n.text(),10)||0;this.viewDate.setUTCFullYear(h),this.element.trigger({type:"changeYear",date:this.viewDate})}this.showMode(-1),this.fill()}break;case"td":if(n.is(".day")&&!n.is(".disabled")){var c=parseInt(n.text(),10)||1,h=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth();n.is(".old")?0===l?(l=11,h-=1):l-=1:n.is(".new")&&(11==l?(l=0,h+=1):l+=1),this._setDate(e(h,l,c,0,0,0,0))}}},_setDate:function(t,e){e&&"date"!=e||(this.date=t),e&&"view"!=e||(this.viewDate=t),this.fill(),this.setValue(),this.element.trigger({type:"changeDate",date:this.date});var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),!this.autoclose||e&&"date"!=e||this.hide())},moveMonth:function(t,e){if(!e)return t;var i,n,r=new Date(t.valueOf()),o=r.getUTCDate(),s=r.getUTCMonth(),a=Math.abs(e);if(e=e>0?1:-1,1==a)n=-1==e?function(){return r.getUTCMonth()==s}:function(){return r.getUTCMonth()!=i},i=s+e,r.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var l=0;a>l;l++)r=this.moveMonth(r,e);i=r.getUTCMonth(),r.setUTCDate(o),n=function(){return i!=r.getUTCMonth()}}for(;n();)r.setUTCDate(--o),r.setUTCMonth(i);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.startDate&&this.endDate>=t},keydown:function(t){if(this.picker.is(":not(:visible)"))return 27==t.keyCode&&this.show(),void 0;var e,i,n,r=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;e=37==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+e),n=new Date(this.viewDate),n.setUTCDate(this.viewDate.getUTCDate()+e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),r=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;e=38==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+7*e),n=new Date(this.viewDate),n.setUTCDate(this.viewDate.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),r=!0);break;case 13:this.hide(),t.preventDefault();break;case 9:this.hide()}if(r){this.element.trigger({type:"changeDate",date:this.date});var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(t){t&&(this.viewMode=Math.max(0,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+r.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}},t.fn.datepicker=function(e){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var r=t(this),o=r.data("datepicker"),s="object"==typeof e&&e;o||r.data("datepicker",o=new i(this,t.extend({},t.fn.datepicker.defaults,s))),"string"==typeof e&&"function"==typeof o[e]&&o[e].apply(o,n)})},t.fn.datepicker.defaults={},t.fn.datepicker.Constructor=i;var n=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today"}},r={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return 0===t%4&&0!==t%100||0===t%400},getDaysInMonth:function(t,e){return[31,r.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(r,o,s){if(r instanceof Date)return r;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(r)){var a,l,h=/([\-+]\d+)([dmwy])/,c=r.match(/([\-+]\d+)([dmwy])/g);r=new Date;for(var u=0;c.length>u;u++)switch(a=h.exec(c[u]),l=parseInt(a[1]),a[2]){case"d":r.setUTCDate(r.getUTCDate()+l);break;case"m":r=i.prototype.moveMonth.call(i.prototype,r,l);break;case"w":r.setUTCDate(r.getUTCDate()+7*l);break;case"y":r=i.prototype.moveYear.call(i.prototype,r,l)}return e(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),0,0,0)}var d,p,a,c=r&&r.match(this.nonpunctuation)||[],r=new Date,f={},g=["yyyy","yy","M","MM","m","mm","d","dd"],m={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};m.M=m.MM=m.mm=m.m,m.dd=m.d,r=e(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0);var y=o.parts.slice();if(c.length!=y.length&&(y=t(y).filter(function(e,i){return-1!==t.inArray(i,g)}).toArray()),c.length==y.length){for(var u=0,v=y.length;v>u;u++){if(d=parseInt(c[u],10),a=y[u],isNaN(d))switch(a){case"MM":p=t(n[s].months).filter(function(){var t=this.slice(0,c[u].length),e=c[u].slice(0,t.length);return t==e}),d=t.inArray(p[0],n[s].months)+1;break;case"M":p=t(n[s].monthsShort).filter(function(){var t=this.slice(0,c[u].length),e=c[u].slice(0,t.length);return t==e}),d=t.inArray(p[0],n[s].monthsShort)+1}f[a]=d}for(var b,u=0;g.length>u;u++)b=g[u],b in f&&!isNaN(f[b])&&m[b](r,f[b])}return r},formatDate:function(e,i,r){var o={d:e.getUTCDate(),D:n[r].daysShort[e.getUTCDay()],DD:n[r].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:n[r].monthsShort[e.getUTCMonth()],MM:n[r].months[e.getUTCMonth()],yy:(""+e.getUTCFullYear()).substring(2),yyyy:e.getUTCFullYear()};o.dd=(10>o.d?"0":"")+o.d,o.mm=(10>o.m?"0":"")+o.m;for(var e=[],s=t.extend([],i.separators),a=0,l=i.parts.length;l>a;a++)s.length&&e.push(s.shift()),e.push(o[i.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};r.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+r.headTemplate+"<tbody></tbody>"+r.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table>"+"</div>"+"</div>",t.fn.datepicker.DPGlobal=r}),define("plugins/jquery-ui",["jquery"],function(t){(function(t,e){function i(e,i){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,o=r.name,e.href&&o&&"map"===r.nodeName.toLowerCase()?(s=t("img[usemap=#"+o+"]")[0],!!s&&n(s)):!1):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.ui.version||(t.extend(t.ui,{version:"1.10.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({_focus:t.fn.focus,focus:function(e,i){return"number"==typeof e?this.each(function(){var n=this;setTimeout(function(){t(n).focus(),i&&i.call(n)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,r,o=t(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(e,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function r(e,i,n,r){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?a["inner"+n].call(this):this.each(function(){t(this).css(s,r(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){t(this).css(s,r(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var r,o=t.ui[e].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(t,e,i){var n,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;r.length>n;n++)t.options[r[n][0]]&&r[n][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0?!0:(e[n]=1,r=e[n]>0,e[n]=0,r)}}))})(t),function(t,e){var i=0,n=Array.prototype.slice,r=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(o){}r(e)},t.widget=function(i,n,r){var o,s,a,l,h={},c=i.split(".")[0];i=i.split(".")[1],o=c+"-"+i,r||(r=n,n=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},s=t[c][i],a=t[c][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new a(t,i)},t.extend(a,s,{version:r.version,_proto:t.extend({},r),_childConstructors:[]}),l=new n,l.options=t.widget.extend({},l.options),t.each(r,function(i,r){return t.isFunction(r)?(h[i]=function(){var t=function(){return n.prototype[i].apply(this,arguments)},e=function(t){return n.prototype[i].apply(this,t)};return function(){var i,n=this._super,o=this._superApply;return this._super=t,this._superApply=e,i=r.apply(this,arguments),this._super=n,this._superApply=o,i}}(),e):(h[i]=r,e)}),a.prototype=t.widget.extend(l,{widgetEventPrefix:s?l.widgetEventPrefix:i},h,{constructor:a,namespace:c,widgetName:i,widgetFullName:o}),s?(t.each(s._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete s._childConstructors):n._childConstructors.push(a),t.widget.bridge(i,a)},t.widget.extend=function(i){for(var r,o,s=n.call(arguments,1),a=0,l=s.length;l>a;a++)for(r in s[a])o=s[a][r],s[a].hasOwnProperty(r)&&o!==e&&(i[r]=t.isPlainObject(o)?t.isPlainObject(i[r])?t.widget.extend({},i[r],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,r){var o=r.prototype.widgetFullName||i;t.fn[i]=function(s){var a="string"==typeof s,l=n.call(arguments,1),h=this;return s=!a&&l.length?t.widget.extend.apply(null,[s].concat(l)):s,a?this.each(function(){var n,r=t.data(this,o);return r?t.isFunction(r[s])&&"_"!==s.charAt(0)?(n=r[s].apply(r,l),n!==r&&n!==e?(h=n&&n.jquery?h.pushStack(n.get()):n,!1):e):t.error("no such method '"+s+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+s+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(s||{})._init():t.data(this,o,new r(s,this))}),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")
},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var r,o,s,a=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(a={},r=i.split("."),i=r.shift(),r.length){for(o=a[i]=t.widget.extend({},this.options[i]),s=0;r.length-1>s;s++)o[r[s]]=o[r[s]]||{},o=o[r[s]];if(i=r.pop(),n===e)return o[i]===e?null:o[i];o[i]=n}else{if(n===e)return this.options[i]===e?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,n,r){var o,s=this;"boolean"!=typeof i&&(r=n,n=i,i=!1),r?(n=o=t(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,o=this.widget()),t.each(r,function(r,a){function l(){return i||s.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?s[a]:a).apply(s,arguments):e}"string"!=typeof a&&(l.guid=a.guid=a.guid||l.guid||t.guid++);var h=r.match(/^(\w+)\s*(.*)$/),c=h[1]+s.eventNamespace,u=h[2];u?o.delegate(u,c,l):n.bind(c,l)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var r,o,s=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(t.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?i:r.effect||i:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),s&&t.effects&&t.effects.effect[a]?n[e](r):a!==e&&n[a]?n[a](r.duration,r.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}})}(t),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,r=1===i.which,o="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return r&&!o&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(t),function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var n=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(n=t(this),!1):undefined}),t.data(e.target,o.widgetName+"-item")===o&&(n=t(e.target)),n?!this.options.handle||i||(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(r=!0)}),r)?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,n){var r,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&(t("body").css("cursor")&&(this._storedCursor=t("body").css("cursor")),t("body").css("cursor",o.cursor)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-t(document).scrollTop()<s.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed)),e.pageX-t(document).scrollLeft()<s.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],r=n.item[0],o=this._intersectsWithPointer(n),o&&n.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,r=this.placeholder.offset();this.reverting=!0,t(this.helper).animate({left:r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft),top:r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,h=this.offset.click.top,c=this.offset.click.left,u=n+h>a&&l>n+h&&e+c>o&&s>e+c;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?u:e+this.helperProportions.width/2>o&&s>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>a&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=i&&n,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return r?this.floating?s&&"right"===s||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:r&&("down"===r&&i||"up"===r&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,n,r,o,s=[],a=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(r=t(l[i]),n=r.length-1;n>=0;n--)o=t.data(r[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&a.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(function(){s.push(this)});return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,r,o,s,a,l,h,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(r=t(d[i]),n=r.length-1;n>=0;n--)o=t.data(r[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(s=u[i][1],a=u[i][0],n=0,h=a.length;h>n;n++)l=t(a[n]),l.data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,r,o;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=r.outerWidth(),n.height=r.outerHeight()),o=r.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t(document.createElement(e.currentItem[0].nodeName)).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return i||(n.style.visibility="hidden"),n},update:function(t,r){(!i||n.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var i,n,r,o,s,a,l,h,c,u=null,d=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(u&&t.contains(this.containers[i].element[0],u.element[0]))continue;u=this.containers[i],d=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(u)if(1===this.containers.length)this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1;else{for(r=1e4,o=null,s=this.containers[d].floating?"left":"top",a=this.containers[d].floating?"width":"height",l=this.positionAbs[s]+this.offset.click[s],n=this.items.length-1;n>=0;n--)t.contains(this.containers[d].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(h=this.items[n].item.offset()[s],c=!1,Math.abs(h-l)>Math.abs(h+this.items[n][a]-l)&&(c=!0,h+=this.items[n][a]),r>Math.abs(h-l)&&(r=Math.abs(h-l),o=this.items[n],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[d],o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],i=t(r.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*n}},_generatePosition:function(e){var i,n,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(i=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-r.grid[1]:i+r.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(e,i){this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!i&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||i||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(i||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)i||r.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this._storedCursor&&t("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){for(this._trigger("beforeStop",e,this._uiHash()),n=0;r.length>n;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(i||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(n=0;r.length>n;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(t)}),define("plugins/jquery-easing",["../jquery"],function(t){t.easing.jswing=t.easing.swing,t.extend(t.easing,{def:"easeOutQuad",swing:function(e,i,n,r,o){return t.easing[t.easing.def](e,i,n,r,o)},easeInQuad:function(t,e,i,n,r){return n*(e/=r)*e+i},easeOutQuad:function(t,e,i,n,r){return-n*(e/=r)*(e-2)+i},easeInOutQuad:function(t,e,i,n,r){return 1>(e/=r/2)?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,n,r){return n*(e/=r)*e*e+i},easeOutCubic:function(t,e,i,n,r){return n*((e=e/r-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,n,r){return 1>(e/=r/2)?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,n,r){return n*(e/=r)*e*e*e+i},easeOutQuart:function(t,e,i,n,r){return-n*((e=e/r-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,n,r){return 1>(e/=r/2)?n/2*e*e*e*e+i:-n/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,n,r){return n*(e/=r)*e*e*e*e+i},easeOutQuint:function(t,e,i,n,r){return n*((e=e/r-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,n,r){return 1>(e/=r/2)?n/2*e*e*e*e*e+i:n/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+i},easeOutSine:function(t,e,i,n,r){return n*Math.sin(e/r*(Math.PI/2))+i},easeInOutSine:function(t,e,i,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+i},easeInExpo:function(t,e,i,n,r){return 0==e?i:n*Math.pow(2,10*(e/r-1))+i},easeOutExpo:function(t,e,i,n,r){return e==r?i+n:n*(-Math.pow(2,-10*e/r)+1)+i},easeInOutExpo:function(t,e,i,n,r){return 0==e?i:e==r?i+n:1>(e/=r/2)?n/2*Math.pow(2,10*(e-1))+i:n/2*(-Math.pow(2,-10*--e)+2)+i},easeInCirc:function(t,e,i,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+i},easeOutCirc:function(t,e,i,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+i},easeInOutCirc:function(t,e,i,n,r){return 1>(e/=r/2)?-n/2*(Math.sqrt(1-e*e)-1)+i:n/2*(Math.sqrt(1-(e-=2)*e)+1)+i},easeInElastic:function(t,e,i,n,r){var o=1.70158,s=0,a=n;if(0==e)return i;if(1==(e/=r))return i+n;if(s||(s=.3*r),Math.abs(n)>a){a=n;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(n/a);return-(a*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s))+i},easeOutElastic:function(t,e,i,n,r){var o=1.70158,s=0,a=n;if(0==e)return i;if(1==(e/=r))return i+n;if(s||(s=.3*r),Math.abs(n)>a){a=n;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(n/a);return a*Math.pow(2,-10*e)*Math.sin((e*r-o)*2*Math.PI/s)+n+i},easeInOutElastic:function(t,e,i,n,r){var o=1.70158,s=0,a=n;if(0==e)return i;if(2==(e/=r/2))return i+n;if(s||(s=r*.3*1.5),Math.abs(n)>a){a=n;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(n/a);return 1>e?-.5*a*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)+i:.5*a*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)+n+i},easeInBack:function(t,e,i,n,r,o){return void 0==o&&(o=1.70158),n*(e/=r)*e*((o+1)*e-o)+i},easeOutBack:function(t,e,i,n,r,o){return void 0==o&&(o=1.70158),n*((e=e/r-1)*e*((o+1)*e+o)+1)+i},easeInOutBack:function(t,e,i,n,r,o){return void 0==o&&(o=1.70158),1>(e/=r/2)?n/2*e*e*(((o*=1.525)+1)*e-o)+i:n/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+i},easeInBounce:function(e,i,n,r,o){return r-t.easing.easeOutBounce(e,o-i,0,r,o)+n},easeOutBounce:function(t,e,i,n,r){return 1/2.75>(e/=r)?n*7.5625*e*e+i:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i
},easeInOutBounce:function(e,i,n,r,o){return o/2>i?.5*t.easing.easeInBounce(e,2*i,0,r,o)+n:.5*t.easing.easeOutBounce(e,2*i-o,0,r,o)+.5*r+n}})}),define("plugins/jquery-panels",["jquery"],function(t){var e;return e=function(e){var i,n,r=this;return this.element=t(e),this.slideWidth=this.element.width(),(n=this.element.children(".panel-toggle"))[0]&&(n.on("click",function(){return r.element.panel("toggle")}),this.slideWidth-=n.width()),this.state=1,this.side=this.element.hasClass("panel-right")?"right":"left",this.element.hasClass("closed")&&(this.state=0,(i={})[this.side]=-this.slideWidth,this.element.css(i).show()),this},e.prototype={constructor:e,open:function(){var t;return this.state?void 0:(this.state=1,(t={})[this.side]=0,this.element.animate(t,300).removeClass("closed"))},close:function(){var t;return this.state?(this.state=0,(t={})[this.side]=-this.slideWidth,this.element.animate(t,300).addClass("closed")):void 0},toggle:function(){return this.state?this.close():this.open()}},t.fn.panel=function(i){return this.each(function(){var n,r;return n=t(this),r=n.data("panel"),r||n.data("panel",r=new e(this)),"string"==typeof i?r[i]():void 0})},t.fn.panel.Constructor=e,t(function(){return t(".panel").panel(),t("[data-toggle*=panel]").each(function(){var e;return(e=t(this)).on("click",function(){var i;return i=e.data("target")?t(e.data("target")):e.parent(),i.panel("toggle")})})})}),define("plugins/jquery-scroller",["jquery","underscore"],function(t,e){var i,n;return n={container:window,threshold:.75,autofill:!1,resize:!0,trigger:null},i=function(i,n){var r=this;return this.element=t(i),this.options=n,this.container=t(n.container),n.resize&&t(window).on("resize",e.debounce(function(){return r.reset()},100)),this.container.on("scroll",e.debounce(function(){var t,e;return t=r.container.scrollTop(),e=(r.element.height()-r.container.height())*r.options.threshold,!r.reached&&t>=e?(r.reached=!0,r.element.trigger("scroller")):void 0},100)),n.trigger&&this.element.on("scroller",n.trigger),this},i.prototype={constructor:i,reset:function(){return this.reached=!1,this.options.autofill&&0>this.element.height()-this.container.height()&&this.element.trigger("scroller"),this}},t.fn.scroller=function(e){var r;return r=t.isPlainObject(e)?t.extend({},n,e):t.extend({},n),this.each(function(){var n,o;return n=t(this),o=n.data("scroller"),o||n.data("scroller",o=new i(n,r)),"string"==typeof e?o[e]():void 0})},t.fn.scroller.Constructor=i});var __slice=[].slice;define("cilantro/ui/core",["../core","date","inputio","plugins/backbone-marionette","plugins/backbone-charts","plugins/bootstrap","plugins/bootstrap-typeselect","plugins/bootstrap-datepicker","plugins/jquery-ui","plugins/jquery-easing","plugins/jquery-panels","plugins/jquery-scroller"],function(t){var e;return t.Marionette=Backbone.Marionette,t.Marionette.View.prototype.publish=t.publish,t.Marionette.View.prototype.unsubscribe=t.unsubscribe,t.Marionette.View.prototype.subscribe=function(e,i,n){var r,o,s;null==this._channels&&(this._channels={}),n||(r=null!=(s=(o=this._channels)[e])?s:o[e]=[],r.push(i)),t.subscribe(e,i,n)},t.Marionette.View.prototype.onClose=function(){var t,e,i,n,r,o;if(null!=this._channels){o=this._channels;for(t in o)for(i=o[t],n=0,r=i.length;r>n;n++)e=i[n],this.unsubscribe(t,e)}},t.Marionette.View.prototype.bindSubscribers=function(){var t,e,i,n,r;if(null!=this.subscribers){n=this.subscribers,r=[];for(t in n){if(i=n[t],null==(e=this[i]))throw Error(""+i+" not a method");r.push(this.subscribe(t,e))}return r}},e=t.Marionette.View.prototype.constructor,t.Marionette.View.prototype.constructor=function(){var t;return t=arguments.length>=1?__slice.call(arguments,0):[],e.apply(this,t),this.bindSubscribers()},t});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("cilantro/ui/concept/search",["../core"],function(t){var e;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.className="concept-search",e}(t.Marionette.ItemView),{ConceptSearch:e}}),define("text",["module"],function(t){var e,i,n=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,o=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,s="undefined"!=typeof location&&location.href,a=s&&location.protocol&&location.protocol.replace(/\:/,""),l=s&&location.hostname,h=s&&(location.port||void 0),c=[],u=t.config&&t.config()||{};return e={version:"2.0.5",strip:function(t){if(t){t=t.replace(r,"");var e=t.match(o);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:u.createXhr||function(){var t,e,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;3>e;e+=1){i=n[e];try{t=new ActiveXObject(i)}catch(r){}if(t){n=[i];break}}return t},parseName:function(t){var e,i,n,r=!1,o=t.indexOf("."),s=0===t.indexOf("./")||0===t.indexOf("../");return-1!==o&&(!s||o>1)?(e=t.substring(0,o),i=t.substring(o+1,t.length)):e=t,n=i||e,o=n.indexOf("!"),-1!==o&&(r="strip"===n.substring(o+1),n=n.substring(0,o),i?i=n:e=n),{moduleName:e,ext:i,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,i,n,r){var o,s,a,l=e.xdRegExp.exec(t);return l?(o=l[2],s=l[3],s=s.split(":"),a=s[1],s=s[0],!(o&&o!==i||s&&s.toLowerCase()!==n.toLowerCase()||(a||s)&&a!==r)):!0},finishLoad:function(t,i,n,r){n=i?e.strip(n):n,u.isBuild&&(c[t]=n),r(n)},load:function(t,i,n,r){if(r.isBuild&&!r.inlineText)return n(),void 0;u.isBuild=r.isBuild;var o=e.parseName(t),c=o.moduleName+(o.ext?"."+o.ext:""),d=i.toUrl(c),p=u.useXhr||e.useXhr;!s||p(d,a,l,h)?e.get(d,function(i){e.finishLoad(t,o.strip,i,n)},function(t){n.error&&n.error(t)}):i([c],function(t){e.finishLoad(o.moduleName+"."+o.ext,o.strip,t,n)})},write:function(t,i,n){if(c.hasOwnProperty(i)){var r=e.jsEscape(c[i]);n.asModule(t+"!"+i,"define(function () { return '"+r+"';});\n")}},writeFile:function(t,i,n,r,o){var s=e.parseName(i),a=s.ext?"."+s.ext:"",l=s.moduleName+a,h=n.toUrl(s.moduleName+a)+".js";e.load(l,n,function(){var i=function(t){return r(h,t)};i.asModule=function(t,e){return r.asModule(t,h,e)},e.write(t,l,i,o)},o)}},"node"===u.env||!u.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(i=require.nodeRequire("fs"),e.get=function(t,e){var n=i.readFileSync(t,"utf8");0===n.indexOf("﻿")&&(n=n.substring(1)),e(n)}):"xhr"===u.env||!u.env&&e.createXhr()?e.get=function(t,i,n,r){var o,s=e.createXhr();if(s.open("GET",t,!0),r)for(o in r)r.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),r[o]);u.onXhr&&u.onXhr(s,t),s.onreadystatechange=function(){var e,r;4===s.readyState&&(e=s.status,e>399&&600>e?(r=Error(t+" HTTP status: "+e),r.xhr=s,n(r)):i(s.responseText))},s.send(null)}:("rhino"===u.env||!u.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java)&&(e.get=function(t,e){var i,n,r="utf-8",o=new java.io.File(t),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),r)),l="";try{for(i=new java.lang.StringBuffer,n=a.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),i.append(n);null!==(n=a.readLine());)i.append(s),i.append(n);l=""+i+""}finally{a.close()}e(l)}),e}),define("tpl",["module","text","underscore"],function(module,text,_){var settings=module.config()||{};return{load:function(t,e,i,n){return n.isBuild?(text.load.call(text,t,e,i,n),void 0):(e(["text!"+t],function(t){i(t?_.template(t,void 0,settings):function(){return""})}),void 0)},write:function(pluginName,moduleName,write,config){text.write.call(text,pluginName,moduleName,{asModule:function(name,contents){contents=contents.substr(contents.indexOf("return")+7),contents=contents.substr(0,contents.lastIndexOf(";")-3);try{var template=_.template(eval(contents),void 0,settings);write.asModule(pluginName+"!"+moduleName,"define(function() { return "+template.source+" });")}catch(err){throw console.error("~~~~~"),console.error("FAILED TO COMPILE "+pluginName+"!"+moduleName),console.error("Error:		"+(err+"")),console.error("\n"),err&&err.source&&(console.error("Error Source:\n"),console.error(err.source),console.error("\n\n")),console.error("Original Contents:\n"),console.error(contents),console.error("\n\n"),err}}},config)}}}),define("tpl!templates/views/concept.html",[],function(){return function(t){var e,i="";return Array.prototype.join,i+="<!--\nRenders a generic representation of a concept.\n-->\n\n<h4 class=name>\n    <a href=#>"+(null==(e=t.name)?"":e)+"</a>\n    ",t.category&&(i+="\n        <small>"+(null==(e=t.category.name)?"":e)+"</small>\n    "),i+="\n</h4>\n",t.description&&(i+="\n    <p class=description>"+(null==(e=t.description)?"":e)+"</p>\n"),i+="\n"}});var __slice=[].slice,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("cilantro/ui/concept/item",["../core","tpl!templates/views/concept.html"],function(){var t,e,i;return e=arguments[0],i=arguments.length>=2?__slice.call(arguments,1):[],i=e._.object(["item"],i),t=function(t){function e(){return this.toggleFocus=__bind(this.toggleFocus,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.className="concept",e.prototype.template=i.item,e.prototype.serializeData=function(){var t;return t=this.model.toJSON(),t.description||(t.description=t.fields[0].description),t},e.prototype.toggleFocus=function(t){return this.$el.toggleClass("active",t===this.model.id)},e}(e.Marionette.ItemView),t.prototype.subscribers={},t.prototype.subscribers[e.CONCEPT_FOCUS]="toggleFocus",{Concept:t}}),define("tpl!templates/views/concept-accordian-group.html",[],function(){return function(t){var e,i="";return Array.prototype.join,i+='<!--\nThis is used to render concepts grouped by category. Each group represents\na top-level category. Second-level categories are rendered with the .accordian-items\nlist directly.\n-->\n\n<div class=accordian-heading data-toggle="collapse" data-target="#category-'+(null==(e=t.id)?"":e)+'">\n    '+(null==(e=t.name)?"":e)+'\n    <i class="pull-right icon-plus"></i>\n</div>\n<div id="category-'+(null==(e=t.id)?"":e)+'" class="collapse">\n    <ul class="accordian-items nav nav-list"></ul>\n</div>\n'}}),define("tpl!templates/views/concept-accordian-item.html",[],function(){return function(t){var e,i="";return Array.prototype.join,i+="<!--\nRenders a generic representation of a concept.\n-->\n\n<a href=#>"+(null==(e=t.name)?"":e)+"</a>\n"}});var __slice=[].slice,__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("cilantro/ui/concept/index",["../core","./item","tpl!templates/views/concept-accordian-group.html","tpl!templates/views/concept-accordian-item.html"],function(){var t,e,i,n,r,o,s;return r=arguments[0],o=arguments[1],s=arguments.length>=3?__slice.call(arguments,2):[],s=r._.object(["group","item"],s),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.className="empty",e.prototype.template=function(){return"No concepts have been setup"},e}(r.Marionette.ItemView),e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.tagName="li",e.prototype.className="",e.prototype.events={"click a":"click"},e.prototype.template=s.item,e.prototype.click=function(t){return t.preventDefault(),r.publish(r.CONCEPT_FOCUS,this.model.id)},e}(o.Concept),t=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return __extends(i,t),i.prototype.className="accordian-group",i.prototype.itemView=e,i.prototype.ui={icon:".accordian-heading i"},i.prototype.events={"click .accordian-heading":"toggleIcon"},i.prototype.toggleIcon=function(){return this.ui.icon.toggleClass("icon-plus icon-minus")},i.prototype.template=function(t){var i,n,o,a,l,h,c,u,d,p,f,g;for(i=r.$(s.group(t)),n=i.find(".accordian-items"),h=t.sections,o=u=0,p=h.length;p>u;o=++u)for(l=h[o],h.length>1&&n.append("<li class=nav-header>"+l.name+"</li>"),g=l.models,d=0,f=g.length;f>d;d++)a=g[d],c=new e({model:a}),c.render(),n.append(c.el);return i},i}(r.Marionette.ItemView),i=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return __extends(i,e),i.prototype.className="accordian",i.prototype.itemView=t,i.prototype.emptyView=n,i.prototype.showCollection=function(){var t;t=this.collection,this.collection=new r.Backbone.Collection(this.groupModels()),i.__super__.showCollection.apply(this,arguments),this.collection=t},i.prototype.getGroup=function(t){var e;if(null!=t.category){for(e=t.category;null!=e.parent;)e=e.parent;return e}return{id:null,name:"Other"}},i.prototype.getSection=function(t){var e;return null!=(null!=(e=t.category)?e.parent:void 0)?t.category:{id:null,name:"Other"}},i.prototype.groupModels=function(){var t,e,i,n,o,s,a,l,h,c,u;for(n={},u=this.collection.models,h=0,c=u.length;c>h;h++)s=u[h],s.get("queryview")&&(t=s.attributes,i=null,l=null,i=this.getGroup(t),l=this.getSection(t),(e=n[i.id])||(e=n[i.id]=r._.extend({},i,{sections:{}})),(a=e.sections[l.id])||(a=e.sections[l.id]=r._.extend({},l,{models:[]})),a.models.push(s));for(o in n)e=n[o],e.sections=_.sortBy(r._.values(e.sections,"order"));return r._.sortBy(r._.values(n,"order"))},i}(r.Marionette.CollectionView),{ConceptIndex:i}});var __slice=[].slice,__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("cilantro/ui/concept",["./core","./concept/search","./concept/item","./concept/index"],function(){var t,e,i,n,r;return i=arguments[0],n=arguments.length>=2?__slice.call(arguments,1):[],e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.className="concept-workspace",e}(i.Marionette.CollectionView),t=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.className="concept-form",e}(i.Marionette.ItemView),(r=i._).extend.apply(r,[{ConceptWorkspace:e,ConceptForm:t}].concat(__slice.call(n)))}),define("tpl!templates/views/field.html",[],function(){return function(t){var e,i="";return Array.prototype.join,i+="<!--\nRenders a generic representation of a field.\n-->\n\n<h4 class=name>"+(null==(e=t.name)?"":e)+"</h4>\n",t.description&&(i+="\n    <p class=description>"+(null==(e=t.description)?"":e)+"</p>\n"),i+="\n"}});var __slice=[].slice,__bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("cilantro/ui/field/item",["../core","tpl!templates/views/field.html"],function(){var t,e,i;return e=arguments[0],i=arguments.length>=2?__slice.call(arguments,1):[],i=e._.object(["item"],i),t=function(t){function e(){return this.toggleFocus=__bind(this.toggleFocus,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.className="field",e.prototype.template=i.item,e.prototype.toggleFocus=function(t){return this.$el.toggleClass("active",t===this.model.id)},e}(e.Marionette.ItemView),t.prototype.subscribers={},t.prototype.subscribers[e.FIELD_FOCUS]="toggleFocus",{Field:t}}),define("tpl!templates/views/field-stats.html",[],function(){return function(t){var e,i="";Array.prototype.join,i+="<!--\nRenders an unstyled list of stats for a given field such\nas Avg, Min, Max, etc.\n-->\n";for(var n in t)i+="\n<li><span class=stat-label>"+(null==(e=n)?"":e)+"</span> "+(null==(e=t[n])?"":e)+"</li>\n";return i+="\n"}});var __slice=[].slice,__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("cilantro/ui/field/stats",["../core","tpl!templates/views/field-stats.html"],function(){var t,e,i,n,r;return e=arguments[0],r=arguments.length>=2?__slice.call(arguments,1):[],r=e._.object(["stats"],r),i=function(t){return t=t.replace(/[_\-\s]+/," ").trim(),t.charAt(0).toUpperCase()+t.substr(1)},n=function(t){return e._.isNumber(t)?e.utils.prettyNumber(t):t},t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return __extends(o,t),o.prototype.tagName="ul",o.prototype.className="field-stats",o.prototype.template=r.stats,o.prototype.parseData=function(t){var e,r,o;r={};for(e in t)o=t[e],"_"!==e.slice(0,1)&&(r[i(e)]=n(o));return r},o.prototype.render=function(){var t=this;return this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this),this.model.stats(function(i){var n,r;return r=t.getTemplate(),i=t.parseData(i),n=e.Marionette.Renderer.render(r,i),t.$el.html(n),t.bindUIElements(),t.triggerMethod("render",t),t.triggerMethod("item:rendered",t)}),this},o}(e.Marionette.ItemView),{FieldStats:t}}),define("tpl!templates/views/field-form.html",[],function(){return function(){var t="";return Array.prototype.join,t+="<!--\nRenders a field form. This acts as a container for other\nviews related to the field.\n-->\n\n<div class=main></div>\n<div class=stats></div>\n<div class=chart></div>\n<div class=controls></div>\n"}});var __slice=[].slice,__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("cilantro/ui/field/form",["../core","./item","./stats","tpl!templates/views/field-form.html"],function(){var t,e,i,n,r;return e=arguments[0],i=arguments[1],n=arguments[2],r=arguments.length>=4?__slice.call(arguments,3):[],r=e._.object(["form"],r),t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return __extends(o,t),o.prototype.className="field-form",o.prototype.template=r.form,o.prototype.initialize=function(){return this.context=this.options.context},o.prototype.regions={main:".main",stats:".stats",controls:".controls",chart:".chart"},o.prototype.regionViews={main:i.Field,stats:n.FieldStats},o.prototype.onRender=function(){var t,i,n,r,o;r=e._.result(this,"regionViews"),o=[];for(t in r)i=r[t],n=new i({model:this.model,context:this.context}),o.push(this[t].show(n));return o},o}(e.Marionette.Layout),{FieldForm:t}});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("cilantro/ui/controls/core",["../core"],function(t){var e;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.getId=function(){},e.prototype.getOperator=function(){},e.prototype.getValue=function(){},e.prototype.getNulls=function(){},e.prototype.setId=function(){},e.prototype.setOperator=function(){},e.prototype.setValue=function(){},e.prototype.setNulls=function(){},e.prototype.get=function(){return{id:this.getId(),operator:this.getOperator(),value:this.getValue(),"null":this.getNulls()}},e.prototype.set=function(t){return null==t&&(t={}),this.setId(t.id),this.setValue(t.value),this.setOperator(t.operator),this.setNulls(t["null"])},e}(t.Marionette.ItemView),{Control:e}});var __slice=[].slice;define("cilantro/ui/controls",["./core","./controls/core"],function(){var t,e,i;return t=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],(i=t._).extend.apply(i,[{}].concat(__slice.call(e)))});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("cilantro/ui/field/controls",["../core","../controls","inputio"],function(t,e,i){var n,r;return n="input,select,textarea",r=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return __extends(r,e),r.prototype.options={managed:!1,idSelector:"[data-id]",valueSelector:"[data-value]",operatorSelector:"[data-operator]",nullsSelector:"[data-nulls]",idAttr:"data-id",valueAttr:"data-value",operatorAttr:"data-operator",nullsAttr:"data-nulls"},r.prototype.events={"keyup input":"change","change select":"change","click input[type=radio],input[type=checkbox]":"change"},r.prototype.initialize=function(){return this.managed=this.options.managed,this.idSelector=this.options.idSelector,this.valueSelector=this.options.valueSelector,this.operatorSelector=this.options.operatorSelector,this.nullsSelector=this.options.nullsSelector,this.idAttr=this.options.idAttr,this.valueAttr=this.options.valueAttr,this.operatorAttr=this.options.operatorAttr,this.nullsAttr=this.options.nullsAttr,this._resetReferences()},r.prototype._resetReferences=function(){return this.$id=this.$el.is(this.idSelector)?this.$el:this.$(this.idSelector),this.$operator=this.$el.is(this.operatorSelector)?this.$el:this.$(this.operatorSelector),this.$value=this.$el.is(this.valueSelector)?this.$el:this.$(this.valueSelector),this.$nulls=this.$el.is(this.nullsSelector)?this.$el:this.$(this.nullsSelector)},r.prototype._deferenceNode=function(t){var e;return null!=(e=this._nodeCache[t])?(delete this._nodeCache[t],this.node.cid===id&&delete this.node,e):void 0},r.prototype.getId=function(){var t;return this.model.id?this.model.id:(t=this.$id.is(n)?i.get(this.$id):this.$id.attr(this.idAttr),this.cleanId(t))},r.prototype.getOperator=function(){var t;return t=this.$operator.is(n)?i.get(this.$operator):this.$operator.attr(this.operatorAttr),this.cleanOperator(t)},r.prototype.getValue=function(){var t;return t=this.$value.is(n)?i.get(this.$value):this.$value.attr(this.valueAttr),this.cleanValue(t)},r.prototype.getNulls=function(){var t;return t=this.$nulls.is(n)?i.get(this.$nulls):this.$nulls.attr(this.nullsAttr),this.cleanNulls(t)},r.prototype.setId=function(t){this.model.id||(this.$id.is(n)?i.set(this.$id,t):this.$id.attr(this.idAttr,t))},r.prototype.setOperator=function(t){this.$operator.is(n)?i.set(this.$operator,t):this.$operator.attr(this.operatorAttr,t)},r.prototype.setValue=function(t){this.$value.is(n)?i.set(this.$value,t):this.$value.attr(this.valueAttr,t)},r.prototype.setNulls=function(t){t=Boolean(t),this.$nulls.is(n)?i.set(this.$nulls,t):this.$nulls.attr(this.nullsAttr,t)},r.prototype.change=function(){return this.trigger("change",this,this.get())},r.prototype.add=function(){var e;return this.node=e=new t.models.ContextNode(this.get()),this._nodeCache[e.cid]=e,this.managed||(this.$add.hide(),this.$update.show()),this.trigger("add",this,e)},r.prototype.update=function(){return this.node.set(this.get()),this.trigger("update",this,this.node)},r.prototype.remove=function(t){var e;return e=this._deferenceNode(t),this.managed||this.node||(this.$update.hide(),this.$add.show()),this.trigger("remove",this,e)},r.prototype.reset=function(){return this.set()},r}(e.Control),{FieldControl:r}});var __slice=[].slice;define("cilantro/ui/field",["./core","./field/item","./field/form","./field/controls","./field/stats"],function(){var t,e,i;return t=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],(i=t._).extend.apply(i,[{}].concat(__slice.call(e)))}),define("cilantro/ui/charts/utils",["highcharts"],function(t){var e,i,n,r;return i=function(e){var i;return i=t.getOptions().colors,i[e%i.length]},e=/\d{4}-\d{2]-\d{2]/,n=function(t){var e,i,n;return n=parseInt(t.substr(0,4)),i=parseInt(t.substr(5,2))-1,e=parseInt(t.substr(8,2)),Date.UTC(n,i,e)},r=function(e,r,o){var s,a,l,h,c,u,d,p,f,g,m,y,v,b,x,w,k,C,_,D,M,T,P,S,A,I,O,L,E,N,$,z,H,F,W,B,R,Y;if(r.length>2)throw Error("3-dimensional charts are not supported.                Specify which field the series applies to.");if(!r)throw Error("The field instances must be supplied");for(T=[],E=[],M=r[0],L=r[1],P=M.get("name"),D=M.get("enumerable")||"boolean"===M.get("simple_type"),S="date"===M.get("simple_type")?"datetime":"linear",L?(N=L.get("name"),O=L.get("enumerable")||"boolean"===L.get("simple_type"),$="date"===L.get("simple_type")?"datetime":"linear"):(N="Frequency",O=!1,$="linear"),D&&O?(a="scatter",T.push(" "),E.push(" ")):a=!L||D||O?O?"scatter":"datetime"===S||"datetime"===$?"line":"column":"scatter",x={},l=e.clustered,R=e.data,u=H=0,W=R.length;W>H;u=++H)v=R[u],C=null!=o?v.values.slice(o,o+1)[0]:"",(b=x[C])?(b.data.push(v),b.stats.min=Math.min(b.stats.min,v.count),b.stats.max=Math.max(b.stats.max,v.count),b.stats.sum+=v.count):(b=x[C]={name:C,stats:{min:v.count,max:v.count,sum:v.count}},b.data=D&&O?[{x:0,y:0,radius:0,sentinel:!0},v]:[v]),_=v.values[0],null===_&&(_="(no data)"),D?(-1===(d=T.indexOf(""+_))&&(d=T.push(""+_)-1),_=d):"datetime"===S&&(_=n(_)),L?(I=v.values[1],null===I&&(I="(no data)"),O?(-1===(d=E.indexOf(""+I))&&(d=E.push(""+I)-1),I=d):"datetime"===$&&(I=n(I))):I=v.count,v.x=_,v.y=I;w=[],D&&O&&(A=T.push(" ")-1,z=E.push(" ")-1),k=0;for(f in x){if(b=x[f],D&&O&&(b.data.push({x:0,y:z,radius:0,sentinel:!0}),b.data.push({x:A,y:z,radius:0,sentinel:!0}),b.data.push({x:A,y:z,radius:0,sentinel:!0})),w.push(b),s=b.stats.avg=b.stats.sum/parseFloat(b.data.length,10),p=b.stats.max,"scatter"===a)for(Y=b.data,F=0,B=Y.length;B>F;F++)y=Y[F],y.sentinel||(g=Math.min(Math.max(parseInt(5*(parseFloat(y.count,10)/s))/10,.05),1),h=t.Color(i(k)).setOpacity(g),y.marker={fillColor:h.get()},D&&(y.marker.radius=7));k++}return c="scatter"===a&&D?w[1]?function(){return"<b>"+this.series.name+"</b><br>"+this.point.count+" for ("+this.series.xAxis.categories[this.point.x]+", "+this.series.yAxis.categories[this.point.y]+")"}:function(){return""+this.point.count+" for ("+this.series.xAxis.categories[this.point.x]+", "+this.series.yAxis.categories[this.point.y]+")"}:w[1]?function(){return"<b>"+this.series.name+"</b><br>"+this.point.count+" for ("+t.numberFormat(parseFloat(this.x))+", "+t.numberFormat(parseFloat(this.y))+")"}:function(){return""+this.point.count+" for ("+t.numberFormat(parseFloat(this.x))+", "+t.numberFormat(parseFloat(this.y))+")"},m={clustered:l,chart:{type:a},title:{text:L?""+P+" vs. "+N:""+P+" "+N},series:w,xAxis:{title:{text:P},type:S},yAxis:{title:{text:N},type:$},tooltip:{formatter:c,borderRadius:3,borderWidth:1}},T.length&&(m.xAxis.categories=T),E.length&&(m.yAxis.categories=E),w[1]||(m.legend={enabled:!1}),"scatter"===a&&(m.yAxis.gridLineWidth=0,D||(m.chart.zoomType="xy")),m},{processResponse:r}});var __bind=function(t,e){return function(){return t.apply(e,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("cilantro/ui/charts",["./core","./charts/utils"],function(t,e){var i,n,r;return r=_.template('        <div class="area-container chart-container">            <div class=btn-toolbar>                <div class=btn-group>                    <button class="btn btn-mini fullsize" title="Toggle Fullsize"><i class=icon-resize-full alt="Toggle Fullsize"></i></button>                    <!--<button class="btn btn-mini outliers" title="Show Outliers" disabled><i class=icon-eye-open alt="Show Outliers"></i></button>-->                </div>                <div class=btn-group>                    <button class="btn btn-mini edit" title="Edit"><i class=icon-wrench alt="Edit"></i></button>                </div>                <div class=btn-group>                    <button class="btn btn-danger btn-mini remove" title="Remove"><i class=icon-remove alt="Remove"></i></button>                </div>            </div>            <div class=heading>                <span class="label label-info"></span>            </div>            <div class=editable>                <form class=form>                    <fieldset>                        <label>X-Axis <select name=x-axis></select></label>                        <label>Y-Axis <select name=y-axis></select></label>                        <label>Series <select name=series></select></label>                        <button class="btn btn-primary">Update</button>                    </fieldset>                </form>            </div>            <div class=chart>            </div>        </div>    '),i=function(t){function e(){return this.render=__bind(this.render,this),e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.tagName="select",e.prototype.options={enumerableOnly:!1},e.prototype.initialize=function(){return this.collection.when(this.render)},e.prototype.render=function(){var t,e,i,n;for(this.$el.append("<option value=>---</option>"),n=this.collection.models,e=0,i=n.length;i>e;e++)t=n[e],t.get("searchable")||(!this.options.enumerableOnly||t.get("enumerable"))&&this.$el.append('<option value="'+t.id+'">'+t.get("name")+"</option>");return this.$el},e.prototype.getSelected=function(){return this.collection.get(parseInt(this.$el.val()))},e}(t.Marionette.ItemView),n=function(n){function o(){return this.chartClick=__bind(this.chartClick,this),o.__super__.constructor.apply(this,arguments)}return __extends(o,n),o.prototype.options={editable:!0},o.prototype.events={mouseenter:"showToolbar",mouseleave:"hideToolbar","click .fullsize":"toggleExpanded","click .outliers":"toggleOutliers","click .edit":"toggleEdit","click .remove":"removeChart",submit:"changeChart","change .editable select":"disableSelected"},o.prototype.initialize=function(){var t;return o.__super__.initialize.apply(this,arguments),this.setElement(r()),this.$heading=this.$(".heading"),this.$label=this.$heading.find(".label"),this.$renderArea=this.$(".chart"),this.$toolbar=this.$(".btn-toolbar"),this.$fullsizeToggle=this.$(".fullsize"),this.$form=this.$(".editable"),this.options.editable===!1?(this.$form.detach(),this.$toolbar.detach()):(this.xAxis=new i({el:this.$el.find("[name=x-axis]"),collection:this.collection}),this.yAxis=new i({el:this.$el.find("[name=y-axis]"),collection:this.collection}),this.series=new i({el:this.$el.find("[name=series]"),enumerableOnly:!0,collection:this.collection}),this.model?(this.model.get("xAxis")&&this.$form.hide(),(t=this.model.get("expanded"))?this.expand():this.contract()):void 0)},o.prototype.enableChartEvents=function(){return this.setOption("plotOptions.series.events.click",this.chartClick)},o.prototype.chartClick=function(e){var i,n;return i=null!=(n=e.point.category)?n:e.point.name,e.point.select(!e.point.selected,!0),this.node=new Serrano.ContextNode(this.get()),t.publish("context."+this.model.id+"/edit",this.node)},o.prototype.interactive=function(t){var e,i;return"pie"===(e=null!=(i=t.chart)?i.type:void 0)?!0:"column"===e&&null!=t.xAxis.categories?!0:!1},o.prototype.getValue=function(){var t,e;return e=this.chart.getSelectPoints(),function(){var i,n,r;for(r=[],i=0,n=e.length;n>i;i++)t=e[i],r.push(t.category);return r}()},o.prototype.getOperator=function(){return"in"},o.prototype.render=function(){return this.$el},o.prototype.renderChart=function(t){var e,i;return this.chart&&"function"==typeof(i=this.chart).destroy&&i.destroy(),this.$label.detach(),this.$heading.text(t.title.text),t.title.text="",t.series[0]?(this.$form.hide(),e=[],t.clustered&&e.push("Clustered"),e[0]&&(this.$label.text(e.join(", ")).show(),this.$heading.append(this.$label)),this.interactive(t)&&this.enableChartEvents(),$.extend(!0,t,this.chartOptions),t.chart.renderTo=this.$renderArea[0],this.chart=new Highcharts.Chart(t),this):(this.$renderArea.html("<p class=no-data>Unfortunately, there is                    no data to graph here.</p>"),void 0)
},o.prototype.disableSelected=function(t){var e,i;return e=$(t.target),this.xAxis.el===t.target?(this.yAxis.$("option").prop("disabled",!1),this.series.$("option").prop("disabled",!1)):this.yAxis.el===t.target?(this.xAxis.$("option").prop("disabled",!1),this.series.$("option").prop("disabled",!1)):(this.xAxis.$("option").prop("disabled",!1),this.yAxis.$("option").prop("disabled",!1)),""!==(i=e.val())?this.xAxis.el===t.target?(this.yAxis.$("option[value="+i+"]").prop("disabled",!0).val(""),this.series.$("option[value="+i+"]").prop("disabled",!0).val("")):this.yAxis.el===t.target?(this.xAxis.$("option[value="+i+"]").prop("disabled",!0).val(""),this.series.$("option[value="+i+"]").prop("disabled",!0).val("")):(this.xAxis.$("option[value="+i+"]").prop("disabled",!0).val(""),this.yAxis.$("option[value="+i+"]").prop("disabled",!0).val("")):void 0},o.prototype.toggleExpanded=function(){var t;return t=this.model.get("expanded"),t?this.contract():this.expand(),this.model.save({expanded:!t})},o.prototype.resize=function(){var t;return t=this.$renderArea.width(),this.chart?this.chart.setSize(t,null,!1):void 0},o.prototype.expand=function(){return this.$fullsizeToggle.children("i").removeClass("icon-resize-small").addClass("icon-resize-full"),this.$el.addClass("expanded"),this.resize()},o.prototype.contract=function(){return this.$fullsizeToggle.children("i").removeClass("icon-resize-full").addClass("icon-resize-small"),this.$el.removeClass("expanded"),this.resize()},o.prototype.hideToolbar=function(){return this.$toolbar.fadeOut(200)},o.prototype.showToolbar=function(){return this.$toolbar.fadeIn(200)},o.prototype.toggleOutliers=function(){var t,e,i,n,r;for(n=this.chart.series,r=[],e=0,i=n.length;i>e;e++)t=n[e];return r},o.prototype.toggleEdit=function(){return this.$form.is(":visible")?this.$form.fadeOut(300):this.$form.fadeIn(300)},o.prototype.removeChart=function(){var t;return this.chart&&"function"==typeof(t=this.chart).destroy&&t.destroy(),this.$el.remove(),this.model?this.model.destroy():void 0},o.prototype.update=function(t,i,n,r){var o,s,a,l=this;if(this.options.data){a=this.options.data;for(o in a)s=a[o],i?i+="&"+o+"="+s:i=""+o+"="+s}return this.$el.addClass("loading"),Backbone.ajax({url:t,data:i,success:function(t){return l.$el.removeClass("loading"),l.renderChart(e.processResponse(t,n,r))}})},o.prototype.changeChart=function(t){var e=this;return t&&t.preventDefault(),this.collection.when(function(){var i,n,r,o,s,a,l;return null==t&&((a=e.model.get("xAxis"))&&e.xAxis.$el.val(""+a),(l=e.model.get("yAxis"))&&e.yAxis.$el.val(""+l),(r=e.model.get("series"))&&e.series.$el.val(""+r)),a=e.xAxis.getSelected(),l=e.yAxis.getSelected(),r=e.series.getSelected(),a?(s=e.model.get("_links").distribution.href,n=[a],i="dimension="+a.id,l&&(n.push(l),i=i+"&dimension="+l.id),r&&(o=l?2:1,i=i+"&dimension="+r.id),t&&e.model&&e.model.set({xAxis:a.id,yAxis:l?l.id:void 0,series:r?r.id:void 0}),e.update(s,i,n,o)):void 0})},o}(t.Backbone.Chart),{FieldDistributionChart:n}});var __hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define("cilantro/ui/filter",["./core"],function(t){var e,i;return e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.className="filter",e}(t.Marionette.ItemView),i=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return __extends(i,t),i.prototype.className="named-filter",i.prototype.itemView=e,i}(t.Marionette.CollectionView),{NamedFilter:i,Filter:e}});var __slice=[].slice;define("cilantro/ui",["cilantro","./ui/concept","./ui/field","./ui/charts","./ui/filter","./ui/controls"],function(){var t,e,i;return t=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],t.ui=(i=t._).extend.apply(i,[{}].concat(__slice.call(e))),t});